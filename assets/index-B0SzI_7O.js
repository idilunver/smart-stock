(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function QA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var my={exports:{}},_u={};var A1;function dN(){if(A1)return _u;A1=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:o}}return _u.Fragment=t,_u.jsx=e,_u.jsxs=e,_u}var C1;function mN(){return C1||(C1=1,my.exports=dN()),my.exports}var C=mN(),py={exports:{}},vu={},gy={exports:{}},yy={};var R1;function pN(){return R1||(R1=1,(function(n){function t(Y,rt){var ft=Y.length;Y.push(rt);t:for(;0<ft;){var At=ft-1>>>1,lt=Y[At];if(0<r(lt,rt))Y[At]=rt,Y[ft]=lt,ft=At;else break t}}function e(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var rt=Y[0],ft=Y.pop();if(ft!==rt){Y[0]=ft;t:for(var At=0,lt=Y.length,j=lt>>>1;At<j;){var et=2*(At+1)-1,ct=Y[et],ht=et+1,mt=Y[ht];if(0>r(ct,ft))ht<lt&&0>r(mt,ct)?(Y[At]=mt,Y[ht]=ft,At=ht):(Y[At]=ct,Y[et]=ft,At=et);else if(ht<lt&&0>r(mt,ft))Y[At]=mt,Y[ht]=ft,At=ht;else break t}}return rt}function r(Y,rt){var ft=Y.sortIndex-rt.sortIndex;return ft!==0?ft:Y.id-rt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],d=[],g=1,_=null,v=3,T=!1,S=!1,R=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function Q(Y){for(var rt=e(d);rt!==null;){if(rt.callback===null)i(d);else if(rt.startTime<=Y)i(d),rt.sortIndex=rt.expirationTime,t(f,rt);else break;rt=e(d)}}function W(Y){if(R=!1,Q(Y),!S)if(e(f)!==null)S=!0,it||(it=!0,z());else{var rt=e(d);rt!==null&&wt(W,rt.startTime-Y)}}var it=!1,M=-1,w=5,D=-1;function V(){return k?!0:!(n.unstable_now()-D<w)}function O(){if(k=!1,it){var Y=n.unstable_now();D=Y;var rt=!0;try{t:{S=!1,R&&(R=!1,B(M),M=-1),T=!0;var ft=v;try{e:{for(Q(Y),_=e(f);_!==null&&!(_.expirationTime>Y&&V());){var At=_.callback;if(typeof At=="function"){_.callback=null,v=_.priorityLevel;var lt=At(_.expirationTime<=Y);if(Y=n.unstable_now(),typeof lt=="function"){_.callback=lt,Q(Y),rt=!0;break e}_===e(f)&&i(f),Q(Y)}else i(f);_=e(f)}if(_!==null)rt=!0;else{var j=e(d);j!==null&&wt(W,j.startTime-Y),rt=!1}}break t}finally{_=null,v=ft,T=!1}rt=void 0}}finally{rt?z():it=!1}}}var z;if(typeof F=="function")z=function(){F(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Nt=N.port2;N.port1.onmessage=O,z=function(){Nt.postMessage(null)}}else z=function(){P(O,0)};function wt(Y,rt){M=P(function(){Y(n.unstable_now())},rt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var rt=3;break;default:rt=v}var ft=v;v=rt;try{return Y()}finally{v=ft}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(Y,rt){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ft=v;v=Y;try{return rt()}finally{v=ft}},n.unstable_scheduleCallback=function(Y,rt,ft){var At=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?At+ft:At):ft=At,Y){case 1:var lt=-1;break;case 2:lt=250;break;case 5:lt=1073741823;break;case 4:lt=1e4;break;default:lt=5e3}return lt=ft+lt,Y={id:g++,callback:rt,priorityLevel:Y,startTime:ft,expirationTime:lt,sortIndex:-1},ft>At?(Y.sortIndex=ft,t(d,Y),e(f)===null&&Y===e(d)&&(R?(B(M),M=-1):R=!0,wt(W,ft-At))):(Y.sortIndex=lt,t(f,Y),S||T||(S=!0,it||(it=!0,z()))),Y},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(Y){var rt=v;return function(){var ft=v;v=rt;try{return Y.apply(this,arguments)}finally{v=ft}}}})(yy)),yy}var k1;function gN(){return k1||(k1=1,gy.exports=pN()),gy.exports}var _y={exports:{}},It={};var I1;function yN(){if(I1)return It;I1=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),v=Symbol.iterator;function T(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,k={};function P(j,et,ct){this.props=j,this.context=et,this.refs=k,this.updater=ct||S}P.prototype.isReactComponent={},P.prototype.setState=function(j,et){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,et,"setState")},P.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function B(){}B.prototype=P.prototype;function F(j,et,ct){this.props=j,this.context=et,this.refs=k,this.updater=ct||S}var Q=F.prototype=new B;Q.constructor=F,R(Q,P.prototype),Q.isPureReactComponent=!0;var W=Array.isArray;function it(){}var M={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function D(j,et,ct){var ht=ct.ref;return{$$typeof:n,type:j,key:et,ref:ht!==void 0?ht:null,props:ct}}function V(j,et){return D(j.type,et,j.props)}function O(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function z(j){var et={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ct){return et[ct]})}var N=/\/+/g;function Nt(j,et){return typeof j=="object"&&j!==null&&j.key!=null?z(""+j.key):et.toString(36)}function wt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(it,it):(j.status="pending",j.then(function(et){j.status==="pending"&&(j.status="fulfilled",j.value=et)},function(et){j.status==="pending"&&(j.status="rejected",j.reason=et)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Y(j,et,ct,ht,mt){var gt=typeof j;(gt==="undefined"||gt==="boolean")&&(j=null);var Lt=!1;if(j===null)Lt=!0;else switch(gt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(j.$$typeof){case n:case t:Lt=!0;break;case g:return Lt=j._init,Y(Lt(j._payload),et,ct,ht,mt)}}if(Lt)return mt=mt(j),Lt=ht===""?"."+Nt(j,0):ht,W(mt)?(ct="",Lt!=null&&(ct=Lt.replace(N,"$&/")+"/"),Y(mt,et,ct,"",function(Hi){return Hi})):mt!=null&&(O(mt)&&(mt=V(mt,ct+(mt.key==null||j&&j.key===mt.key?"":(""+mt.key).replace(N,"$&/")+"/")+Lt)),et.push(mt)),1;Lt=0;var Ee=ht===""?".":ht+":";if(W(j))for(var Mt=0;Mt<j.length;Mt++)ht=j[Mt],gt=Ee+Nt(ht,Mt),Lt+=Y(ht,et,ct,gt,mt);else if(Mt=T(j),typeof Mt=="function")for(j=Mt.call(j),Mt=0;!(ht=j.next()).done;)ht=ht.value,gt=Ee+Nt(ht,Mt++),Lt+=Y(ht,et,ct,gt,mt);else if(gt==="object"){if(typeof j.then=="function")return Y(wt(j),et,ct,ht,mt);throw et=String(j),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function rt(j,et,ct){if(j==null)return j;var ht=[],mt=0;return Y(j,ht,"","",function(gt){return et.call(ct,gt,mt++)}),ht}function ft(j){if(j._status===-1){var et=j._result;et=et(),et.then(function(ct){(j._status===0||j._status===-1)&&(j._status=1,j._result=ct)},function(ct){(j._status===0||j._status===-1)&&(j._status=2,j._result=ct)}),j._status===-1&&(j._status=0,j._result=et)}if(j._status===1)return j._result.default;throw j._result}var At=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},lt={map:rt,forEach:function(j,et,ct){rt(j,function(){et.apply(this,arguments)},ct)},count:function(j){var et=0;return rt(j,function(){et++}),et},toArray:function(j){return rt(j,function(et){return et})||[]},only:function(j){if(!O(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return It.Activity=_,It.Children=lt,It.Component=P,It.Fragment=e,It.Profiler=r,It.PureComponent=F,It.StrictMode=i,It.Suspense=f,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,It.__COMPILER_RUNTIME={__proto__:null,c:function(j){return M.H.useMemoCache(j)}},It.cache=function(j){return function(){return j.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(j,et,ct){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ht=R({},j.props),mt=j.key;if(et!=null)for(gt in et.key!==void 0&&(mt=""+et.key),et)!w.call(et,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&et.ref===void 0||(ht[gt]=et[gt]);var gt=arguments.length-2;if(gt===1)ht.children=ct;else if(1<gt){for(var Lt=Array(gt),Ee=0;Ee<gt;Ee++)Lt[Ee]=arguments[Ee+2];ht.children=Lt}return D(j.type,mt,ht)},It.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},It.createElement=function(j,et,ct){var ht,mt={},gt=null;if(et!=null)for(ht in et.key!==void 0&&(gt=""+et.key),et)w.call(et,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(mt[ht]=et[ht]);var Lt=arguments.length-2;if(Lt===1)mt.children=ct;else if(1<Lt){for(var Ee=Array(Lt),Mt=0;Mt<Lt;Mt++)Ee[Mt]=arguments[Mt+2];mt.children=Ee}if(j&&j.defaultProps)for(ht in Lt=j.defaultProps,Lt)mt[ht]===void 0&&(mt[ht]=Lt[ht]);return D(j,gt,mt)},It.createRef=function(){return{current:null}},It.forwardRef=function(j){return{$$typeof:u,render:j}},It.isValidElement=O,It.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:ft}},It.memo=function(j,et){return{$$typeof:d,type:j,compare:et===void 0?null:et}},It.startTransition=function(j){var et=M.T,ct={};M.T=ct;try{var ht=j(),mt=M.S;mt!==null&&mt(ct,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(it,At)}catch(gt){At(gt)}finally{et!==null&&ct.types!==null&&(et.types=ct.types),M.T=et}},It.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},It.use=function(j){return M.H.use(j)},It.useActionState=function(j,et,ct){return M.H.useActionState(j,et,ct)},It.useCallback=function(j,et){return M.H.useCallback(j,et)},It.useContext=function(j){return M.H.useContext(j)},It.useDebugValue=function(){},It.useDeferredValue=function(j,et){return M.H.useDeferredValue(j,et)},It.useEffect=function(j,et){return M.H.useEffect(j,et)},It.useEffectEvent=function(j){return M.H.useEffectEvent(j)},It.useId=function(){return M.H.useId()},It.useImperativeHandle=function(j,et,ct){return M.H.useImperativeHandle(j,et,ct)},It.useInsertionEffect=function(j,et){return M.H.useInsertionEffect(j,et)},It.useLayoutEffect=function(j,et){return M.H.useLayoutEffect(j,et)},It.useMemo=function(j,et){return M.H.useMemo(j,et)},It.useOptimistic=function(j,et){return M.H.useOptimistic(j,et)},It.useReducer=function(j,et,ct){return M.H.useReducer(j,et,ct)},It.useRef=function(j){return M.H.useRef(j)},It.useState=function(j){return M.H.useState(j)},It.useSyncExternalStore=function(j,et,ct){return M.H.useSyncExternalStore(j,et,ct)},It.useTransition=function(){return M.H.useTransition()},It.version="19.2.4",It}var D1;function d_(){return D1||(D1=1,_y.exports=yN()),_y.exports}var vy={exports:{}},pn={};var M1;function _N(){if(M1)return pn;M1=1;var n=d_();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,d,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:f,containerInfo:d,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,pn.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,g)},pn.flushSync=function(f){var d=l.T,g=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=d,i.p=g,i.d.f()}},pn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},pn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},pn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,_=u(g,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:T}):g==="script"&&i.d.X(f,{crossOrigin:_,integrity:v,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},pn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=u(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},pn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,_=u(g,d.crossOrigin);i.d.L(f,g,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},pn.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=u(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},pn.requestFormReset=function(f){i.d.r(f)},pn.unstable_batchedUpdates=function(f,d){return f(d)},pn.useFormState=function(f,d,g){return l.H.useFormState(f,d,g)},pn.useFormStatus=function(){return l.H.useHostTransitionStatus()},pn.version="19.2.4",pn}var N1;function vN(){if(N1)return vy.exports;N1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),vy.exports=_N(),vy.exports}var O1;function bN(){if(O1)return vu;O1=1;var n=gN(),t=d_(),e=vN();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var c=s,h=a;;){var p=c.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){c=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===c)return f(p),s;if(y===h)return f(p),a;y=y.sibling}throw Error(i(188))}if(c.return!==h.return)c=p,h=y;else{for(var x=!1,A=p.child;A;){if(A===c){x=!0,c=p,h=y;break}if(A===h){x=!0,h=p,c=y;break}A=A.sibling}if(!x){for(A=y.child;A;){if(A===c){x=!0,c=y,h=p;break}if(A===h){x=!0,h=y,c=p;break}A=A.sibling}if(!x)throw Error(i(189))}}if(c.alternate!==h)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:a}function g(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=g(s),a!==null)return a;s=s.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),F=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var N=Symbol.for("react.client.reference");function Nt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===N?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case P:return"Profiler";case k:return"StrictMode";case W:return"Suspense";case it:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case F:return s.displayName||"Context";case B:return(s._context.displayName||"Context")+".Consumer";case Q:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return a=s.displayName||null,a!==null?a:Nt(s.type)||"Memo";case w:a=s._payload,s=s._init;try{return Nt(s(a))}catch{}}return null}var wt=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},At=[],lt=-1;function j(s){return{current:s}}function et(s){0>lt||(s.current=At[lt],At[lt]=null,lt--)}function ct(s,a){lt++,At[lt]=s.current,s.current=a}var ht=j(null),mt=j(null),gt=j(null),Lt=j(null);function Ee(s,a){switch(ct(gt,a),ct(mt,s),ct(ht,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?WT(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=WT(a),s=XT(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}et(ht),ct(ht,s)}function Mt(){et(ht),et(mt),et(gt)}function Hi(s){s.memoizedState!==null&&ct(Lt,s);var a=ht.current,c=XT(a,s.type);a!==c&&(ct(mt,s),ct(ht,c))}function yi(s){mt.current===s&&(et(ht),et(mt)),Lt.current===s&&(et(Lt),mu._currentValue=ft)}var _i,qi;function wn(s){if(_i===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);_i=a&&a[1]||"",qi=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_i+s+qi}var mc=!1;function wa(s,a){if(!s||mc)return"";mc=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(J){var $=J}Reflect.construct(s,[],at)}else{try{at.call()}catch(J){$=J}s.call(at.prototype)}}else{try{throw Error()}catch(J){$=J}(at=s())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(J){if(J&&$&&typeof J.stack=="string")return[J.stack,$.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),x=y[0],A=y[1];if(x&&A){var L=x.split(`
`),K=A.split(`
`);for(p=h=0;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;for(;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;if(h===L.length||p===K.length)for(h=L.length-1,p=K.length-1;1<=h&&0<=p&&L[h]!==K[p];)p--;for(;1<=h&&0<=p;h--,p--)if(L[h]!==K[p]){if(h!==1||p!==1)do if(h--,p--,0>p||L[h]!==K[p]){var tt=`
`+L[h].replace(" at new "," at ");return s.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",s.displayName)),tt}while(1<=h&&0<=p);break}}}finally{mc=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?wn(c):""}function pc(s,a){switch(s.tag){case 26:case 27:case 5:return wn(s.type);case 16:return wn("Lazy");case 13:return s.child!==a&&a!==null?wn("Suspense Fallback"):wn("Suspense");case 19:return wn("SuspenseList");case 0:case 15:return wa(s.type,!1);case 11:return wa(s.type.render,!1);case 1:return wa(s.type,!0);case 31:return wn("Activity");default:return""}}function gc(s){try{var a="",c=null;do a+=pc(s,c),c=s,s=s.return;while(s);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Oe=Object.prototype.hasOwnProperty,Ye=n.unstable_scheduleCallback,or=n.unstable_cancelCallback,gp=n.unstable_shouldYield,Ph=n.unstable_requestPaint,Sn=n.unstable_now,Sa=n.unstable_getCurrentPriorityLevel,yc=n.unstable_ImmediatePriority,_c=n.unstable_UserBlockingPriority,lr=n.unstable_NormalPriority,yp=n.unstable_LowPriority,Vh=n.unstable_IdlePriority,Lh=n.log,zh=n.unstable_setDisableYieldValue,vi=null,rn=null;function Qn(s){if(typeof Lh=="function"&&zh(s),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(vi,s)}catch{}}var Ce=Math.clz32?Math.clz32:Uh,jh=Math.log,Mo=Math.LN2;function Uh(s){return s>>>=0,s===0?32:31-(jh(s)/Mo|0)|0}var Gi=256,Aa=262144,Pe=4194304;function Ki(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Yi(s,a,c){var h=s.pendingLanes;if(h===0)return 0;var p=0,y=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var A=h&134217727;return A!==0?(h=A&~y,h!==0?p=Ki(h):(x&=A,x!==0?p=Ki(x):c||(c=A&~s,c!==0&&(p=Ki(c))))):(A=h&~y,A!==0?p=Ki(A):x!==0?p=Ki(x):c||(c=h&~s,c!==0&&(p=Ki(c)))),p===0?0:a!==0&&a!==p&&(a&y)===0&&(y=p&-p,c=a&-a,y>=c||y===32&&(c&4194048)!==0)?a:p}function bi(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function _p(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bh(){var s=Pe;return Pe<<=1,(Pe&62914560)===0&&(Pe=4194304),s}function $i(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Ca(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function vp(s,a,c,h,p,y){var x=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var A=s.entanglements,L=s.expirationTimes,K=s.hiddenUpdates;for(c=x&~c;0<c;){var tt=31-Ce(c),at=1<<tt;A[tt]=0,L[tt]=-1;var $=K[tt];if($!==null)for(K[tt]=null,tt=0;tt<$.length;tt++){var J=$[tt];J!==null&&(J.lane&=-536870913)}c&=~at}h!==0&&Ra(s,h,0),y!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=y&~(x&~a))}function Ra(s,a,c){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-Ce(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|c&261930}function vc(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var h=31-Ce(c),p=1<<h;p&a|s[h]&a&&(s[h]|=a),c&=~p}}function bc(s,a){var c=a&-a;return c=(c&42)!==0?1:ka(c),(c&(s.suspendedLanes|a))!==0?0:c}function ka(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Cs(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Fh(){var s=rt.p;return s!==0?s:(s=window.event,s===void 0?32:v1(s.type))}function xi(s,a){var c=rt.p;try{return rt.p=s,a()}finally{rt.p=c}}var Ti=Math.random().toString(36).slice(2),Ve="__reactFiber$"+Ti,tn="__reactProps$"+Ti,Wi="__reactContainer$"+Ti,No="__reactEvents$"+Ti,bp="__reactListeners$"+Ti,Hh="__reactHandles$"+Ti,qh="__reactResources$"+Ti,Xi="__reactMarker$"+Ti;function Oo(s){delete s[Ve],delete s[tn],delete s[No],delete s[bp],delete s[Hh]}function Qi(s){var a=s[Ve];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Wi]||c[Ve]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=i1(s);s!==null;){if(c=s[Ve])return c;s=i1(s)}return a}s=c,c=s.parentNode}return null}function Zn(s){if(s=s[Ve]||s[Wi]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function Bn(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Zi(s){var a=s[qh];return a||(a=s[qh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Le(s){s[Xi]=!0}var xc=new Set,Tc={};function Ji(s,a){ts(s,a),ts(s+"Capture",a)}function ts(s,a){for(Tc[s]=a,s=0;s<a.length;s++)xc.add(a[s])}var Ec=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wc={},Sc={};function Gh(s){return Oe.call(Sc,s)?!0:Oe.call(wc,s)?!1:Ec.test(s)?Sc[s]=!0:(wc[s]=!0,!1)}function Po(s,a,c){if(Gh(a))if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+c)}}function Fn(s,a,c){if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+c)}}function ze(s,a,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(a,c,""+h)}}function en(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function cr(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ac(s,a,c){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var p=h.get,y=h.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return p.call(this)},set:function(x){c=""+x,y.call(this,x)}}),Object.defineProperty(s,a,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ee(s){if(!s._valueTracker){var a=cr(s)?"checked":"value";s._valueTracker=Ac(s,a,""+s[a])}}function Ia(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return s&&(h=cr(s)?s.checked?"true":"false":s.value),s=h,s!==c?(a.setValue(s),!0):!1}function es(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Da=/[\n"\\]/g;function In(s){return s.replace(Da,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Vo(s,a,c,h,p,y,x,A){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),a!=null?x==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+en(a)):s.value!==""+en(a)&&(s.value=""+en(a)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),a!=null?Cc(s,x,en(a)):c!=null?Cc(s,x,en(c)):h!=null&&s.removeAttribute("value"),p==null&&y!=null&&(s.defaultChecked=!!y),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.name=""+en(A):s.removeAttribute("name")}function Kh(s,a,c,h,p,y,x,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||a!=null)){ee(s);return}c=c!=null?""+en(c):"",a=a!=null?""+en(a):c,A||a===s.value||(s.value=a),s.defaultValue=a}h=h??p,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=A?s.checked:!!h,s.defaultChecked=!!h,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x),ee(s)}function Cc(s,a,c){a==="number"&&es(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function ur(s,a,c,h){if(s=s.options,a){a={};for(var p=0;p<c.length;p++)a["$"+c[p]]=!0;for(c=0;c<s.length;c++)p=a.hasOwnProperty("$"+s[c].value),s[c].selected!==p&&(s[c].selected=p),p&&h&&(s[c].defaultSelected=!0)}else{for(c=""+en(c),a=null,p=0;p<s.length;p++){if(s[p].value===c){s[p].selected=!0,h&&(s[p].defaultSelected=!0);return}a!==null||s[p].disabled||(a=s[p])}a!==null&&(a.selected=!0)}}function Yh(s,a,c){if(a!=null&&(a=""+en(a),a!==s.value&&(s.value=a),c==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=c!=null?""+en(c):""}function hr(s,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(i(92));if(wt(h)){if(1<h.length)throw Error(i(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=en(a),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h),ee(s)}function Dn(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var $h=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rc(s,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,c):typeof c!="number"||c===0||$h.has(a)?a==="float"?s.cssFloat=c:s[a]=(""+c).trim():s[a]=c+"px"}function kc(s,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var p in a)h=a[p],a.hasOwnProperty(p)&&c[p]!==h&&Rc(s,p,h)}else for(var y in a)a.hasOwnProperty(y)&&Rc(s,y,a[y])}function Lo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zo(s){return fr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ei(){}var Ic=null;function Jn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var dr=null,ns=null;function Ma(s){var a=Zn(s);if(a&&(s=a.stateNode)){var c=s[tn]||null;t:switch(s=a.stateNode,a.type){case"input":if(Vo(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+In(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==s&&h.form===s.form){var p=h[tn]||null;if(!p)throw Error(i(90));Vo(h,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===s.form&&Ia(h)}break t;case"textarea":Yh(s,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&ur(s,!!c.multiple,a,!1)}}}var jo=!1;function mr(s,a,c){if(jo)return s(a,c);jo=!0;try{var h=s(a);return h}finally{if(jo=!1,(dr!==null||ns!==null)&&(Hf(),dr&&(a=dr,s=ns,ns=dr=null,Ma(a),s)))for(a=0;a<s.length;a++)Ma(s[a])}}function wi(s,a){var c=s.stateNode;if(c===null)return null;var h=c[tn]||null;if(h===null)return null;c=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break t;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Na=!1;if(ti)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){Na=!0}}),window.addEventListener("test",ae,ae),window.removeEventListener("test",ae,ae)}catch{Na=!1}var is=null,Dc=null,Oa=null;function Mc(){if(Oa)return Oa;var s,a=Dc,c=a.length,h,p="value"in is?is.value:is.textContent,y=p.length;for(s=0;s<c&&a[s]===p[s];s++);var x=c-s;for(h=1;h<=x&&a[c-h]===p[y-h];h++);return Oa=p.slice(s,1<h?1-h:void 0)}function Pa(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Rs(){return!0}function Si(){return!1}function an(s){function a(c,h,p,y,x){this._reactName=c,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(c=s[A],this[A]=c?c(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Rs:Si,this.isPropagationStopped=Si,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Rs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Rs)},persist:function(){},isPersistent:Rs}),a}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ss=an(ks),pr=_({},ks,{view:0,detail:0}),Nc=an(pr),gr,Uo,rs,Bo=_({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==rs&&(rs&&s.type==="mousemove"?(gr=s.screenX-rs.screenX,Uo=s.screenY-rs.screenY):Uo=gr=0,rs=s),gr)},movementY:function(s){return"movementY"in s?s.movementY:Uo}}),Oc=an(Bo),Va=_({},Bo,{dataTransfer:0}),Xh=an(Va),Qh=_({},pr,{relatedTarget:0}),La=an(Qh),Pc=_({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),Zh=an(Pc),Fo=_({},ks,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Jh=an(Fo),tf=_({},ks,{data:0}),as=an(tf),ef={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rf(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=sf[s])?!!a[s]:!1}function yr(){return rf}var An=_({},pr,{key:function(s){if(s.key){var a=ef[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Pa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?nf[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yr,charCode:function(s){return s.type==="keypress"?Pa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Pa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),af=an(An),of=_({},Bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Is=an(of),m=_({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yr}),b=an(m),E=_({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=an(E),q=_({},Bo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X=an(q),ut=_({},ks,{newState:0,oldState:0}),Ot=an(ut),Re=[9,13,27,32],Qt=ti&&"CompositionEvent"in window,ve=null;ti&&"documentMode"in document&&(ve=document.documentMode);var ei=ti&&"TextEvent"in window&&!ve,os=ti&&(!Qt||ve&&8<ve&&11>=ve),Ai=" ",Ci=!1;function za(s,a){switch(s){case"keyup":return Re.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ho(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var qo=!1;function LD(s,a){switch(s){case"compositionend":return Ho(a);case"keypress":return a.which!==32?null:(Ci=!0,Ai);case"textInput":return s=a.data,s===Ai&&Ci?null:s;default:return null}}function zD(s,a){if(qo)return s==="compositionend"||!Qt&&za(s,a)?(s=Mc(),Oa=Dc=is=null,qo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return os&&a.locale!=="ko"?null:a.data;default:return null}}var jD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ab(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!jD[s.type]:a==="textarea"}function ob(s,a,c,h){dr?ns?ns.push(h):ns=[h]:dr=h,a=Xf(a,"onChange"),0<a.length&&(c=new ss("onChange","change",null,c,h),s.push({event:c,listeners:a}))}var Vc=null,Lc=null;function UD(s){HT(s,0)}function lf(s){var a=Bn(s);if(Ia(a))return s}function lb(s,a){if(s==="change")return a}var cb=!1;if(ti){var xp;if(ti){var Tp="oninput"in document;if(!Tp){var ub=document.createElement("div");ub.setAttribute("oninput","return;"),Tp=typeof ub.oninput=="function"}xp=Tp}else xp=!1;cb=xp&&(!document.documentMode||9<document.documentMode)}function hb(){Vc&&(Vc.detachEvent("onpropertychange",fb),Lc=Vc=null)}function fb(s){if(s.propertyName==="value"&&lf(Lc)){var a=[];ob(a,Lc,s,Jn(s)),mr(UD,a)}}function BD(s,a,c){s==="focusin"?(hb(),Vc=a,Lc=c,Vc.attachEvent("onpropertychange",fb)):s==="focusout"&&hb()}function FD(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return lf(Lc)}function HD(s,a){if(s==="click")return lf(a)}function qD(s,a){if(s==="input"||s==="change")return lf(a)}function GD(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Hn=typeof Object.is=="function"?Object.is:GD;function zc(s,a){if(Hn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var p=c[h];if(!Oe.call(a,p)||!Hn(s[p],a[p]))return!1}return!0}function db(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function mb(s,a){var c=db(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=a&&h>=a)return{node:c,offset:a-s};s=h}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=db(c)}}function pb(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?pb(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function gb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=es(s.document);a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=es(s.document)}return a}function Ep(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var KD=ti&&"documentMode"in document&&11>=document.documentMode,Go=null,wp=null,jc=null,Sp=!1;function yb(s,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Sp||Go==null||Go!==es(h)||(h=Go,"selectionStart"in h&&Ep(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),jc&&zc(jc,h)||(jc=h,h=Xf(wp,"onSelect"),0<h.length&&(a=new ss("onSelect","select",null,a,c),s.push({event:a,listeners:h}),a.target=Go)))}function ja(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Ko={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionrun:ja("Transition","TransitionRun"),transitionstart:ja("Transition","TransitionStart"),transitioncancel:ja("Transition","TransitionCancel"),transitionend:ja("Transition","TransitionEnd")},Ap={},_b={};ti&&(_b=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function Ua(s){if(Ap[s])return Ap[s];if(!Ko[s])return s;var a=Ko[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in _b)return Ap[s]=a[c];return s}var vb=Ua("animationend"),bb=Ua("animationiteration"),xb=Ua("animationstart"),YD=Ua("transitionrun"),$D=Ua("transitionstart"),WD=Ua("transitioncancel"),Tb=Ua("transitionend"),Eb=new Map,Cp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cp.push("scrollEnd");function Ri(s,a){Eb.set(s,a),Ji(a,[s])}var cf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ni=[],Yo=0,Rp=0;function uf(){for(var s=Yo,a=Rp=Yo=0;a<s;){var c=ni[a];ni[a++]=null;var h=ni[a];ni[a++]=null;var p=ni[a];ni[a++]=null;var y=ni[a];if(ni[a++]=null,h!==null&&p!==null){var x=h.pending;x===null?p.next=p:(p.next=x.next,x.next=p),h.pending=p}y!==0&&wb(c,p,y)}}function hf(s,a,c,h){ni[Yo++]=s,ni[Yo++]=a,ni[Yo++]=c,ni[Yo++]=h,Rp|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function kp(s,a,c,h){return hf(s,a,c,h),ff(s)}function Ba(s,a){return hf(s,null,null,a),ff(s)}function wb(s,a,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var p=!1,y=s.return;y!==null;)y.childLanes|=c,h=y.alternate,h!==null&&(h.childLanes|=c),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(p=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,p&&a!==null&&(p=31-Ce(c),s=y.hiddenUpdates,h=s[p],h===null?s[p]=[a]:h.push(a),a.lane=c|536870912),y):null}function ff(s){if(50<ou)throw ou=0,zg=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var $o={};function XD(s,a,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(s,a,c,h){return new XD(s,a,c,h)}function Ip(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ds(s,a){var c=s.alternate;return c===null?(c=qn(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function Sb(s,a){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,a=c.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function df(s,a,c,h,p,y){var x=0;if(h=s,typeof s=="function")Ip(s)&&(x=1);else if(typeof s=="string")x=eN(s,c,ht.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case D:return s=qn(31,c,a,p),s.elementType=D,s.lanes=y,s;case R:return Fa(c.children,p,y,a);case k:x=8,p|=24;break;case P:return s=qn(12,c,a,p|2),s.elementType=P,s.lanes=y,s;case W:return s=qn(13,c,a,p),s.elementType=W,s.lanes=y,s;case it:return s=qn(19,c,a,p),s.elementType=it,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:x=10;break t;case B:x=9;break t;case Q:x=11;break t;case M:x=14;break t;case w:x=16,h=null;break t}x=29,c=Error(i(130,s===null?"null":typeof s,"")),h=null}return a=qn(x,c,a,p),a.elementType=s,a.type=h,a.lanes=y,a}function Fa(s,a,c,h){return s=qn(7,s,h,a),s.lanes=c,s}function Dp(s,a,c){return s=qn(6,s,null,a),s.lanes=c,s}function Ab(s){var a=qn(18,null,null,0);return a.stateNode=s,a}function Mp(s,a,c){return a=qn(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Cb=new WeakMap;function ii(s,a){if(typeof s=="object"&&s!==null){var c=Cb.get(s);return c!==void 0?c:(a={value:s,source:a,stack:gc(a)},Cb.set(s,a),a)}return{value:s,source:a,stack:gc(a)}}var Wo=[],Xo=0,mf=null,Uc=0,si=[],ri=0,_r=null,ls=1,cs="";function Ms(s,a){Wo[Xo++]=Uc,Wo[Xo++]=mf,mf=s,Uc=a}function Rb(s,a,c){si[ri++]=ls,si[ri++]=cs,si[ri++]=_r,_r=s;var h=ls;s=cs;var p=32-Ce(h)-1;h&=~(1<<p),c+=1;var y=32-Ce(a)+p;if(30<y){var x=p-p%5;y=(h&(1<<x)-1).toString(32),h>>=x,p-=x,ls=1<<32-Ce(a)+p|c<<p|h,cs=y+s}else ls=1<<y|c<<p|h,cs=s}function Np(s){s.return!==null&&(Ms(s,1),Rb(s,1,0))}function Op(s){for(;s===mf;)mf=Wo[--Xo],Wo[Xo]=null,Uc=Wo[--Xo],Wo[Xo]=null;for(;s===_r;)_r=si[--ri],si[ri]=null,cs=si[--ri],si[ri]=null,ls=si[--ri],si[ri]=null}function kb(s,a){si[ri++]=ls,si[ri++]=cs,si[ri++]=_r,ls=a.id,cs=a.overflow,_r=s}var on=null,pe=null,Kt=!1,vr=null,ai=!1,Pp=Error(i(519));function br(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bc(ii(a,s)),Pp}function Ib(s){var a=s.stateNode,c=s.type,h=s.memoizedProps;switch(a[Ve]=s,a[tn]=h,c){case"dialog":Ut("cancel",a),Ut("close",a);break;case"iframe":case"object":case"embed":Ut("load",a);break;case"video":case"audio":for(c=0;c<cu.length;c++)Ut(cu[c],a);break;case"source":Ut("error",a);break;case"img":case"image":case"link":Ut("error",a),Ut("load",a);break;case"details":Ut("toggle",a);break;case"input":Ut("invalid",a),Kh(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Ut("invalid",a);break;case"textarea":Ut("invalid",a),hr(a,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||YT(a.textContent,c)?(h.popover!=null&&(Ut("beforetoggle",a),Ut("toggle",a)),h.onScroll!=null&&Ut("scroll",a),h.onScrollEnd!=null&&Ut("scrollend",a),h.onClick!=null&&(a.onclick=Ei),a=!0):a=!1,a||br(s,!0)}function Db(s){for(on=s.return;on;)switch(on.tag){case 5:case 31:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:on=on.return}}function Qo(s){if(s!==on)return!1;if(!Kt)return Db(s),Kt=!0,!1;var a=s.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||Jg(s.type,s.memoizedProps)),c=!c),c&&pe&&br(s),Db(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));pe=n1(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));pe=n1(s)}else a===27?(a=pe,Or(s.type)?(s=sy,sy=null,pe=s):pe=a):pe=on?li(s.stateNode.nextSibling):null;return!0}function Ha(){pe=on=null,Kt=!1}function Vp(){var s=vr;return s!==null&&(Pn===null?Pn=s:Pn.push.apply(Pn,s),vr=null),s}function Bc(s){vr===null?vr=[s]:vr.push(s)}var Lp=j(null),qa=null,Ns=null;function xr(s,a,c){ct(Lp,a._currentValue),a._currentValue=c}function Os(s){s._currentValue=Lp.current,et(Lp)}function zp(s,a,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===c)break;s=s.return}}function jp(s,a,c,h){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var y=p.dependencies;if(y!==null){var x=p.child;y=y.firstContext;t:for(;y!==null;){var A=y;y=p;for(var L=0;L<a.length;L++)if(A.context===a[L]){y.lanes|=c,A=y.alternate,A!==null&&(A.lanes|=c),zp(y.return,c,s),h||(x=null);break t}y=A.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(i(341));x.lanes|=c,y=x.alternate,y!==null&&(y.lanes|=c),zp(x,c,s),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===s){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function Zo(s,a,c,h){s=null;for(var p=a,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var A=p.type;Hn(p.pendingProps.value,x.value)||(s!==null?s.push(A):s=[A])}}else if(p===Lt.current){if(x=p.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(mu):s=[mu])}p=p.return}s!==null&&jp(a,s,c,h),a.flags|=262144}function pf(s){for(s=s.firstContext;s!==null;){if(!Hn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ga(s){qa=s,Ns=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ln(s){return Mb(qa,s)}function gf(s,a){return qa===null&&Ga(s),Mb(s,a)}function Mb(s,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Ns===null){if(s===null)throw Error(i(308));Ns=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Ns=Ns.next=a;return c}var QD=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(c){return c()})}},ZD=n.unstable_scheduleCallback,JD=n.unstable_NormalPriority,je={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Up(){return{controller:new QD,data:new Map,refCount:0}}function Fc(s){s.refCount--,s.refCount===0&&ZD(JD,function(){s.controller.abort()})}var Hc=null,Bp=0,Jo=0,tl=null;function tM(s,a){if(Hc===null){var c=Hc=[];Bp=0,Jo=qg(),tl={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Bp++,a.then(Nb,Nb),a}function Nb(){if(--Bp===0&&Hc!==null){tl!==null&&(tl.status="fulfilled");var s=Hc;Hc=null,Jo=0,tl=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function eM(s,a){var c=[],h={status:"pending",value:null,reason:null,then:function(p){c.push(p)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var p=0;p<c.length;p++)(0,c[p])(a)},function(p){for(h.status="rejected",h.reason=p,p=0;p<c.length;p++)(0,c[p])(void 0)}),h}var Ob=Y.S;Y.S=function(s,a){yT=Sn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&tM(s,a),Ob!==null&&Ob(s,a)};var Ka=j(null);function Fp(){var s=Ka.current;return s!==null?s:ue.pooledCache}function yf(s,a){a===null?ct(Ka,Ka.current):ct(Ka,a.pool)}function Pb(){var s=Fp();return s===null?null:{parent:je._currentValue,pool:s}}var el=Error(i(460)),Hp=Error(i(474)),_f=Error(i(542)),vf={then:function(){}};function Vb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Lb(s,a,c){switch(c=s[c],c===void 0?s.push(a):c!==a&&(a.then(Ei,Ei),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,jb(s),s;default:if(typeof a.status=="string")a.then(Ei,Ei);else{if(s=ue,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=h}},function(h){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,jb(s),s}throw $a=a,el}}function Ya(s){try{var a=s._init;return a(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?($a=c,el):c}}var $a=null;function zb(){if($a===null)throw Error(i(459));var s=$a;return $a=null,s}function jb(s){if(s===el||s===_f)throw Error(i(483))}var nl=null,qc=0;function bf(s){var a=qc;return qc+=1,nl===null&&(nl=[]),Lb(nl,s,a)}function Gc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function xf(s,a){throw a.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Ub(s){function a(H,U){if(s){var G=H.deletions;G===null?(H.deletions=[U],H.flags|=16):G.push(U)}}function c(H,U){if(!s)return null;for(;U!==null;)a(H,U),U=U.sibling;return null}function h(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function p(H,U){return H=Ds(H,U),H.index=0,H.sibling=null,H}function y(H,U,G){return H.index=G,s?(G=H.alternate,G!==null?(G=G.index,G<U?(H.flags|=67108866,U):G):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function x(H){return s&&H.alternate===null&&(H.flags|=67108866),H}function A(H,U,G,nt){return U===null||U.tag!==6?(U=Dp(G,H.mode,nt),U.return=H,U):(U=p(U,G),U.return=H,U)}function L(H,U,G,nt){var Tt=G.type;return Tt===R?tt(H,U,G.props.children,nt,G.key):U!==null&&(U.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===w&&Ya(Tt)===U.type)?(U=p(U,G.props),Gc(U,G),U.return=H,U):(U=df(G.type,G.key,G.props,null,H.mode,nt),Gc(U,G),U.return=H,U)}function K(H,U,G,nt){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Mp(G,H.mode,nt),U.return=H,U):(U=p(U,G.children||[]),U.return=H,U)}function tt(H,U,G,nt,Tt){return U===null||U.tag!==7?(U=Fa(G,H.mode,nt,Tt),U.return=H,U):(U=p(U,G),U.return=H,U)}function at(H,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Dp(""+U,H.mode,G),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case T:return G=df(U.type,U.key,U.props,null,H.mode,G),Gc(G,U),G.return=H,G;case S:return U=Mp(U,H.mode,G),U.return=H,U;case w:return U=Ya(U),at(H,U,G)}if(wt(U)||z(U))return U=Fa(U,H.mode,G,null),U.return=H,U;if(typeof U.then=="function")return at(H,bf(U),G);if(U.$$typeof===F)return at(H,gf(H,U),G);xf(H,U)}return null}function $(H,U,G,nt){var Tt=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Tt!==null?null:A(H,U,""+G,nt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case T:return G.key===Tt?L(H,U,G,nt):null;case S:return G.key===Tt?K(H,U,G,nt):null;case w:return G=Ya(G),$(H,U,G,nt)}if(wt(G)||z(G))return Tt!==null?null:tt(H,U,G,nt,null);if(typeof G.then=="function")return $(H,U,bf(G),nt);if(G.$$typeof===F)return $(H,U,gf(H,G),nt);xf(H,G)}return null}function J(H,U,G,nt,Tt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return H=H.get(G)||null,A(U,H,""+nt,Tt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case T:return H=H.get(nt.key===null?G:nt.key)||null,L(U,H,nt,Tt);case S:return H=H.get(nt.key===null?G:nt.key)||null,K(U,H,nt,Tt);case w:return nt=Ya(nt),J(H,U,G,nt,Tt)}if(wt(nt)||z(nt))return H=H.get(G)||null,tt(U,H,nt,Tt,null);if(typeof nt.then=="function")return J(H,U,G,bf(nt),Tt);if(nt.$$typeof===F)return J(H,U,G,gf(U,nt),Tt);xf(U,nt)}return null}function yt(H,U,G,nt){for(var Tt=null,$t=null,xt=U,Vt=U=0,Ft=null;xt!==null&&Vt<G.length;Vt++){xt.index>Vt?(Ft=xt,xt=null):Ft=xt.sibling;var Wt=$(H,xt,G[Vt],nt);if(Wt===null){xt===null&&(xt=Ft);break}s&&xt&&Wt.alternate===null&&a(H,xt),U=y(Wt,U,Vt),$t===null?Tt=Wt:$t.sibling=Wt,$t=Wt,xt=Ft}if(Vt===G.length)return c(H,xt),Kt&&Ms(H,Vt),Tt;if(xt===null){for(;Vt<G.length;Vt++)xt=at(H,G[Vt],nt),xt!==null&&(U=y(xt,U,Vt),$t===null?Tt=xt:$t.sibling=xt,$t=xt);return Kt&&Ms(H,Vt),Tt}for(xt=h(xt);Vt<G.length;Vt++)Ft=J(xt,H,Vt,G[Vt],nt),Ft!==null&&(s&&Ft.alternate!==null&&xt.delete(Ft.key===null?Vt:Ft.key),U=y(Ft,U,Vt),$t===null?Tt=Ft:$t.sibling=Ft,$t=Ft);return s&&xt.forEach(function(jr){return a(H,jr)}),Kt&&Ms(H,Vt),Tt}function St(H,U,G,nt){if(G==null)throw Error(i(151));for(var Tt=null,$t=null,xt=U,Vt=U=0,Ft=null,Wt=G.next();xt!==null&&!Wt.done;Vt++,Wt=G.next()){xt.index>Vt?(Ft=xt,xt=null):Ft=xt.sibling;var jr=$(H,xt,Wt.value,nt);if(jr===null){xt===null&&(xt=Ft);break}s&&xt&&jr.alternate===null&&a(H,xt),U=y(jr,U,Vt),$t===null?Tt=jr:$t.sibling=jr,$t=jr,xt=Ft}if(Wt.done)return c(H,xt),Kt&&Ms(H,Vt),Tt;if(xt===null){for(;!Wt.done;Vt++,Wt=G.next())Wt=at(H,Wt.value,nt),Wt!==null&&(U=y(Wt,U,Vt),$t===null?Tt=Wt:$t.sibling=Wt,$t=Wt);return Kt&&Ms(H,Vt),Tt}for(xt=h(xt);!Wt.done;Vt++,Wt=G.next())Wt=J(xt,H,Vt,Wt.value,nt),Wt!==null&&(s&&Wt.alternate!==null&&xt.delete(Wt.key===null?Vt:Wt.key),U=y(Wt,U,Vt),$t===null?Tt=Wt:$t.sibling=Wt,$t=Wt);return s&&xt.forEach(function(fN){return a(H,fN)}),Kt&&Ms(H,Vt),Tt}function ce(H,U,G,nt){if(typeof G=="object"&&G!==null&&G.type===R&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case T:t:{for(var Tt=G.key;U!==null;){if(U.key===Tt){if(Tt=G.type,Tt===R){if(U.tag===7){c(H,U.sibling),nt=p(U,G.props.children),nt.return=H,H=nt;break t}}else if(U.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===w&&Ya(Tt)===U.type){c(H,U.sibling),nt=p(U,G.props),Gc(nt,G),nt.return=H,H=nt;break t}c(H,U);break}else a(H,U);U=U.sibling}G.type===R?(nt=Fa(G.props.children,H.mode,nt,G.key),nt.return=H,H=nt):(nt=df(G.type,G.key,G.props,null,H.mode,nt),Gc(nt,G),nt.return=H,H=nt)}return x(H);case S:t:{for(Tt=G.key;U!==null;){if(U.key===Tt)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){c(H,U.sibling),nt=p(U,G.children||[]),nt.return=H,H=nt;break t}else{c(H,U);break}else a(H,U);U=U.sibling}nt=Mp(G,H.mode,nt),nt.return=H,H=nt}return x(H);case w:return G=Ya(G),ce(H,U,G,nt)}if(wt(G))return yt(H,U,G,nt);if(z(G)){if(Tt=z(G),typeof Tt!="function")throw Error(i(150));return G=Tt.call(G),St(H,U,G,nt)}if(typeof G.then=="function")return ce(H,U,bf(G),nt);if(G.$$typeof===F)return ce(H,U,gf(H,G),nt);xf(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(c(H,U.sibling),nt=p(U,G),nt.return=H,H=nt):(c(H,U),nt=Dp(G,H.mode,nt),nt.return=H,H=nt),x(H)):c(H,U)}return function(H,U,G,nt){try{qc=0;var Tt=ce(H,U,G,nt);return nl=null,Tt}catch(xt){if(xt===el||xt===_f)throw xt;var $t=qn(29,xt,null,H.mode);return $t.lanes=nt,$t.return=H,$t}}}var Wa=Ub(!0),Bb=Ub(!1),Tr=!1;function qp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gp(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Er(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function wr(s,a,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Zt&2)!==0){var p=h.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),h.pending=a,a=ff(s),wb(s,null,c),a}return hf(s,h,a,c),ff(s)}function Kc(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,vc(s,c)}}function Kp(s,a){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var p=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var x={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?p=y=x:y=y.next=x,c=c.next}while(c!==null);y===null?p=y=a:y=y.next=a}else p=y=a;c={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}var Yp=!1;function Yc(){if(Yp){var s=tl;if(s!==null)throw s}}function $c(s,a,c,h){Yp=!1;var p=s.updateQueue;Tr=!1;var y=p.firstBaseUpdate,x=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var L=A,K=L.next;L.next=null,x===null?y=K:x.next=K,x=L;var tt=s.alternate;tt!==null&&(tt=tt.updateQueue,A=tt.lastBaseUpdate,A!==x&&(A===null?tt.firstBaseUpdate=K:A.next=K,tt.lastBaseUpdate=L))}if(y!==null){var at=p.baseState;x=0,tt=K=L=null,A=y;do{var $=A.lane&-536870913,J=$!==A.lane;if(J?(Bt&$)===$:(h&$)===$){$!==0&&$===Jo&&(Yp=!0),tt!==null&&(tt=tt.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var yt=s,St=A;$=a;var ce=c;switch(St.tag){case 1:if(yt=St.payload,typeof yt=="function"){at=yt.call(ce,at,$);break t}at=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=St.payload,$=typeof yt=="function"?yt.call(ce,at,$):yt,$==null)break t;at=_({},at,$);break t;case 2:Tr=!0}}$=A.callback,$!==null&&(s.flags|=64,J&&(s.flags|=8192),J=p.callbacks,J===null?p.callbacks=[$]:J.push($))}else J={lane:$,tag:A.tag,payload:A.payload,callback:A.callback,next:null},tt===null?(K=tt=J,L=at):tt=tt.next=J,x|=$;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;J=A,A=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);tt===null&&(L=at),p.baseState=L,p.firstBaseUpdate=K,p.lastBaseUpdate=tt,y===null&&(p.shared.lanes=0),kr|=x,s.lanes=x,s.memoizedState=at}}function Fb(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function Hb(s,a){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)Fb(c[s],a)}var il=j(null),Tf=j(0);function qb(s,a){s=Hs,ct(Tf,s),ct(il,a),Hs=s|a.baseLanes}function $p(){ct(Tf,Hs),ct(il,il.current)}function Wp(){Hs=Tf.current,et(il),et(Tf)}var Gn=j(null),oi=null;function Sr(s){var a=s.alternate;ct(ke,ke.current&1),ct(Gn,s),oi===null&&(a===null||il.current!==null||a.memoizedState!==null)&&(oi=s)}function Xp(s){ct(ke,ke.current),ct(Gn,s),oi===null&&(oi=s)}function Gb(s){s.tag===22?(ct(ke,ke.current),ct(Gn,s),oi===null&&(oi=s)):Ar()}function Ar(){ct(ke,ke.current),ct(Gn,Gn.current)}function Kn(s){et(Gn),oi===s&&(oi=null),et(ke)}var ke=j(0);function Ef(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||ny(c)||iy(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ps=0,Pt=null,oe=null,Ue=null,wf=!1,sl=!1,Xa=!1,Sf=0,Wc=0,rl=null,nM=0;function we(){throw Error(i(321))}function Qp(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Hn(s[c],a[c]))return!1;return!0}function Zp(s,a,c,h,p,y){return Ps=y,Pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Y.H=s===null||s.memoizedState===null?Rx:dg,Xa=!1,y=c(h,p),Xa=!1,sl&&(y=Yb(a,c,h,p)),Kb(s),y}function Kb(s){Y.H=Zc;var a=oe!==null&&oe.next!==null;if(Ps=0,Ue=oe=Pt=null,wf=!1,Wc=0,rl=null,a)throw Error(i(300));s===null||Be||(s=s.dependencies,s!==null&&pf(s)&&(Be=!0))}function Yb(s,a,c,h){Pt=s;var p=0;do{if(sl&&(rl=null),Wc=0,sl=!1,25<=p)throw Error(i(301));if(p+=1,Ue=oe=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Y.H=kx,y=a(c,h)}while(sl);return y}function iM(){var s=Y.H,a=s.useState()[0];return a=typeof a.then=="function"?Xc(a):a,s=s.useState()[0],(oe!==null?oe.memoizedState:null)!==s&&(Pt.flags|=1024),a}function Jp(){var s=Sf!==0;return Sf=0,s}function tg(s,a,c){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~c}function eg(s){if(wf){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}wf=!1}Ps=0,Ue=oe=Pt=null,sl=!1,Wc=Sf=0,rl=null}function Cn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Pt.memoizedState=Ue=s:Ue=Ue.next=s,Ue}function Ie(){if(oe===null){var s=Pt.alternate;s=s!==null?s.memoizedState:null}else s=oe.next;var a=Ue===null?Pt.memoizedState:Ue.next;if(a!==null)Ue=a,oe=s;else{if(s===null)throw Pt.alternate===null?Error(i(467)):Error(i(310));oe=s,s={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},Ue===null?Pt.memoizedState=Ue=s:Ue=Ue.next=s}return Ue}function Af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xc(s){var a=Wc;return Wc+=1,rl===null&&(rl=[]),s=Lb(rl,s,a),a=Pt,(Ue===null?a.memoizedState:Ue.next)===null&&(a=a.alternate,Y.H=a===null||a.memoizedState===null?Rx:dg),s}function Cf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Xc(s);if(s.$$typeof===F)return ln(s)}throw Error(i(438,String(s)))}function ng(s){var a=null,c=Pt.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=Pt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Af(),Pt.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(s),h=0;h<s;h++)c[h]=V;return a.index++,c}function Vs(s,a){return typeof a=="function"?a(s):a}function Rf(s){var a=Ie();return ig(a,oe,s)}function ig(s,a,c){var h=s.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var p=s.baseQueue,y=h.pending;if(y!==null){if(p!==null){var x=p.next;p.next=y.next,y.next=x}a.baseQueue=p=y,h.pending=null}if(y=s.baseState,p===null)s.memoizedState=y;else{a=p.next;var A=x=null,L=null,K=a,tt=!1;do{var at=K.lane&-536870913;if(at!==K.lane?(Bt&at)===at:(Ps&at)===at){var $=K.revertLane;if($===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),at===Jo&&(tt=!0);else if((Ps&$)===$){K=K.next,$===Jo&&(tt=!0);continue}else at={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},L===null?(A=L=at,x=y):L=L.next=at,Pt.lanes|=$,kr|=$;at=K.action,Xa&&c(y,at),y=K.hasEagerState?K.eagerState:c(y,at)}else $={lane:at,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},L===null?(A=L=$,x=y):L=L.next=$,Pt.lanes|=at,kr|=at;K=K.next}while(K!==null&&K!==a);if(L===null?x=y:L.next=A,!Hn(y,s.memoizedState)&&(Be=!0,tt&&(c=tl,c!==null)))throw c;s.memoizedState=y,s.baseState=x,s.baseQueue=L,h.lastRenderedState=y}return p===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function sg(s){var a=Ie(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var h=c.dispatch,p=c.pending,y=a.memoizedState;if(p!==null){c.pending=null;var x=p=p.next;do y=s(y,x.action),x=x.next;while(x!==p);Hn(y,a.memoizedState)||(Be=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,h]}function $b(s,a,c){var h=Pt,p=Ie(),y=Kt;if(y){if(c===void 0)throw Error(i(407));c=c()}else c=a();var x=!Hn((oe||p).memoizedState,c);if(x&&(p.memoizedState=c,Be=!0),p=p.queue,og(Qb.bind(null,h,p,s),[s]),p.getSnapshot!==a||x||Ue!==null&&Ue.memoizedState.tag&1){if(h.flags|=2048,al(9,{destroy:void 0},Xb.bind(null,h,p,c,a),null),ue===null)throw Error(i(349));y||(Ps&127)!==0||Wb(h,a,c)}return c}function Wb(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Pt.updateQueue,a===null?(a=Af(),Pt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function Xb(s,a,c,h){a.value=c,a.getSnapshot=h,Zb(a)&&Jb(s)}function Qb(s,a,c){return c(function(){Zb(a)&&Jb(s)})}function Zb(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Hn(s,c)}catch{return!0}}function Jb(s){var a=Ba(s,2);a!==null&&Vn(a,s,2)}function rg(s){var a=Cn();if(typeof s=="function"){var c=s;if(s=c(),Xa){Qn(!0);try{c()}finally{Qn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:s},a}function tx(s,a,c,h){return s.baseState=c,ig(s,oe,typeof h=="function"?h:Vs)}function sM(s,a,c,h,p){if(Df(s))throw Error(i(485));if(s=a.action,s!==null){var y={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};Y.T!==null?c(!0):y.isTransition=!1,h(y),c=a.pending,c===null?(y.next=a.pending=y,ex(a,y)):(y.next=c.next,a.pending=c.next=y)}}function ex(s,a){var c=a.action,h=a.payload,p=s.state;if(a.isTransition){var y=Y.T,x={};Y.T=x;try{var A=c(p,h),L=Y.S;L!==null&&L(x,A),nx(s,a,A)}catch(K){ag(s,a,K)}finally{y!==null&&x.types!==null&&(y.types=x.types),Y.T=y}}else try{y=c(p,h),nx(s,a,y)}catch(K){ag(s,a,K)}}function nx(s,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){ix(s,a,h)},function(h){return ag(s,a,h)}):ix(s,a,c)}function ix(s,a,c){a.status="fulfilled",a.value=c,sx(a),s.state=c,a=s.pending,a!==null&&(c=a.next,c===a?s.pending=null:(c=c.next,a.next=c,ex(s,c)))}function ag(s,a,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,sx(a),a=a.next;while(a!==h)}s.action=null}function sx(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function rx(s,a){return a}function ax(s,a){if(Kt){var c=ue.formState;if(c!==null){t:{var h=Pt;if(Kt){if(pe){e:{for(var p=pe,y=ai;p.nodeType!==8;){if(!y){p=null;break e}if(p=li(p.nextSibling),p===null){p=null;break e}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){pe=li(p.nextSibling),h=p.data==="F!";break t}}br(h)}h=!1}h&&(a=c[0])}}return c=Cn(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rx,lastRenderedState:a},c.queue=h,c=Sx.bind(null,Pt,h),h.dispatch=c,h=rg(!1),y=fg.bind(null,Pt,!1,h.queue),h=Cn(),p={state:a,dispatch:null,action:s,pending:null},h.queue=p,c=sM.bind(null,Pt,p,y,c),p.dispatch=c,h.memoizedState=s,[a,c,!1]}function ox(s){var a=Ie();return lx(a,oe,s)}function lx(s,a,c){if(a=ig(s,a,rx)[0],s=Rf(Vs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Xc(a)}catch(x){throw x===el?_f:x}else h=a;a=Ie();var p=a.queue,y=p.dispatch;return c!==a.memoizedState&&(Pt.flags|=2048,al(9,{destroy:void 0},rM.bind(null,p,c),null)),[h,y,s]}function rM(s,a){s.action=a}function cx(s){var a=Ie(),c=oe;if(c!==null)return lx(a,c,s);Ie(),a=a.memoizedState,c=Ie();var h=c.queue.dispatch;return c.memoizedState=s,[a,h,!1]}function al(s,a,c,h){return s={tag:s,create:c,deps:h,inst:a,next:null},a=Pt.updateQueue,a===null&&(a=Af(),Pt.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,a.lastEffect=s),s}function ux(){return Ie().memoizedState}function kf(s,a,c,h){var p=Cn();Pt.flags|=s,p.memoizedState=al(1|a,{destroy:void 0},c,h===void 0?null:h)}function If(s,a,c,h){var p=Ie();h=h===void 0?null:h;var y=p.memoizedState.inst;oe!==null&&h!==null&&Qp(h,oe.memoizedState.deps)?p.memoizedState=al(a,y,c,h):(Pt.flags|=s,p.memoizedState=al(1|a,y,c,h))}function hx(s,a){kf(8390656,8,s,a)}function og(s,a){If(2048,8,s,a)}function aM(s){Pt.flags|=4;var a=Pt.updateQueue;if(a===null)a=Af(),Pt.updateQueue=a,a.events=[s];else{var c=a.events;c===null?a.events=[s]:c.push(s)}}function fx(s){var a=Ie().memoizedState;return aM({ref:a,nextImpl:s}),function(){if((Zt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function dx(s,a){return If(4,2,s,a)}function mx(s,a){return If(4,4,s,a)}function px(s,a){if(typeof a=="function"){s=s();var c=a(s);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function gx(s,a,c){c=c!=null?c.concat([s]):null,If(4,4,px.bind(null,a,s),c)}function lg(){}function yx(s,a){var c=Ie();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&Qp(a,h[1])?h[0]:(c.memoizedState=[s,a],s)}function _x(s,a){var c=Ie();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&Qp(a,h[1]))return h[0];if(h=s(),Xa){Qn(!0);try{s()}finally{Qn(!1)}}return c.memoizedState=[h,a],h}function cg(s,a,c){return c===void 0||(Ps&1073741824)!==0&&(Bt&261930)===0?s.memoizedState=a:(s.memoizedState=c,s=vT(),Pt.lanes|=s,kr|=s,c)}function vx(s,a,c,h){return Hn(c,a)?c:il.current!==null?(s=cg(s,c,h),Hn(s,a)||(Be=!0),s):(Ps&42)===0||(Ps&1073741824)!==0&&(Bt&261930)===0?(Be=!0,s.memoizedState=c):(s=vT(),Pt.lanes|=s,kr|=s,a)}function bx(s,a,c,h,p){var y=rt.p;rt.p=y!==0&&8>y?y:8;var x=Y.T,A={};Y.T=A,fg(s,!1,a,c);try{var L=p(),K=Y.S;if(K!==null&&K(A,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var tt=eM(L,h);Qc(s,a,tt,Wn(s))}else Qc(s,a,h,Wn(s))}catch(at){Qc(s,a,{then:function(){},status:"rejected",reason:at},Wn())}finally{rt.p=y,x!==null&&A.types!==null&&(x.types=A.types),Y.T=x}}function oM(){}function ug(s,a,c,h){if(s.tag!==5)throw Error(i(476));var p=xx(s).queue;bx(s,p,a,ft,c===null?oM:function(){return Tx(s),c(h)})}function xx(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:ft},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:c},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Tx(s){var a=xx(s);a.next===null&&(a=s.alternate.memoizedState),Qc(s,a.next.queue,{},Wn())}function hg(){return ln(mu)}function Ex(){return Ie().memoizedState}function wx(){return Ie().memoizedState}function lM(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var c=Wn();s=Er(c);var h=wr(a,s,c);h!==null&&(Vn(h,a,c),Kc(h,a,c)),a={cache:Up()},s.payload=a;return}a=a.return}}function cM(s,a,c){var h=Wn();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Df(s)?Ax(a,c):(c=kp(s,a,c,h),c!==null&&(Vn(c,s,h),Cx(c,a,h)))}function Sx(s,a,c){var h=Wn();Qc(s,a,c,h)}function Qc(s,a,c,h){var p={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Df(s))Ax(a,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var x=a.lastRenderedState,A=y(x,c);if(p.hasEagerState=!0,p.eagerState=A,Hn(A,x))return hf(s,a,p,0),ue===null&&uf(),!1}catch{}if(c=kp(s,a,p,h),c!==null)return Vn(c,s,h),Cx(c,a,h),!0}return!1}function fg(s,a,c,h){if(h={lane:2,revertLane:qg(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Df(s)){if(a)throw Error(i(479))}else a=kp(s,c,h,2),a!==null&&Vn(a,s,2)}function Df(s){var a=s.alternate;return s===Pt||a!==null&&a===Pt}function Ax(s,a){sl=wf=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function Cx(s,a,c){if((c&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,vc(s,c)}}var Zc={readContext:ln,use:Cf,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we};Zc.useEffectEvent=we;var Rx={readContext:ln,use:Cf,useCallback:function(s,a){return Cn().memoizedState=[s,a===void 0?null:a],s},useContext:ln,useEffect:hx,useImperativeHandle:function(s,a,c){c=c!=null?c.concat([s]):null,kf(4194308,4,px.bind(null,a,s),c)},useLayoutEffect:function(s,a){return kf(4194308,4,s,a)},useInsertionEffect:function(s,a){kf(4,2,s,a)},useMemo:function(s,a){var c=Cn();a=a===void 0?null:a;var h=s();if(Xa){Qn(!0);try{s()}finally{Qn(!1)}}return c.memoizedState=[h,a],h},useReducer:function(s,a,c){var h=Cn();if(c!==void 0){var p=c(a);if(Xa){Qn(!0);try{c(a)}finally{Qn(!1)}}}else p=a;return h.memoizedState=h.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},h.queue=s,s=s.dispatch=cM.bind(null,Pt,s),[h.memoizedState,s]},useRef:function(s){var a=Cn();return s={current:s},a.memoizedState=s},useState:function(s){s=rg(s);var a=s.queue,c=Sx.bind(null,Pt,a);return a.dispatch=c,[s.memoizedState,c]},useDebugValue:lg,useDeferredValue:function(s,a){var c=Cn();return cg(c,s,a)},useTransition:function(){var s=rg(!1);return s=bx.bind(null,Pt,s.queue,!0,!1),Cn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,c){var h=Pt,p=Cn();if(Kt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),ue===null)throw Error(i(349));(Bt&127)!==0||Wb(h,a,c)}p.memoizedState=c;var y={value:c,getSnapshot:a};return p.queue=y,hx(Qb.bind(null,h,y,s),[s]),h.flags|=2048,al(9,{destroy:void 0},Xb.bind(null,h,y,c,a),null),c},useId:function(){var s=Cn(),a=ue.identifierPrefix;if(Kt){var c=cs,h=ls;c=(h&~(1<<32-Ce(h)-1)).toString(32)+c,a="_"+a+"R_"+c,c=Sf++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=nM++,a="_"+a+"r_"+c.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:hg,useFormState:ax,useActionState:ax,useOptimistic:function(s){var a=Cn();a.memoizedState=a.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=fg.bind(null,Pt,!0,c),c.dispatch=a,[s,a]},useMemoCache:ng,useCacheRefresh:function(){return Cn().memoizedState=lM.bind(null,Pt)},useEffectEvent:function(s){var a=Cn(),c={impl:s};return a.memoizedState=c,function(){if((Zt&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},dg={readContext:ln,use:Cf,useCallback:yx,useContext:ln,useEffect:og,useImperativeHandle:gx,useInsertionEffect:dx,useLayoutEffect:mx,useMemo:_x,useReducer:Rf,useRef:ux,useState:function(){return Rf(Vs)},useDebugValue:lg,useDeferredValue:function(s,a){var c=Ie();return vx(c,oe.memoizedState,s,a)},useTransition:function(){var s=Rf(Vs)[0],a=Ie().memoizedState;return[typeof s=="boolean"?s:Xc(s),a]},useSyncExternalStore:$b,useId:Ex,useHostTransitionStatus:hg,useFormState:ox,useActionState:ox,useOptimistic:function(s,a){var c=Ie();return tx(c,oe,s,a)},useMemoCache:ng,useCacheRefresh:wx};dg.useEffectEvent=fx;var kx={readContext:ln,use:Cf,useCallback:yx,useContext:ln,useEffect:og,useImperativeHandle:gx,useInsertionEffect:dx,useLayoutEffect:mx,useMemo:_x,useReducer:sg,useRef:ux,useState:function(){return sg(Vs)},useDebugValue:lg,useDeferredValue:function(s,a){var c=Ie();return oe===null?cg(c,s,a):vx(c,oe.memoizedState,s,a)},useTransition:function(){var s=sg(Vs)[0],a=Ie().memoizedState;return[typeof s=="boolean"?s:Xc(s),a]},useSyncExternalStore:$b,useId:Ex,useHostTransitionStatus:hg,useFormState:cx,useActionState:cx,useOptimistic:function(s,a){var c=Ie();return oe!==null?tx(c,oe,s,a):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:ng,useCacheRefresh:wx};kx.useEffectEvent=fx;function mg(s,a,c,h){a=s.memoizedState,c=c(h,a),c=c==null?a:_({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var pg={enqueueSetState:function(s,a,c){s=s._reactInternals;var h=Wn(),p=Er(h);p.payload=a,c!=null&&(p.callback=c),a=wr(s,p,h),a!==null&&(Vn(a,s,h),Kc(a,s,h))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var h=Wn(),p=Er(h);p.tag=1,p.payload=a,c!=null&&(p.callback=c),a=wr(s,p,h),a!==null&&(Vn(a,s,h),Kc(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=Wn(),h=Er(c);h.tag=2,a!=null&&(h.callback=a),a=wr(s,h,c),a!==null&&(Vn(a,s,c),Kc(a,s,c))}};function Ix(s,a,c,h,p,y,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,x):a.prototype&&a.prototype.isPureReactComponent?!zc(c,h)||!zc(p,y):!0}function Dx(s,a,c,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==s&&pg.enqueueReplaceState(a,a.state,null)}function Qa(s,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(s=s.defaultProps){c===a&&(c=_({},c));for(var p in s)c[p]===void 0&&(c[p]=s[p])}return c}function Mx(s){cf(s)}function Nx(s){console.error(s)}function Ox(s){cf(s)}function Mf(s,a){try{var c=s.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function Px(s,a,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function gg(s,a,c){return c=Er(c),c.tag=3,c.payload={element:null},c.callback=function(){Mf(s,a)},c}function Vx(s){return s=Er(s),s.tag=3,s}function Lx(s,a,c,h){var p=c.type.getDerivedStateFromError;if(typeof p=="function"){var y=h.value;s.payload=function(){return p(y)},s.callback=function(){Px(a,c,h)}}var x=c.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){Px(a,c,h),typeof p!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var A=h.stack;this.componentDidCatch(h.value,{componentStack:A!==null?A:""})})}function uM(s,a,c,h,p){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&Zo(a,c,p,!0),c=Gn.current,c!==null){switch(c.tag){case 31:case 13:return oi===null?qf():c.alternate===null&&Se===0&&(Se=3),c.flags&=-257,c.flags|=65536,c.lanes=p,h===vf?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),Bg(s,h,p)),!1;case 22:return c.flags|=65536,h===vf?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),Bg(s,h,p)),!1}throw Error(i(435,c.tag))}return Bg(s,h,p),qf(),!1}if(Kt)return a=Gn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,h!==Pp&&(s=Error(i(422),{cause:h}),Bc(ii(s,c)))):(h!==Pp&&(a=Error(i(423),{cause:h}),Bc(ii(a,c))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,h=ii(h,c),p=gg(s.stateNode,h,p),Kp(s,p),Se!==4&&(Se=2)),!1;var y=Error(i(520),{cause:h});if(y=ii(y,c),au===null?au=[y]:au.push(y),Se!==4&&(Se=2),a===null)return!0;h=ii(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,s=p&-p,c.lanes|=s,s=gg(c.stateNode,h,s),Kp(c,s),!1;case 1:if(a=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ir===null||!Ir.has(y))))return c.flags|=65536,p&=-p,c.lanes|=p,p=Vx(p),Lx(p,s,c,h),Kp(c,p),!1}c=c.return}while(c!==null);return!1}var yg=Error(i(461)),Be=!1;function cn(s,a,c,h){a.child=s===null?Bb(a,null,c,h):Wa(a,s.child,c,h)}function zx(s,a,c,h,p){c=c.render;var y=a.ref;if("ref"in h){var x={};for(var A in h)A!=="ref"&&(x[A]=h[A])}else x=h;return Ga(a),h=Zp(s,a,c,x,y,p),A=Jp(),s!==null&&!Be?(tg(s,a,p),Ls(s,a,p)):(Kt&&A&&Np(a),a.flags|=1,cn(s,a,h,p),a.child)}function jx(s,a,c,h,p){if(s===null){var y=c.type;return typeof y=="function"&&!Ip(y)&&y.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=y,Ux(s,a,y,h,p)):(s=df(c.type,null,h,a,a.mode,p),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!Sg(s,p)){var x=y.memoizedProps;if(c=c.compare,c=c!==null?c:zc,c(x,h)&&s.ref===a.ref)return Ls(s,a,p)}return a.flags|=1,s=Ds(y,h),s.ref=a.ref,s.return=a,a.child=s}function Ux(s,a,c,h,p){if(s!==null){var y=s.memoizedProps;if(zc(y,h)&&s.ref===a.ref)if(Be=!1,a.pendingProps=h=y,Sg(s,p))(s.flags&131072)!==0&&(Be=!0);else return a.lanes=s.lanes,Ls(s,a,p)}return _g(s,a,c,h,p)}function Bx(s,a,c,h){var p=h.children,y=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(y=y!==null?y.baseLanes|c:c,s!==null){for(h=a.child=s.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;h=p&~y}else h=0,a.child=null;return Fx(s,a,y,c,h)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&yf(a,y!==null?y.cachePool:null),y!==null?qb(a,y):$p(),Gb(a);else return h=a.lanes=536870912,Fx(s,a,y!==null?y.baseLanes|c:c,c,h)}else y!==null?(yf(a,y.cachePool),qb(a,y),Ar(),a.memoizedState=null):(s!==null&&yf(a,null),$p(),Ar());return cn(s,a,p,c),a.child}function Jc(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Fx(s,a,c,h,p){var y=Fp();return y=y===null?null:{parent:je._currentValue,pool:y},a.memoizedState={baseLanes:c,cachePool:y},s!==null&&yf(a,null),$p(),Gb(a),s!==null&&Zo(s,a,h,!0),a.childLanes=p,null}function Nf(s,a){return a=Pf({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function Hx(s,a,c){return Wa(a,s.child,null,c),s=Nf(a,a.pendingProps),s.flags|=2,Kn(a),a.memoizedState=null,s}function hM(s,a,c){var h=a.pendingProps,p=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Kt){if(h.mode==="hidden")return s=Nf(a,h),a.lanes=536870912,Jc(null,s);if(Xp(a),(s=pe)?(s=e1(s,ai),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:_r!==null?{id:ls,overflow:cs}:null,retryLane:536870912,hydrationErrors:null},c=Ab(s),c.return=a,a.child=c,on=a,pe=null)):s=null,s===null)throw br(a);return a.lanes=536870912,null}return Nf(a,h)}var y=s.memoizedState;if(y!==null){var x=y.dehydrated;if(Xp(a),p)if(a.flags&256)a.flags&=-257,a=Hx(s,a,c);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(Be||Zo(s,a,c,!1),p=(c&s.childLanes)!==0,Be||p){if(h=ue,h!==null&&(x=bc(h,c),x!==0&&x!==y.retryLane))throw y.retryLane=x,Ba(s,x),Vn(h,s,x),yg;qf(),a=Hx(s,a,c)}else s=y.treeContext,pe=li(x.nextSibling),on=a,Kt=!0,vr=null,ai=!1,s!==null&&kb(a,s),a=Nf(a,h),a.flags|=4096;return a}return s=Ds(s.child,{mode:h.mode,children:h.children}),s.ref=a.ref,a.child=s,s.return=a,s}function Of(s,a){var c=a.ref;if(c===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(a.flags|=4194816)}}function _g(s,a,c,h,p){return Ga(a),c=Zp(s,a,c,h,void 0,p),h=Jp(),s!==null&&!Be?(tg(s,a,p),Ls(s,a,p)):(Kt&&h&&Np(a),a.flags|=1,cn(s,a,c,p),a.child)}function qx(s,a,c,h,p,y){return Ga(a),a.updateQueue=null,c=Yb(a,h,c,p),Kb(s),h=Jp(),s!==null&&!Be?(tg(s,a,y),Ls(s,a,y)):(Kt&&h&&Np(a),a.flags|=1,cn(s,a,c,y),a.child)}function Gx(s,a,c,h,p){if(Ga(a),a.stateNode===null){var y=$o,x=c.contextType;typeof x=="object"&&x!==null&&(y=ln(x)),y=new c(h,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=pg,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=h,y.state=a.memoizedState,y.refs={},qp(a),x=c.contextType,y.context=typeof x=="object"&&x!==null?ln(x):$o,y.state=a.memoizedState,x=c.getDerivedStateFromProps,typeof x=="function"&&(mg(a,c,x,h),y.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&pg.enqueueReplaceState(y,y.state,null),$c(a,h,y,p),Yc(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){y=a.stateNode;var A=a.memoizedProps,L=Qa(c,A);y.props=L;var K=y.context,tt=c.contextType;x=$o,typeof tt=="object"&&tt!==null&&(x=ln(tt));var at=c.getDerivedStateFromProps;tt=typeof at=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,tt||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||K!==x)&&Dx(a,y,h,x),Tr=!1;var $=a.memoizedState;y.state=$,$c(a,h,y,p),Yc(),K=a.memoizedState,A||$!==K||Tr?(typeof at=="function"&&(mg(a,c,at,h),K=a.memoizedState),(L=Tr||Ix(a,c,L,h,$,K,x))?(tt||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=K),y.props=h,y.state=K,y.context=x,h=L):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{y=a.stateNode,Gp(s,a),x=a.memoizedProps,tt=Qa(c,x),y.props=tt,at=a.pendingProps,$=y.context,K=c.contextType,L=$o,typeof K=="object"&&K!==null&&(L=ln(K)),A=c.getDerivedStateFromProps,(K=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==at||$!==L)&&Dx(a,y,h,L),Tr=!1,$=a.memoizedState,y.state=$,$c(a,h,y,p),Yc();var J=a.memoizedState;x!==at||$!==J||Tr||s!==null&&s.dependencies!==null&&pf(s.dependencies)?(typeof A=="function"&&(mg(a,c,A,h),J=a.memoizedState),(tt=Tr||Ix(a,c,tt,h,$,J,L)||s!==null&&s.dependencies!==null&&pf(s.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,J,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,J,L)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===s.memoizedProps&&$===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&$===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=J),y.props=h,y.state=J,y.context=L,h=tt):(typeof y.componentDidUpdate!="function"||x===s.memoizedProps&&$===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&$===s.memoizedState||(a.flags|=1024),h=!1)}return y=h,Of(s,a),h=(a.flags&128)!==0,y||h?(y=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&h?(a.child=Wa(a,s.child,null,p),a.child=Wa(a,null,c,p)):cn(s,a,c,p),a.memoizedState=y.state,s=a.child):s=Ls(s,a,p),s}function Kx(s,a,c,h){return Ha(),a.flags|=256,cn(s,a,c,h),a.child}var vg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bg(s){return{baseLanes:s,cachePool:Pb()}}function xg(s,a,c){return s=s!==null?s.childLanes&~c:0,a&&(s|=$n),s}function Yx(s,a,c){var h=a.pendingProps,p=!1,y=(a.flags&128)!==0,x;if((x=y)||(x=s!==null&&s.memoizedState===null?!1:(ke.current&2)!==0),x&&(p=!0,a.flags&=-129),x=(a.flags&32)!==0,a.flags&=-33,s===null){if(Kt){if(p?Sr(a):Ar(),(s=pe)?(s=e1(s,ai),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:_r!==null?{id:ls,overflow:cs}:null,retryLane:536870912,hydrationErrors:null},c=Ab(s),c.return=a,a.child=c,on=a,pe=null)):s=null,s===null)throw br(a);return iy(s)?a.lanes=32:a.lanes=536870912,null}var A=h.children;return h=h.fallback,p?(Ar(),p=a.mode,A=Pf({mode:"hidden",children:A},p),h=Fa(h,p,c,null),A.return=a,h.return=a,A.sibling=h,a.child=A,h=a.child,h.memoizedState=bg(c),h.childLanes=xg(s,x,c),a.memoizedState=vg,Jc(null,h)):(Sr(a),Tg(a,A))}var L=s.memoizedState;if(L!==null&&(A=L.dehydrated,A!==null)){if(y)a.flags&256?(Sr(a),a.flags&=-257,a=Eg(s,a,c)):a.memoizedState!==null?(Ar(),a.child=s.child,a.flags|=128,a=null):(Ar(),A=h.fallback,p=a.mode,h=Pf({mode:"visible",children:h.children},p),A=Fa(A,p,c,null),A.flags|=2,h.return=a,A.return=a,h.sibling=A,a.child=h,Wa(a,s.child,null,c),h=a.child,h.memoizedState=bg(c),h.childLanes=xg(s,x,c),a.memoizedState=vg,a=Jc(null,h));else if(Sr(a),iy(A)){if(x=A.nextSibling&&A.nextSibling.dataset,x)var K=x.dgst;x=K,h=Error(i(419)),h.stack="",h.digest=x,Bc({value:h,source:null,stack:null}),a=Eg(s,a,c)}else if(Be||Zo(s,a,c,!1),x=(c&s.childLanes)!==0,Be||x){if(x=ue,x!==null&&(h=bc(x,c),h!==0&&h!==L.retryLane))throw L.retryLane=h,Ba(s,h),Vn(x,s,h),yg;ny(A)||qf(),a=Eg(s,a,c)}else ny(A)?(a.flags|=192,a.child=s.child,a=null):(s=L.treeContext,pe=li(A.nextSibling),on=a,Kt=!0,vr=null,ai=!1,s!==null&&kb(a,s),a=Tg(a,h.children),a.flags|=4096);return a}return p?(Ar(),A=h.fallback,p=a.mode,L=s.child,K=L.sibling,h=Ds(L,{mode:"hidden",children:h.children}),h.subtreeFlags=L.subtreeFlags&65011712,K!==null?A=Ds(K,A):(A=Fa(A,p,c,null),A.flags|=2),A.return=a,h.return=a,h.sibling=A,a.child=h,Jc(null,h),h=a.child,A=s.child.memoizedState,A===null?A=bg(c):(p=A.cachePool,p!==null?(L=je._currentValue,p=p.parent!==L?{parent:L,pool:L}:p):p=Pb(),A={baseLanes:A.baseLanes|c,cachePool:p}),h.memoizedState=A,h.childLanes=xg(s,x,c),a.memoizedState=vg,Jc(s.child,h)):(Sr(a),c=s.child,s=c.sibling,c=Ds(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,s!==null&&(x=a.deletions,x===null?(a.deletions=[s],a.flags|=16):x.push(s)),a.child=c,a.memoizedState=null,c)}function Tg(s,a){return a=Pf({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Pf(s,a){return s=qn(22,s,null,a),s.lanes=0,s}function Eg(s,a,c){return Wa(a,s.child,null,c),s=Tg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function $x(s,a,c){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),zp(s.return,a,c)}function wg(s,a,c,h,p,y){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:p,treeForkCount:y}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=c,x.tailMode=p,x.treeForkCount=y)}function Wx(s,a,c){var h=a.pendingProps,p=h.revealOrder,y=h.tail;h=h.children;var x=ke.current,A=(x&2)!==0;if(A?(x=x&1|2,a.flags|=128):x&=1,ct(ke,x),cn(s,a,h,c),h=Kt?Uc:0,!A&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&$x(s,c,a);else if(s.tag===19)$x(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(c=a.child,p=null;c!==null;)s=c.alternate,s!==null&&Ef(s)===null&&(p=c),c=c.sibling;c=p,c===null?(p=a.child,a.child=null):(p=c.sibling,c.sibling=null),wg(a,!1,p,c,y,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,p=a.child,a.child=null;p!==null;){if(s=p.alternate,s!==null&&Ef(s)===null){a.child=p;break}s=p.sibling,p.sibling=c,c=p,p=s}wg(a,!0,c,null,y,h);break;case"together":wg(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function Ls(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),kr|=a.lanes,(c&a.childLanes)===0)if(s!==null){if(Zo(s,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,c=Ds(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Ds(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function Sg(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&pf(s)))}function fM(s,a,c){switch(a.tag){case 3:Ee(a,a.stateNode.containerInfo),xr(a,je,s.memoizedState.cache),Ha();break;case 27:case 5:Hi(a);break;case 4:Ee(a,a.stateNode.containerInfo);break;case 10:xr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Xp(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Sr(a),a.flags|=128,null):(c&a.child.childLanes)!==0?Yx(s,a,c):(Sr(a),s=Ls(s,a,c),s!==null?s.sibling:null);Sr(a);break;case 19:var p=(s.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(Zo(s,a,c,!1),h=(c&a.childLanes)!==0),p){if(h)return Wx(s,a,c);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ct(ke,ke.current),h)break;return null;case 22:return a.lanes=0,Bx(s,a,c,a.pendingProps);case 24:xr(a,je,s.memoizedState.cache)}return Ls(s,a,c)}function Xx(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps)Be=!0;else{if(!Sg(s,c)&&(a.flags&128)===0)return Be=!1,fM(s,a,c);Be=(s.flags&131072)!==0}else Be=!1,Kt&&(a.flags&1048576)!==0&&Rb(a,Uc,a.index);switch(a.lanes=0,a.tag){case 16:t:{var h=a.pendingProps;if(s=Ya(a.elementType),a.type=s,typeof s=="function")Ip(s)?(h=Qa(s,h),a.tag=1,a=Gx(null,a,s,h,c)):(a.tag=0,a=_g(null,a,s,h,c));else{if(s!=null){var p=s.$$typeof;if(p===Q){a.tag=11,a=zx(null,a,s,h,c);break t}else if(p===M){a.tag=14,a=jx(null,a,s,h,c);break t}}throw a=Nt(s)||s,Error(i(306,a,""))}}return a;case 0:return _g(s,a,a.type,a.pendingProps,c);case 1:return h=a.type,p=Qa(h,a.pendingProps),Gx(s,a,h,p,c);case 3:t:{if(Ee(a,a.stateNode.containerInfo),s===null)throw Error(i(387));h=a.pendingProps;var y=a.memoizedState;p=y.element,Gp(s,a),$c(a,h,null,c);var x=a.memoizedState;if(h=x.cache,xr(a,je,h),h!==y.cache&&jp(a,[je],c,!0),Yc(),h=x.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:x.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=Kx(s,a,h,c);break t}else if(h!==p){p=ii(Error(i(424)),a),Bc(p),a=Kx(s,a,h,c);break t}else for(s=a.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,pe=li(s.firstChild),on=a,Kt=!0,vr=null,ai=!0,c=Bb(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ha(),h===p){a=Ls(s,a,c);break t}cn(s,a,h,c)}a=a.child}return a;case 26:return Of(s,a),s===null?(c=o1(a.type,null,a.pendingProps,null))?a.memoizedState=c:Kt||(c=a.type,s=a.pendingProps,h=Qf(gt.current).createElement(c),h[Ve]=a,h[tn]=s,un(h,c,s),Le(h),a.stateNode=h):a.memoizedState=o1(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Hi(a),s===null&&Kt&&(h=a.stateNode=s1(a.type,a.pendingProps,gt.current),on=a,ai=!0,p=pe,Or(a.type)?(sy=p,pe=li(h.firstChild)):pe=p),cn(s,a,a.pendingProps.children,c),Of(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Kt&&((p=h=pe)&&(h=FM(h,a.type,a.pendingProps,ai),h!==null?(a.stateNode=h,on=a,pe=li(h.firstChild),ai=!1,p=!0):p=!1),p||br(a)),Hi(a),p=a.type,y=a.pendingProps,x=s!==null?s.memoizedProps:null,h=y.children,Jg(p,y)?h=null:x!==null&&Jg(p,x)&&(a.flags|=32),a.memoizedState!==null&&(p=Zp(s,a,iM,null,null,c),mu._currentValue=p),Of(s,a),cn(s,a,h,c),a.child;case 6:return s===null&&Kt&&((s=c=pe)&&(c=HM(c,a.pendingProps,ai),c!==null?(a.stateNode=c,on=a,pe=null,s=!0):s=!1),s||br(a)),null;case 13:return Yx(s,a,c);case 4:return Ee(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=Wa(a,null,h,c):cn(s,a,h,c),a.child;case 11:return zx(s,a,a.type,a.pendingProps,c);case 7:return cn(s,a,a.pendingProps,c),a.child;case 8:return cn(s,a,a.pendingProps.children,c),a.child;case 12:return cn(s,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,xr(a,a.type,h.value),cn(s,a,h.children,c),a.child;case 9:return p=a.type._context,h=a.pendingProps.children,Ga(a),p=ln(p),h=h(p),a.flags|=1,cn(s,a,h,c),a.child;case 14:return jx(s,a,a.type,a.pendingProps,c);case 15:return Ux(s,a,a.type,a.pendingProps,c);case 19:return Wx(s,a,c);case 31:return hM(s,a,c);case 22:return Bx(s,a,c,a.pendingProps);case 24:return Ga(a),h=ln(je),s===null?(p=Fp(),p===null&&(p=ue,y=Up(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=c),p=y),a.memoizedState={parent:h,cache:p},qp(a),xr(a,je,p)):((s.lanes&c)!==0&&(Gp(s,a),$c(a,null,null,c),Yc()),p=s.memoizedState,y=a.memoizedState,p.parent!==h?(p={parent:h,cache:h},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),xr(a,je,h)):(h=y.cache,xr(a,je,h),h!==p.cache&&jp(a,[je],c,!0))),cn(s,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function zs(s){s.flags|=4}function Ag(s,a,c,h,p){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(ET())s.flags|=8192;else throw $a=vf,Hp}else s.flags&=-16777217}function Qx(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!f1(a))if(ET())s.flags|=8192;else throw $a=vf,Hp}function Vf(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Bh():536870912,s.lanes|=a,ul|=a)}function tu(s,a){if(!Kt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function ge(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(a)for(var p=s.child;p!==null;)c|=p.lanes|p.childLanes,h|=p.subtreeFlags&65011712,h|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)c|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=h,s.childLanes=c,a}function dM(s,a,c){var h=a.pendingProps;switch(Op(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(a),null;case 1:return ge(a),null;case 3:return c=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Os(je),Mt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Qo(a)?zs(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Vp())),ge(a),null;case 26:var p=a.type,y=a.memoizedState;return s===null?(zs(a),y!==null?(ge(a),Qx(a,y)):(ge(a),Ag(a,p,null,h,c))):y?y!==s.memoizedState?(zs(a),ge(a),Qx(a,y)):(ge(a),a.flags&=-16777217):(s=s.memoizedProps,s!==h&&zs(a),ge(a),Ag(a,p,s,h,c)),null;case 27:if(yi(a),c=gt.current,p=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&zs(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return ge(a),null}s=ht.current,Qo(a)?Ib(a):(s=s1(p,h,c),a.stateNode=s,zs(a))}return ge(a),null;case 5:if(yi(a),p=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&zs(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return ge(a),null}if(y=ht.current,Qo(a))Ib(a);else{var x=Qf(gt.current);switch(y){case 1:y=x.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=x.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=x.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?x.createElement("select",{is:h.is}):x.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?x.createElement(p,{is:h.is}):x.createElement(p)}}y[Ve]=a,y[tn]=h;t:for(x=a.child;x!==null;){if(x.tag===5||x.tag===6)y.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===a)break t;for(;x.sibling===null;){if(x.return===null||x.return===a)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}a.stateNode=y;t:switch(un(y,p,h),p){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&zs(a)}}return ge(a),Ag(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,c),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&zs(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(s=gt.current,Qo(a)){if(s=a.stateNode,c=a.memoizedProps,h=null,p=on,p!==null)switch(p.tag){case 27:case 5:h=p.memoizedProps}s[Ve]=a,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||YT(s.nodeValue,c)),s||br(a,!0)}else s=Qf(s).createTextNode(h),s[Ve]=a,a.stateNode=s}return ge(a),null;case 31:if(c=a.memoizedState,s===null||s.memoizedState!==null){if(h=Qo(a),c!==null){if(s===null){if(!h)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Ve]=a}else Ha(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ge(a),s=!1}else c=Vp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return a.flags&256?(Kn(a),a):(Kn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return ge(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=Qo(a),h!==null&&h.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Ve]=a}else Ha(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ge(a),p=!1}else p=Vp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(Kn(a),a):(Kn(a),null)}return Kn(a),(a.flags&128)!==0?(a.lanes=c,a):(c=h!==null,s=s!==null&&s.memoizedState!==null,c&&(h=a.child,p=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(p=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==p&&(h.flags|=2048)),c!==s&&c&&(a.child.flags|=8192),Vf(a,a.updateQueue),ge(a),null);case 4:return Mt(),s===null&&$g(a.stateNode.containerInfo),ge(a),null;case 10:return Os(a.type),ge(a),null;case 19:if(et(ke),h=a.memoizedState,h===null)return ge(a),null;if(p=(a.flags&128)!==0,y=h.rendering,y===null)if(p)tu(h,!1);else{if(Se!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=Ef(s),y!==null){for(a.flags|=128,tu(h,!1),s=y.updateQueue,a.updateQueue=s,Vf(a,s),a.subtreeFlags=0,s=c,c=a.child;c!==null;)Sb(c,s),c=c.sibling;return ct(ke,ke.current&1|2),Kt&&Ms(a,h.treeForkCount),a.child}s=s.sibling}h.tail!==null&&Sn()>Bf&&(a.flags|=128,p=!0,tu(h,!1),a.lanes=4194304)}else{if(!p)if(s=Ef(y),s!==null){if(a.flags|=128,p=!0,s=s.updateQueue,a.updateQueue=s,Vf(a,s),tu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Kt)return ge(a),null}else 2*Sn()-h.renderingStartTime>Bf&&c!==536870912&&(a.flags|=128,p=!0,tu(h,!1),a.lanes=4194304);h.isBackwards?(y.sibling=a.child,a.child=y):(s=h.last,s!==null?s.sibling=y:a.child=y,h.last=y)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=Sn(),s.sibling=null,c=ke.current,ct(ke,p?c&1|2:c&1),Kt&&Ms(a,h.treeForkCount),s):(ge(a),null);case 22:case 23:return Kn(a),Wp(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(ge(a),a.subtreeFlags&6&&(a.flags|=8192)):ge(a),c=a.updateQueue,c!==null&&Vf(a,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),s!==null&&et(Ka),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Os(je),ge(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function mM(s,a){switch(Op(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Os(je),Mt(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return yi(a),null;case 31:if(a.memoizedState!==null){if(Kn(a),a.alternate===null)throw Error(i(340));Ha()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Kn(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Ha()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return et(ke),null;case 4:return Mt(),null;case 10:return Os(a.type),null;case 22:case 23:return Kn(a),Wp(),s!==null&&et(Ka),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Os(je),null;case 25:return null;default:return null}}function Zx(s,a){switch(Op(a),a.tag){case 3:Os(je),Mt();break;case 26:case 27:case 5:yi(a);break;case 4:Mt();break;case 31:a.memoizedState!==null&&Kn(a);break;case 13:Kn(a);break;case 19:et(ke);break;case 10:Os(a.type);break;case 22:case 23:Kn(a),Wp(),s!==null&&et(Ka);break;case 24:Os(je)}}function eu(s,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var p=h.next;c=p;do{if((c.tag&s)===s){h=void 0;var y=c.create,x=c.inst;h=y(),x.destroy=h}c=c.next}while(c!==p)}}catch(A){ie(a,a.return,A)}}function Cr(s,a,c){try{var h=a.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var y=p.next;h=y;do{if((h.tag&s)===s){var x=h.inst,A=x.destroy;if(A!==void 0){x.destroy=void 0,p=a;var L=c,K=A;try{K()}catch(tt){ie(p,L,tt)}}}h=h.next}while(h!==y)}}catch(tt){ie(a,a.return,tt)}}function Jx(s){var a=s.updateQueue;if(a!==null){var c=s.stateNode;try{Hb(a,c)}catch(h){ie(s,s.return,h)}}}function tT(s,a,c){c.props=Qa(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){ie(s,a,h)}}function nu(s,a){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(p){ie(s,a,p)}}function us(s,a){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(p){ie(s,a,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(p){ie(s,a,p)}else c.current=null}function eT(s){var a=s.type,c=s.memoizedProps,h=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break t;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(p){ie(s,s.return,p)}}function Cg(s,a,c){try{var h=s.stateNode;VM(h,s.type,c,a),h[tn]=a}catch(p){ie(s,s.return,p)}}function nT(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Or(s.type)||s.tag===4}function Rg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||nT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Or(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function kg(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(s),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Ei));else if(h!==4&&(h===27&&Or(s.type)&&(c=s.stateNode,a=null),s=s.child,s!==null))for(kg(s,a,c),s=s.sibling;s!==null;)kg(s,a,c),s=s.sibling}function Lf(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(h!==4&&(h===27&&Or(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Lf(s,a,c),s=s.sibling;s!==null;)Lf(s,a,c),s=s.sibling}function iT(s){var a=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);un(a,h,c),a[Ve]=s,a[tn]=c}catch(y){ie(s,s.return,y)}}var js=!1,Fe=!1,Ig=!1,sT=typeof WeakSet=="function"?WeakSet:Set,nn=null;function pM(s,a){if(s=s.containerInfo,Qg=sd,s=gb(s),Ep(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else t:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break t}var x=0,A=-1,L=-1,K=0,tt=0,at=s,$=null;e:for(;;){for(var J;at!==c||p!==0&&at.nodeType!==3||(A=x+p),at!==y||h!==0&&at.nodeType!==3||(L=x+h),at.nodeType===3&&(x+=at.nodeValue.length),(J=at.firstChild)!==null;)$=at,at=J;for(;;){if(at===s)break e;if($===c&&++K===p&&(A=x),$===y&&++tt===h&&(L=x),(J=at.nextSibling)!==null)break;at=$,$=at.parentNode}at=J}c=A===-1||L===-1?null:{start:A,end:L}}else c=null}c=c||{start:0,end:0}}else c=null;for(Zg={focusedElem:s,selectionRange:c},sd=!1,nn=a;nn!==null;)if(a=nn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,nn=s;else for(;nn!==null;){switch(a=nn,y=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)p=s[c],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,c=a,p=y.memoizedProps,y=y.memoizedState,h=c.stateNode;try{var yt=Qa(c.type,p);s=h.getSnapshotBeforeUpdate(yt,y),h.__reactInternalSnapshotBeforeUpdate=s}catch(St){ie(c,c.return,St)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,c=s.nodeType,c===9)ey(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":ey(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,nn=s;break}nn=a.return}}function rT(s,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Bs(s,c),h&4&&eu(5,c);break;case 1:if(Bs(s,c),h&4)if(s=c.stateNode,a===null)try{s.componentDidMount()}catch(x){ie(c,c.return,x)}else{var p=Qa(c.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(p,a,s.__reactInternalSnapshotBeforeUpdate)}catch(x){ie(c,c.return,x)}}h&64&&Jx(c),h&512&&nu(c,c.return);break;case 3:if(Bs(s,c),h&64&&(s=c.updateQueue,s!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{Hb(s,a)}catch(x){ie(c,c.return,x)}}break;case 27:a===null&&h&4&&iT(c);case 26:case 5:Bs(s,c),a===null&&h&4&&eT(c),h&512&&nu(c,c.return);break;case 12:Bs(s,c);break;case 31:Bs(s,c),h&4&&lT(s,c);break;case 13:Bs(s,c),h&4&&cT(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=wM.bind(null,c),qM(s,c))));break;case 22:if(h=c.memoizedState!==null||js,!h){a=a!==null&&a.memoizedState!==null||Fe,p=js;var y=Fe;js=h,(Fe=a)&&!y?Fs(s,c,(c.subtreeFlags&8772)!==0):Bs(s,c),js=p,Fe=y}break;case 30:break;default:Bs(s,c)}}function aT(s){var a=s.alternate;a!==null&&(s.alternate=null,aT(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Oo(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var be=null,Mn=!1;function Us(s,a,c){for(c=c.child;c!==null;)oT(s,a,c),c=c.sibling}function oT(s,a,c){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(vi,c)}catch{}switch(c.tag){case 26:Fe||us(c,a),Us(s,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Fe||us(c,a);var h=be,p=Mn;Or(c.type)&&(be=c.stateNode,Mn=!1),Us(s,a,c),hu(c.stateNode),be=h,Mn=p;break;case 5:Fe||us(c,a);case 6:if(h=be,p=Mn,be=null,Us(s,a,c),be=h,Mn=p,be!==null)if(Mn)try{(be.nodeType===9?be.body:be.nodeName==="HTML"?be.ownerDocument.body:be).removeChild(c.stateNode)}catch(y){ie(c,a,y)}else try{be.removeChild(c.stateNode)}catch(y){ie(c,a,y)}break;case 18:be!==null&&(Mn?(s=be,JT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),_l(s)):JT(be,c.stateNode));break;case 4:h=be,p=Mn,be=c.stateNode.containerInfo,Mn=!0,Us(s,a,c),be=h,Mn=p;break;case 0:case 11:case 14:case 15:Cr(2,c,a),Fe||Cr(4,c,a),Us(s,a,c);break;case 1:Fe||(us(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&tT(c,a,h)),Us(s,a,c);break;case 21:Us(s,a,c);break;case 22:Fe=(h=Fe)||c.memoizedState!==null,Us(s,a,c),Fe=h;break;default:Us(s,a,c)}}function lT(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{_l(s)}catch(c){ie(a,a.return,c)}}}function cT(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{_l(s)}catch(c){ie(a,a.return,c)}}function gM(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new sT),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new sT),a;default:throw Error(i(435,s.tag))}}function zf(s,a){var c=gM(s);a.forEach(function(h){if(!c.has(h)){c.add(h);var p=SM.bind(null,s,h);h.then(p,p)}})}function Nn(s,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var p=c[h],y=s,x=a,A=x;t:for(;A!==null;){switch(A.tag){case 27:if(Or(A.type)){be=A.stateNode,Mn=!1;break t}break;case 5:be=A.stateNode,Mn=!1;break t;case 3:case 4:be=A.stateNode.containerInfo,Mn=!0;break t}A=A.return}if(be===null)throw Error(i(160));oT(y,x,p),be=null,Mn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)uT(a,s),a=a.sibling}var ki=null;function uT(s,a){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Nn(a,s),On(s),h&4&&(Cr(3,s,s.return),eu(3,s),Cr(5,s,s.return));break;case 1:Nn(a,s),On(s),h&512&&(Fe||c===null||us(c,c.return)),h&64&&js&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var p=ki;if(Nn(a,s),On(s),h&512&&(Fe||c===null||us(c,c.return)),h&4){var y=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){t:{h=s.type,c=s.memoizedProps,p=p.ownerDocument||p;e:switch(h){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Xi]||y[Ve]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(h),p.head.insertBefore(y,p.querySelector("head > title"))),un(y,h,c),y[Ve]=s,Le(y),h=y;break t;case"link":var x=u1("link","href",p).get(h+(c.href||""));if(x){for(var A=0;A<x.length;A++)if(y=x[A],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){x.splice(A,1);break e}}y=p.createElement(h),un(y,h,c),p.head.appendChild(y);break;case"meta":if(x=u1("meta","content",p).get(h+(c.content||""))){for(A=0;A<x.length;A++)if(y=x[A],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){x.splice(A,1);break e}}y=p.createElement(h),un(y,h,c),p.head.appendChild(y);break;default:throw Error(i(468,h))}y[Ve]=s,Le(y),h=y}s.stateNode=h}else h1(p,s.type,s.stateNode);else s.stateNode=c1(p,h,s.memoizedProps);else y!==h?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,h===null?h1(p,s.type,s.stateNode):c1(p,h,s.memoizedProps)):h===null&&s.stateNode!==null&&Cg(s,s.memoizedProps,c.memoizedProps)}break;case 27:Nn(a,s),On(s),h&512&&(Fe||c===null||us(c,c.return)),c!==null&&h&4&&Cg(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Nn(a,s),On(s),h&512&&(Fe||c===null||us(c,c.return)),s.flags&32){p=s.stateNode;try{Dn(p,"")}catch(yt){ie(s,s.return,yt)}}h&4&&s.stateNode!=null&&(p=s.memoizedProps,Cg(s,p,c!==null?c.memoizedProps:p)),h&1024&&(Ig=!0);break;case 6:if(Nn(a,s),On(s),h&4){if(s.stateNode===null)throw Error(i(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(yt){ie(s,s.return,yt)}}break;case 3:if(td=null,p=ki,ki=Zf(a.containerInfo),Nn(a,s),ki=p,On(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{_l(a.containerInfo)}catch(yt){ie(s,s.return,yt)}Ig&&(Ig=!1,hT(s));break;case 4:h=ki,ki=Zf(s.stateNode.containerInfo),Nn(a,s),On(s),ki=h;break;case 12:Nn(a,s),On(s);break;case 31:Nn(a,s),On(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,zf(s,h)));break;case 13:Nn(a,s),On(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Uf=Sn()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,zf(s,h)));break;case 22:p=s.memoizedState!==null;var L=c!==null&&c.memoizedState!==null,K=js,tt=Fe;if(js=K||p,Fe=tt||L,Nn(a,s),Fe=tt,js=K,On(s),h&8192)t:for(a=s.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(c===null||L||js||Fe||Za(s)),c=null,a=s;;){if(a.tag===5||a.tag===26){if(c===null){L=c=a;try{if(y=L.stateNode,p)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{A=L.stateNode;var at=L.memoizedProps.style,$=at!=null&&at.hasOwnProperty("display")?at.display:null;A.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(yt){ie(L,L.return,yt)}}}else if(a.tag===6){if(c===null){L=a;try{L.stateNode.nodeValue=p?"":L.memoizedProps}catch(yt){ie(L,L.return,yt)}}}else if(a.tag===18){if(c===null){L=a;try{var J=L.stateNode;p?t1(J,!0):t1(L.stateNode,!1)}catch(yt){ie(L,L.return,yt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,zf(s,c))));break;case 19:Nn(a,s),On(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,zf(s,h)));break;case 30:break;case 21:break;default:Nn(a,s),On(s)}}function On(s){var a=s.flags;if(a&2){try{for(var c,h=s.return;h!==null;){if(nT(h)){c=h;break}h=h.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var p=c.stateNode,y=Rg(s);Lf(s,y,p);break;case 5:var x=c.stateNode;c.flags&32&&(Dn(x,""),c.flags&=-33);var A=Rg(s);Lf(s,A,x);break;case 3:case 4:var L=c.stateNode.containerInfo,K=Rg(s);kg(s,K,L);break;default:throw Error(i(161))}}catch(tt){ie(s,s.return,tt)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function hT(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;hT(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Bs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)rT(s,a.alternate,a),a=a.sibling}function Za(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Cr(4,a,a.return),Za(a);break;case 1:us(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&tT(a,a.return,c),Za(a);break;case 27:hu(a.stateNode);case 26:case 5:us(a,a.return),Za(a);break;case 22:a.memoizedState===null&&Za(a);break;case 30:Za(a);break;default:Za(a)}s=s.sibling}}function Fs(s,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,p=s,y=a,x=y.flags;switch(y.tag){case 0:case 11:case 15:Fs(p,y,c),eu(4,y);break;case 1:if(Fs(p,y,c),h=y,p=h.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(K){ie(h,h.return,K)}if(h=y,p=h.updateQueue,p!==null){var A=h.stateNode;try{var L=p.shared.hiddenCallbacks;if(L!==null)for(p.shared.hiddenCallbacks=null,p=0;p<L.length;p++)Fb(L[p],A)}catch(K){ie(h,h.return,K)}}c&&x&64&&Jx(y),nu(y,y.return);break;case 27:iT(y);case 26:case 5:Fs(p,y,c),c&&h===null&&x&4&&eT(y),nu(y,y.return);break;case 12:Fs(p,y,c);break;case 31:Fs(p,y,c),c&&x&4&&lT(p,y);break;case 13:Fs(p,y,c),c&&x&4&&cT(p,y);break;case 22:y.memoizedState===null&&Fs(p,y,c),nu(y,y.return);break;case 30:break;default:Fs(p,y,c)}a=a.sibling}}function Dg(s,a){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Fc(c))}function Mg(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Fc(s))}function Ii(s,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)fT(s,a,c,h),a=a.sibling}function fT(s,a,c,h){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Ii(s,a,c,h),p&2048&&eu(9,a);break;case 1:Ii(s,a,c,h);break;case 3:Ii(s,a,c,h),p&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Fc(s)));break;case 12:if(p&2048){Ii(s,a,c,h),s=a.stateNode;try{var y=a.memoizedProps,x=y.id,A=y.onPostCommit;typeof A=="function"&&A(x,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){ie(a,a.return,L)}}else Ii(s,a,c,h);break;case 31:Ii(s,a,c,h);break;case 13:Ii(s,a,c,h);break;case 23:break;case 22:y=a.stateNode,x=a.alternate,a.memoizedState!==null?y._visibility&2?Ii(s,a,c,h):iu(s,a):y._visibility&2?Ii(s,a,c,h):(y._visibility|=2,ol(s,a,c,h,(a.subtreeFlags&10256)!==0||!1)),p&2048&&Dg(x,a);break;case 24:Ii(s,a,c,h),p&2048&&Mg(a.alternate,a);break;default:Ii(s,a,c,h)}}function ol(s,a,c,h,p){for(p=p&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var y=s,x=a,A=c,L=h,K=x.flags;switch(x.tag){case 0:case 11:case 15:ol(y,x,A,L,p),eu(8,x);break;case 23:break;case 22:var tt=x.stateNode;x.memoizedState!==null?tt._visibility&2?ol(y,x,A,L,p):iu(y,x):(tt._visibility|=2,ol(y,x,A,L,p)),p&&K&2048&&Dg(x.alternate,x);break;case 24:ol(y,x,A,L,p),p&&K&2048&&Mg(x.alternate,x);break;default:ol(y,x,A,L,p)}a=a.sibling}}function iu(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=s,h=a,p=h.flags;switch(h.tag){case 22:iu(c,h),p&2048&&Dg(h.alternate,h);break;case 24:iu(c,h),p&2048&&Mg(h.alternate,h);break;default:iu(c,h)}a=a.sibling}}var su=8192;function ll(s,a,c){if(s.subtreeFlags&su)for(s=s.child;s!==null;)dT(s,a,c),s=s.sibling}function dT(s,a,c){switch(s.tag){case 26:ll(s,a,c),s.flags&su&&s.memoizedState!==null&&nN(c,ki,s.memoizedState,s.memoizedProps);break;case 5:ll(s,a,c);break;case 3:case 4:var h=ki;ki=Zf(s.stateNode.containerInfo),ll(s,a,c),ki=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=su,su=16777216,ll(s,a,c),su=h):ll(s,a,c));break;default:ll(s,a,c)}}function mT(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function ru(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];nn=h,gT(h,s)}mT(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)pT(s),s=s.sibling}function pT(s){switch(s.tag){case 0:case 11:case 15:ru(s),s.flags&2048&&Cr(9,s,s.return);break;case 3:ru(s);break;case 12:ru(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,jf(s)):ru(s);break;default:ru(s)}}function jf(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];nn=h,gT(h,s)}mT(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Cr(8,a,a.return),jf(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,jf(a));break;default:jf(a)}s=s.sibling}}function gT(s,a){for(;nn!==null;){var c=nn;switch(c.tag){case 0:case 11:case 15:Cr(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Fc(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,nn=h;else t:for(c=s;nn!==null;){h=nn;var p=h.sibling,y=h.return;if(aT(h),h===c){nn=null;break t}if(p!==null){p.return=y,nn=p;break t}nn=y}}}var yM={getCacheForType:function(s){var a=ln(je),c=a.data.get(s);return c===void 0&&(c=s(),a.data.set(s,c)),c},cacheSignal:function(){return ln(je).controller.signal}},_M=typeof WeakMap=="function"?WeakMap:Map,Zt=0,ue=null,jt=null,Bt=0,ne=0,Yn=null,Rr=!1,cl=!1,Ng=!1,Hs=0,Se=0,kr=0,Ja=0,Og=0,$n=0,ul=0,au=null,Pn=null,Pg=!1,Uf=0,yT=0,Bf=1/0,Ff=null,Ir=null,$e=0,Dr=null,hl=null,qs=0,Vg=0,Lg=null,_T=null,ou=0,zg=null;function Wn(){return(Zt&2)!==0&&Bt!==0?Bt&-Bt:Y.T!==null?qg():Fh()}function vT(){if($n===0)if((Bt&536870912)===0||Kt){var s=Aa;Aa<<=1,(Aa&3932160)===0&&(Aa=262144),$n=s}else $n=536870912;return s=Gn.current,s!==null&&(s.flags|=32),$n}function Vn(s,a,c){(s===ue&&(ne===2||ne===9)||s.cancelPendingCommit!==null)&&(fl(s,0),Mr(s,Bt,$n,!1)),Ca(s,c),((Zt&2)===0||s!==ue)&&(s===ue&&((Zt&2)===0&&(Ja|=c),Se===4&&Mr(s,Bt,$n,!1)),hs(s))}function bT(s,a,c){if((Zt&6)!==0)throw Error(i(327));var h=!c&&(a&127)===0&&(a&s.expiredLanes)===0||bi(s,a),p=h?xM(s,a):Ug(s,a,!0),y=h;do{if(p===0){cl&&!h&&Mr(s,a,0,!1);break}else{if(c=s.current.alternate,y&&!vM(c)){p=Ug(s,a,!1),y=!1;continue}if(p===2){if(y=a,s.errorRecoveryDisabledLanes&y)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){a=x;t:{var A=s;p=au;var L=A.current.memoizedState.isDehydrated;if(L&&(fl(A,x).flags|=256),x=Ug(A,x,!1),x!==2){if(Ng&&!L){A.errorRecoveryDisabledLanes|=y,Ja|=y,p=4;break t}y=Pn,Pn=p,y!==null&&(Pn===null?Pn=y:Pn.push.apply(Pn,y))}p=x}if(y=!1,p!==2)continue}}if(p===1){fl(s,0),Mr(s,a,0,!0);break}t:{switch(h=s,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Mr(h,a,$n,!Rr);break t;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=Uf+300-Sn(),10<p)){if(Mr(h,a,$n,!Rr),Yi(h,0,!0)!==0)break t;qs=a,h.timeoutHandle=QT(xT.bind(null,h,c,Pn,Ff,Pg,a,$n,Ja,ul,Rr,y,"Throttled",-0,0),p);break t}xT(h,c,Pn,Ff,Pg,a,$n,Ja,ul,Rr,y,null,-0,0)}}break}while(!0);hs(s)}function xT(s,a,c,h,p,y,x,A,L,K,tt,at,$,J){if(s.timeoutHandle=-1,at=a.subtreeFlags,at&8192||(at&16785408)===16785408){at={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ei},dT(a,y,at);var yt=(y&62914560)===y?Uf-Sn():(y&4194048)===y?yT-Sn():0;if(yt=iN(at,yt),yt!==null){qs=y,s.cancelPendingCommit=yt(kT.bind(null,s,a,y,c,h,p,x,A,L,tt,at,null,$,J)),Mr(s,y,x,!K);return}}kT(s,a,y,c,h,p,x,A,L)}function vM(s){for(var a=s;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var p=c[h],y=p.getSnapshot;p=p.value;try{if(!Hn(y(),p))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Mr(s,a,c,h){a&=~Og,a&=~Ja,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var p=a;0<p;){var y=31-Ce(p),x=1<<y;h[y]=-1,p&=~x}c!==0&&Ra(s,c,a)}function Hf(){return(Zt&6)===0?(lu(0),!1):!0}function jg(){if(jt!==null){if(ne===0)var s=jt.return;else s=jt,Ns=qa=null,eg(s),nl=null,qc=0,s=jt;for(;s!==null;)Zx(s.alternate,s),s=s.return;jt=null}}function fl(s,a){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,jM(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),qs=0,jg(),ue=s,jt=c=Ds(s.current,null),Bt=a,ne=0,Yn=null,Rr=!1,cl=bi(s,a),Ng=!1,ul=$n=Og=Ja=kr=Se=0,Pn=au=null,Pg=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var p=31-Ce(h),y=1<<p;a|=s[p],h&=~y}return Hs=a,uf(),c}function TT(s,a){Pt=null,Y.H=Zc,a===el||a===_f?(a=zb(),ne=3):a===Hp?(a=zb(),ne=4):ne=a===yg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Yn=a,jt===null&&(Se=1,Mf(s,ii(a,s.current)))}function ET(){var s=Gn.current;return s===null?!0:(Bt&4194048)===Bt?oi===null:(Bt&62914560)===Bt||(Bt&536870912)!==0?s===oi:!1}function wT(){var s=Y.H;return Y.H=Zc,s===null?Zc:s}function ST(){var s=Y.A;return Y.A=yM,s}function qf(){Se=4,Rr||(Bt&4194048)!==Bt&&Gn.current!==null||(cl=!0),(kr&134217727)===0&&(Ja&134217727)===0||ue===null||Mr(ue,Bt,$n,!1)}function Ug(s,a,c){var h=Zt;Zt|=2;var p=wT(),y=ST();(ue!==s||Bt!==a)&&(Ff=null,fl(s,a)),a=!1;var x=Se;t:do try{if(ne!==0&&jt!==null){var A=jt,L=Yn;switch(ne){case 8:jg(),x=6;break t;case 3:case 2:case 9:case 6:Gn.current===null&&(a=!0);var K=ne;if(ne=0,Yn=null,dl(s,A,L,K),c&&cl){x=0;break t}break;default:K=ne,ne=0,Yn=null,dl(s,A,L,K)}}bM(),x=Se;break}catch(tt){TT(s,tt)}while(!0);return a&&s.shellSuspendCounter++,Ns=qa=null,Zt=h,Y.H=p,Y.A=y,jt===null&&(ue=null,Bt=0,uf()),x}function bM(){for(;jt!==null;)AT(jt)}function xM(s,a){var c=Zt;Zt|=2;var h=wT(),p=ST();ue!==s||Bt!==a?(Ff=null,Bf=Sn()+500,fl(s,a)):cl=bi(s,a);t:do try{if(ne!==0&&jt!==null){a=jt;var y=Yn;e:switch(ne){case 1:ne=0,Yn=null,dl(s,a,y,1);break;case 2:case 9:if(Vb(y)){ne=0,Yn=null,CT(a);break}a=function(){ne!==2&&ne!==9||ue!==s||(ne=7),hs(s)},y.then(a,a);break t;case 3:ne=7;break t;case 4:ne=5;break t;case 7:Vb(y)?(ne=0,Yn=null,CT(a)):(ne=0,Yn=null,dl(s,a,y,7));break;case 5:var x=null;switch(jt.tag){case 26:x=jt.memoizedState;case 5:case 27:var A=jt;if(x?f1(x):A.stateNode.complete){ne=0,Yn=null;var L=A.sibling;if(L!==null)jt=L;else{var K=A.return;K!==null?(jt=K,Gf(K)):jt=null}break e}}ne=0,Yn=null,dl(s,a,y,5);break;case 6:ne=0,Yn=null,dl(s,a,y,6);break;case 8:jg(),Se=6;break t;default:throw Error(i(462))}}TM();break}catch(tt){TT(s,tt)}while(!0);return Ns=qa=null,Y.H=h,Y.A=p,Zt=c,jt!==null?0:(ue=null,Bt=0,uf(),Se)}function TM(){for(;jt!==null&&!gp();)AT(jt)}function AT(s){var a=Xx(s.alternate,s,Hs);s.memoizedProps=s.pendingProps,a===null?Gf(s):jt=a}function CT(s){var a=s,c=a.alternate;switch(a.tag){case 15:case 0:a=qx(c,a,a.pendingProps,a.type,void 0,Bt);break;case 11:a=qx(c,a,a.pendingProps,a.type.render,a.ref,Bt);break;case 5:eg(a);default:Zx(c,a),a=jt=Sb(a,Hs),a=Xx(c,a,Hs)}s.memoizedProps=s.pendingProps,a===null?Gf(s):jt=a}function dl(s,a,c,h){Ns=qa=null,eg(a),nl=null,qc=0;var p=a.return;try{if(uM(s,p,a,c,Bt)){Se=1,Mf(s,ii(c,s.current)),jt=null;return}}catch(y){if(p!==null)throw jt=p,y;Se=1,Mf(s,ii(c,s.current)),jt=null;return}a.flags&32768?(Kt||h===1?s=!0:cl||(Bt&536870912)!==0?s=!1:(Rr=s=!0,(h===2||h===9||h===3||h===6)&&(h=Gn.current,h!==null&&h.tag===13&&(h.flags|=16384))),RT(a,s)):Gf(a)}function Gf(s){var a=s;do{if((a.flags&32768)!==0){RT(a,Rr);return}s=a.return;var c=dM(a.alternate,a,Hs);if(c!==null){jt=c;return}if(a=a.sibling,a!==null){jt=a;return}jt=a=s}while(a!==null);Se===0&&(Se=5)}function RT(s,a){do{var c=mM(s.alternate,s);if(c!==null){c.flags&=32767,jt=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(s=s.sibling,s!==null)){jt=s;return}jt=s=c}while(s!==null);Se=6,jt=null}function kT(s,a,c,h,p,y,x,A,L){s.cancelPendingCommit=null;do Kf();while($e!==0);if((Zt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=Rp,vp(s,c,y,x,A,L),s===ue&&(jt=ue=null,Bt=0),hl=a,Dr=s,qs=c,Vg=y,Lg=p,_T=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,AM(lr,function(){return OT(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=Y.T,Y.T=null,p=rt.p,rt.p=2,x=Zt,Zt|=4;try{pM(s,a,c)}finally{Zt=x,rt.p=p,Y.T=h}}$e=1,IT(),DT(),MT()}}function IT(){if($e===1){$e=0;var s=Dr,a=hl,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null;var h=rt.p;rt.p=2;var p=Zt;Zt|=4;try{uT(a,s);var y=Zg,x=gb(s.containerInfo),A=y.focusedElem,L=y.selectionRange;if(x!==A&&A&&A.ownerDocument&&pb(A.ownerDocument.documentElement,A)){if(L!==null&&Ep(A)){var K=L.start,tt=L.end;if(tt===void 0&&(tt=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(tt,A.value.length);else{var at=A.ownerDocument||document,$=at&&at.defaultView||window;if($.getSelection){var J=$.getSelection(),yt=A.textContent.length,St=Math.min(L.start,yt),ce=L.end===void 0?St:Math.min(L.end,yt);!J.extend&&St>ce&&(x=ce,ce=St,St=x);var H=mb(A,St),U=mb(A,ce);if(H&&U&&(J.rangeCount!==1||J.anchorNode!==H.node||J.anchorOffset!==H.offset||J.focusNode!==U.node||J.focusOffset!==U.offset)){var G=at.createRange();G.setStart(H.node,H.offset),J.removeAllRanges(),St>ce?(J.addRange(G),J.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),J.addRange(G))}}}}for(at=[],J=A;J=J.parentNode;)J.nodeType===1&&at.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<at.length;A++){var nt=at[A];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}sd=!!Qg,Zg=Qg=null}finally{Zt=p,rt.p=h,Y.T=c}}s.current=a,$e=2}}function DT(){if($e===2){$e=0;var s=Dr,a=hl,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=Y.T,Y.T=null;var h=rt.p;rt.p=2;var p=Zt;Zt|=4;try{rT(s,a.alternate,a)}finally{Zt=p,rt.p=h,Y.T=c}}$e=3}}function MT(){if($e===4||$e===3){$e=0,Ph();var s=Dr,a=hl,c=qs,h=_T;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?$e=5:($e=0,hl=Dr=null,NT(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(Ir=null),Cs(c),a=a.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(vi,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=Y.T,p=rt.p,rt.p=2,Y.T=null;try{for(var y=s.onRecoverableError,x=0;x<h.length;x++){var A=h[x];y(A.value,{componentStack:A.stack})}}finally{Y.T=a,rt.p=p}}(qs&3)!==0&&Kf(),hs(s),p=s.pendingLanes,(c&261930)!==0&&(p&42)!==0?s===zg?ou++:(ou=0,zg=s):ou=0,lu(0)}}function NT(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Fc(a)))}function Kf(){return IT(),DT(),MT(),OT()}function OT(){if($e!==5)return!1;var s=Dr,a=Vg;Vg=0;var c=Cs(qs),h=Y.T,p=rt.p;try{rt.p=32>c?32:c,Y.T=null,c=Lg,Lg=null;var y=Dr,x=qs;if($e=0,hl=Dr=null,qs=0,(Zt&6)!==0)throw Error(i(331));var A=Zt;if(Zt|=4,pT(y.current),fT(y,y.current,x,c),Zt=A,lu(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(vi,y)}catch{}return!0}finally{rt.p=p,Y.T=h,NT(s,a)}}function PT(s,a,c){a=ii(c,a),a=gg(s.stateNode,a,2),s=wr(s,a,2),s!==null&&(Ca(s,2),hs(s))}function ie(s,a,c){if(s.tag===3)PT(s,s,c);else for(;a!==null;){if(a.tag===3){PT(a,s,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ir===null||!Ir.has(h))){s=ii(c,s),c=Vx(2),h=wr(a,c,2),h!==null&&(Lx(c,h,a,s),Ca(h,2),hs(h));break}}a=a.return}}function Bg(s,a,c){var h=s.pingCache;if(h===null){h=s.pingCache=new _M;var p=new Set;h.set(a,p)}else p=h.get(a),p===void 0&&(p=new Set,h.set(a,p));p.has(c)||(Ng=!0,p.add(c),s=EM.bind(null,s,a,c),a.then(s,s))}function EM(s,a,c){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,ue===s&&(Bt&c)===c&&(Se===4||Se===3&&(Bt&62914560)===Bt&&300>Sn()-Uf?(Zt&2)===0&&fl(s,0):Og|=c,ul===Bt&&(ul=0)),hs(s)}function VT(s,a){a===0&&(a=Bh()),s=Ba(s,a),s!==null&&(Ca(s,a),hs(s))}function wM(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),VT(s,c)}function SM(s,a){var c=0;switch(s.tag){case 31:case 13:var h=s.stateNode,p=s.memoizedState;p!==null&&(c=p.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),VT(s,c)}function AM(s,a){return Ye(s,a)}var Yf=null,ml=null,Fg=!1,$f=!1,Hg=!1,Nr=0;function hs(s){s!==ml&&s.next===null&&(ml===null?Yf=ml=s:ml=ml.next=s),$f=!0,Fg||(Fg=!0,RM())}function lu(s,a){if(!Hg&&$f){Hg=!0;do for(var c=!1,h=Yf;h!==null;){if(s!==0){var p=h.pendingLanes;if(p===0)var y=0;else{var x=h.suspendedLanes,A=h.pingedLanes;y=(1<<31-Ce(42|s)+1)-1,y&=p&~(x&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,UT(h,y))}else y=Bt,y=Yi(h,h===ue?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||bi(h,y)||(c=!0,UT(h,y));h=h.next}while(c);Hg=!1}}function CM(){LT()}function LT(){$f=Fg=!1;var s=0;Nr!==0&&zM()&&(s=Nr);for(var a=Sn(),c=null,h=Yf;h!==null;){var p=h.next,y=zT(h,a);y===0?(h.next=null,c===null?Yf=p:c.next=p,p===null&&(ml=c)):(c=h,(s!==0||(y&3)!==0)&&($f=!0)),h=p}$e!==0&&$e!==5||lu(s),Nr!==0&&(Nr=0)}function zT(s,a){for(var c=s.suspendedLanes,h=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var x=31-Ce(y),A=1<<x,L=p[x];L===-1?((A&c)===0||(A&h)!==0)&&(p[x]=_p(A,a)):L<=a&&(s.expiredLanes|=A),y&=~A}if(a=ue,c=Bt,c=Yi(s,s===a?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===a&&(ne===2||ne===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&or(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||bi(s,c)){if(a=c&-c,a===s.callbackPriority)return a;switch(h!==null&&or(h),Cs(c)){case 2:case 8:c=_c;break;case 32:c=lr;break;case 268435456:c=Vh;break;default:c=lr}return h=jT.bind(null,s),c=Ye(c,h),s.callbackPriority=a,s.callbackNode=c,a}return h!==null&&h!==null&&or(h),s.callbackPriority=2,s.callbackNode=null,2}function jT(s,a){if($e!==0&&$e!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Kf()&&s.callbackNode!==c)return null;var h=Bt;return h=Yi(s,s===ue?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(bT(s,h,a),zT(s,Sn()),s.callbackNode!=null&&s.callbackNode===c?jT.bind(null,s):null)}function UT(s,a){if(Kf())return null;bT(s,a,!0)}function RM(){UM(function(){(Zt&6)!==0?Ye(yc,CM):LT()})}function qg(){if(Nr===0){var s=Jo;s===0&&(s=Gi,Gi<<=1,(Gi&261888)===0&&(Gi=256)),Nr=s}return Nr}function BT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:zo(""+s)}function FT(s,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,s.id&&c.setAttribute("form",s.id),a.parentNode.insertBefore(c,a),s=new FormData(s),c.parentNode.removeChild(c),s}function kM(s,a,c,h,p){if(a==="submit"&&c&&c.stateNode===p){var y=BT((p[tn]||null).action),x=h.submitter;x&&(a=(a=x[tn]||null)?BT(a.formAction):x.getAttribute("formAction"),a!==null&&(y=a,x=null));var A=new ss("action","action",null,h,p);s.push({event:A,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Nr!==0){var L=x?FT(p,x):new FormData(p);ug(c,{pending:!0,data:L,method:p.method,action:y},null,L)}}else typeof y=="function"&&(A.preventDefault(),L=x?FT(p,x):new FormData(p),ug(c,{pending:!0,data:L,method:p.method,action:y},y,L))},currentTarget:p}]})}}for(var Gg=0;Gg<Cp.length;Gg++){var Kg=Cp[Gg],IM=Kg.toLowerCase(),DM=Kg[0].toUpperCase()+Kg.slice(1);Ri(IM,"on"+DM)}Ri(vb,"onAnimationEnd"),Ri(bb,"onAnimationIteration"),Ri(xb,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(YD,"onTransitionRun"),Ri($D,"onTransitionStart"),Ri(WD,"onTransitionCancel"),Ri(Tb,"onTransitionEnd"),ts("onMouseEnter",["mouseout","mouseover"]),ts("onMouseLeave",["mouseout","mouseover"]),ts("onPointerEnter",["pointerout","pointerover"]),ts("onPointerLeave",["pointerout","pointerover"]),Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cu));function HT(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],p=h.event;h=h.listeners;t:{var y=void 0;if(a)for(var x=h.length-1;0<=x;x--){var A=h[x],L=A.instance,K=A.currentTarget;if(A=A.listener,L!==y&&p.isPropagationStopped())break t;y=A,p.currentTarget=K;try{y(p)}catch(tt){cf(tt)}p.currentTarget=null,y=L}else for(x=0;x<h.length;x++){if(A=h[x],L=A.instance,K=A.currentTarget,A=A.listener,L!==y&&p.isPropagationStopped())break t;y=A,p.currentTarget=K;try{y(p)}catch(tt){cf(tt)}p.currentTarget=null,y=L}}}}function Ut(s,a){var c=a[No];c===void 0&&(c=a[No]=new Set);var h=s+"__bubble";c.has(h)||(qT(a,s,2,!1),c.add(h))}function Yg(s,a,c){var h=0;a&&(h|=4),qT(c,s,h,a)}var Wf="_reactListening"+Math.random().toString(36).slice(2);function $g(s){if(!s[Wf]){s[Wf]=!0,xc.forEach(function(c){c!=="selectionchange"&&(MM.has(c)||Yg(c,!1,s),Yg(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Wf]||(a[Wf]=!0,Yg("selectionchange",!1,a))}}function qT(s,a,c,h){switch(v1(a)){case 2:var p=aN;break;case 8:p=oN;break;default:p=cy}c=p.bind(null,a,c,s),p=void 0,!Na||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),h?p!==void 0?s.addEventListener(a,c,{capture:!0,passive:p}):s.addEventListener(a,c,!0):p!==void 0?s.addEventListener(a,c,{passive:p}):s.addEventListener(a,c,!1)}function Wg(s,a,c,h,p){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var A=h.stateNode.containerInfo;if(A===p)break;if(x===4)for(x=h.return;x!==null;){var L=x.tag;if((L===3||L===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;A!==null;){if(x=Qi(A),x===null)return;if(L=x.tag,L===5||L===6||L===26||L===27){h=y=x;continue t}A=A.parentNode}}h=h.return}mr(function(){var K=y,tt=Jn(c),at=[];t:{var $=Eb.get(s);if($!==void 0){var J=ss,yt=s;switch(s){case"keypress":if(Pa(c)===0)break t;case"keydown":case"keyup":J=af;break;case"focusin":yt="focus",J=La;break;case"focusout":yt="blur",J=La;break;case"beforeblur":case"afterblur":J=La;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=b;break;case vb:case bb:case xb:J=Zh;break;case Tb:J=I;break;case"scroll":case"scrollend":J=Nc;break;case"wheel":J=X;break;case"copy":case"cut":case"paste":J=Jh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Is;break;case"toggle":case"beforetoggle":J=Ot}var St=(a&4)!==0,ce=!St&&(s==="scroll"||s==="scrollend"),H=St?$!==null?$+"Capture":null:$;St=[];for(var U=K,G;U!==null;){var nt=U;if(G=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||G===null||H===null||(nt=wi(U,H),nt!=null&&St.push(uu(U,nt,G))),ce)break;U=U.return}0<St.length&&($=new J($,yt,null,c,tt),at.push({event:$,listeners:St}))}}if((a&7)===0){t:{if($=s==="mouseover"||s==="pointerover",J=s==="mouseout"||s==="pointerout",$&&c!==Ic&&(yt=c.relatedTarget||c.fromElement)&&(Qi(yt)||yt[Wi]))break t;if((J||$)&&($=tt.window===tt?tt:($=tt.ownerDocument)?$.defaultView||$.parentWindow:window,J?(yt=c.relatedTarget||c.toElement,J=K,yt=yt?Qi(yt):null,yt!==null&&(ce=o(yt),St=yt.tag,yt!==ce||St!==5&&St!==27&&St!==6)&&(yt=null)):(J=null,yt=K),J!==yt)){if(St=Oc,nt="onMouseLeave",H="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(St=Is,nt="onPointerLeave",H="onPointerEnter",U="pointer"),ce=J==null?$:Bn(J),G=yt==null?$:Bn(yt),$=new St(nt,U+"leave",J,c,tt),$.target=ce,$.relatedTarget=G,nt=null,Qi(tt)===K&&(St=new St(H,U+"enter",yt,c,tt),St.target=G,St.relatedTarget=ce,nt=St),ce=nt,J&&yt)e:{for(St=NM,H=J,U=yt,G=0,nt=H;nt;nt=St(nt))G++;nt=0;for(var Tt=U;Tt;Tt=St(Tt))nt++;for(;0<G-nt;)H=St(H),G--;for(;0<nt-G;)U=St(U),nt--;for(;G--;){if(H===U||U!==null&&H===U.alternate){St=H;break e}H=St(H),U=St(U)}St=null}else St=null;J!==null&&GT(at,$,J,St,!1),yt!==null&&ce!==null&&GT(at,ce,yt,St,!0)}}t:{if($=K?Bn(K):window,J=$.nodeName&&$.nodeName.toLowerCase(),J==="select"||J==="input"&&$.type==="file")var $t=lb;else if(ab($))if(cb)$t=qD;else{$t=FD;var xt=BD}else J=$.nodeName,!J||J.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?K&&Lo(K.elementType)&&($t=lb):$t=HD;if($t&&($t=$t(s,K))){ob(at,$t,c,tt);break t}xt&&xt(s,$,K),s==="focusout"&&K&&$.type==="number"&&K.memoizedProps.value!=null&&Cc($,"number",$.value)}switch(xt=K?Bn(K):window,s){case"focusin":(ab(xt)||xt.contentEditable==="true")&&(Go=xt,wp=K,jc=null);break;case"focusout":jc=wp=Go=null;break;case"mousedown":Sp=!0;break;case"contextmenu":case"mouseup":case"dragend":Sp=!1,yb(at,c,tt);break;case"selectionchange":if(KD)break;case"keydown":case"keyup":yb(at,c,tt)}var Vt;if(Qt)t:{switch(s){case"compositionstart":var Ft="onCompositionStart";break t;case"compositionend":Ft="onCompositionEnd";break t;case"compositionupdate":Ft="onCompositionUpdate";break t}Ft=void 0}else qo?za(s,c)&&(Ft="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ft="onCompositionStart");Ft&&(os&&c.locale!=="ko"&&(qo||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&qo&&(Vt=Mc()):(is=tt,Dc="value"in is?is.value:is.textContent,qo=!0)),xt=Xf(K,Ft),0<xt.length&&(Ft=new as(Ft,s,null,c,tt),at.push({event:Ft,listeners:xt}),Vt?Ft.data=Vt:(Vt=Ho(c),Vt!==null&&(Ft.data=Vt)))),(Vt=ei?LD(s,c):zD(s,c))&&(Ft=Xf(K,"onBeforeInput"),0<Ft.length&&(xt=new as("onBeforeInput","beforeinput",null,c,tt),at.push({event:xt,listeners:Ft}),xt.data=Vt)),kM(at,s,K,c,tt)}HT(at,a)})}function uu(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Xf(s,a){for(var c=a+"Capture",h=[];s!==null;){var p=s,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=wi(s,c),p!=null&&h.unshift(uu(s,p,y)),p=wi(s,a),p!=null&&h.push(uu(s,p,y))),s.tag===3)return h;s=s.return}return[]}function NM(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function GT(s,a,c,h,p){for(var y=a._reactName,x=[];c!==null&&c!==h;){var A=c,L=A.alternate,K=A.stateNode;if(A=A.tag,L!==null&&L===h)break;A!==5&&A!==26&&A!==27||K===null||(L=K,p?(K=wi(c,y),K!=null&&x.unshift(uu(c,K,L))):p||(K=wi(c,y),K!=null&&x.push(uu(c,K,L)))),c=c.return}x.length!==0&&s.push({event:a,listeners:x})}var OM=/\r\n?/g,PM=/\u0000|\uFFFD/g;function KT(s){return(typeof s=="string"?s:""+s).replace(OM,`
`).replace(PM,"")}function YT(s,a){return a=KT(a),KT(s)===a}function le(s,a,c,h,p,y){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Dn(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Dn(s,""+h);break;case"className":Fn(s,"class",h);break;case"tabIndex":Fn(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(s,c,h);break;case"style":kc(s,h,y);break;case"data":if(a!=="object"){Fn(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=zo(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(a!=="input"&&le(s,a,"name",p.name,p,null),le(s,a,"formEncType",p.formEncType,p,null),le(s,a,"formMethod",p.formMethod,p,null),le(s,a,"formTarget",p.formTarget,p,null)):(le(s,a,"encType",p.encType,p,null),le(s,a,"method",p.method,p,null),le(s,a,"target",p.target,p,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=zo(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=Ei);break;case"onScroll":h!=null&&Ut("scroll",s);break;case"onScrollEnd":h!=null&&Ut("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=zo(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":Ut("beforetoggle",s),Ut("toggle",s),Po(s,"popover",h);break;case"xlinkActuate":ze(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ze(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ze(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ze(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ze(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ze(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ze(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ze(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ze(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Po(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Wh.get(c)||c,Po(s,c,h))}}function Xg(s,a,c,h,p,y){switch(c){case"style":kc(s,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof h=="string"?Dn(s,h):(typeof h=="number"||typeof h=="bigint")&&Dn(s,""+h);break;case"onScroll":h!=null&&Ut("scroll",s);break;case"onScrollEnd":h!=null&&Ut("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tc.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(p=c.endsWith("Capture"),a=c.slice(2,p?c.length-7:void 0),y=s[tn]||null,y=y!=null?y[c]:null,typeof y=="function"&&s.removeEventListener(a,y,p),typeof h=="function")){typeof y!="function"&&y!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(a,h,p);break t}c in s?s[c]=h:h===!0?s.setAttribute(c,""):Po(s,c,h)}}}function un(s,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",s),Ut("load",s);var h=!1,p=!1,y;for(y in c)if(c.hasOwnProperty(y)){var x=c[y];if(x!=null)switch(y){case"src":h=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:le(s,a,y,x,c,null)}}p&&le(s,a,"srcSet",c.srcSet,c,null),h&&le(s,a,"src",c.src,c,null);return;case"input":Ut("invalid",s);var A=y=x=p=null,L=null,K=null;for(h in c)if(c.hasOwnProperty(h)){var tt=c[h];if(tt!=null)switch(h){case"name":p=tt;break;case"type":x=tt;break;case"checked":L=tt;break;case"defaultChecked":K=tt;break;case"value":y=tt;break;case"defaultValue":A=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,a));break;default:le(s,a,h,tt,c,null)}}Kh(s,y,A,L,K,x,p,!1);return;case"select":Ut("invalid",s),h=x=y=null;for(p in c)if(c.hasOwnProperty(p)&&(A=c[p],A!=null))switch(p){case"value":y=A;break;case"defaultValue":x=A;break;case"multiple":h=A;default:le(s,a,p,A,c,null)}a=y,c=x,s.multiple=!!h,a!=null?ur(s,!!h,a,!1):c!=null&&ur(s,!!h,c,!0);return;case"textarea":Ut("invalid",s),y=p=h=null;for(x in c)if(c.hasOwnProperty(x)&&(A=c[x],A!=null))switch(x){case"value":h=A;break;case"defaultValue":p=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:le(s,a,x,A,c,null)}hr(s,h,p,y);return;case"option":for(L in c)c.hasOwnProperty(L)&&(h=c[L],h!=null)&&(L==="selected"?s.selected=h&&typeof h!="function"&&typeof h!="symbol":le(s,a,L,h,c,null));return;case"dialog":Ut("beforetoggle",s),Ut("toggle",s),Ut("cancel",s),Ut("close",s);break;case"iframe":case"object":Ut("load",s);break;case"video":case"audio":for(h=0;h<cu.length;h++)Ut(cu[h],s);break;case"image":Ut("error",s),Ut("load",s);break;case"details":Ut("toggle",s);break;case"embed":case"source":case"link":Ut("error",s),Ut("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in c)if(c.hasOwnProperty(K)&&(h=c[K],h!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:le(s,a,K,h,c,null)}return;default:if(Lo(a)){for(tt in c)c.hasOwnProperty(tt)&&(h=c[tt],h!==void 0&&Xg(s,a,tt,h,c,void 0));return}}for(A in c)c.hasOwnProperty(A)&&(h=c[A],h!=null&&le(s,a,A,h,c,null))}function VM(s,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,x=null,A=null,L=null,K=null,tt=null;for(J in c){var at=c[J];if(c.hasOwnProperty(J)&&at!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":L=at;default:h.hasOwnProperty(J)||le(s,a,J,null,h,at)}}for(var $ in h){var J=h[$];if(at=c[$],h.hasOwnProperty($)&&(J!=null||at!=null))switch($){case"type":y=J;break;case"name":p=J;break;case"checked":K=J;break;case"defaultChecked":tt=J;break;case"value":x=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:J!==at&&le(s,a,$,J,h,at)}}Vo(s,x,A,L,K,tt,y,p);return;case"select":J=x=A=$=null;for(y in c)if(L=c[y],c.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":J=L;default:h.hasOwnProperty(y)||le(s,a,y,null,h,L)}for(p in h)if(y=h[p],L=c[p],h.hasOwnProperty(p)&&(y!=null||L!=null))switch(p){case"value":$=y;break;case"defaultValue":A=y;break;case"multiple":x=y;default:y!==L&&le(s,a,p,y,h,L)}a=A,c=x,h=J,$!=null?ur(s,!!c,$,!1):!!h!=!!c&&(a!=null?ur(s,!!c,a,!0):ur(s,!!c,c?[]:"",!1));return;case"textarea":J=$=null;for(A in c)if(p=c[A],c.hasOwnProperty(A)&&p!=null&&!h.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:le(s,a,A,null,h,p)}for(x in h)if(p=h[x],y=c[x],h.hasOwnProperty(x)&&(p!=null||y!=null))switch(x){case"value":$=p;break;case"defaultValue":J=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&le(s,a,x,p,h,y)}Yh(s,$,J);return;case"option":for(var yt in c)$=c[yt],c.hasOwnProperty(yt)&&$!=null&&!h.hasOwnProperty(yt)&&(yt==="selected"?s.selected=!1:le(s,a,yt,null,h,$));for(L in h)$=h[L],J=c[L],h.hasOwnProperty(L)&&$!==J&&($!=null||J!=null)&&(L==="selected"?s.selected=$&&typeof $!="function"&&typeof $!="symbol":le(s,a,L,$,h,J));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in c)$=c[St],c.hasOwnProperty(St)&&$!=null&&!h.hasOwnProperty(St)&&le(s,a,St,null,h,$);for(K in h)if($=h[K],J=c[K],h.hasOwnProperty(K)&&$!==J&&($!=null||J!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,a));break;default:le(s,a,K,$,h,J)}return;default:if(Lo(a)){for(var ce in c)$=c[ce],c.hasOwnProperty(ce)&&$!==void 0&&!h.hasOwnProperty(ce)&&Xg(s,a,ce,void 0,h,$);for(tt in h)$=h[tt],J=c[tt],!h.hasOwnProperty(tt)||$===J||$===void 0&&J===void 0||Xg(s,a,tt,$,h,J);return}}for(var H in c)$=c[H],c.hasOwnProperty(H)&&$!=null&&!h.hasOwnProperty(H)&&le(s,a,H,null,h,$);for(at in h)$=h[at],J=c[at],!h.hasOwnProperty(at)||$===J||$==null&&J==null||le(s,a,at,$,h,J)}function $T(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LM(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var p=c[h],y=p.transferSize,x=p.initiatorType,A=p.duration;if(y&&A&&$T(x)){for(x=0,A=p.responseEnd,h+=1;h<c.length;h++){var L=c[h],K=L.startTime;if(K>A)break;var tt=L.transferSize,at=L.initiatorType;tt&&$T(at)&&(L=L.responseEnd,x+=tt*(L<A?1:(A-K)/(L-K)))}if(--h,a+=8*(y+x)/(p.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Qg=null,Zg=null;function Qf(s){return s.nodeType===9?s:s.ownerDocument}function WT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XT(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Jg(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ty=null;function zM(){var s=window.event;return s&&s.type==="popstate"?s===ty?!1:(ty=s,!0):(ty=null,!1)}var QT=typeof setTimeout=="function"?setTimeout:void 0,jM=typeof clearTimeout=="function"?clearTimeout:void 0,ZT=typeof Promise=="function"?Promise:void 0,UM=typeof queueMicrotask=="function"?queueMicrotask:typeof ZT<"u"?function(s){return ZT.resolve(null).then(s).catch(BM)}:QT;function BM(s){setTimeout(function(){throw s})}function Or(s){return s==="head"}function JT(s,a){var c=a,h=0;do{var p=c.nextSibling;if(s.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"||c==="/&"){if(h===0){s.removeChild(p),_l(a);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")hu(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,hu(c);for(var y=c.firstChild;y;){var x=y.nextSibling,A=y.nodeName;y[Xi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&y.rel.toLowerCase()==="stylesheet"||c.removeChild(y),y=x}}else c==="body"&&hu(s.ownerDocument.body);c=p}while(c);_l(a)}function t1(s,a){var c=s;s=0;do{var h=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=h}while(c)}function ey(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":ey(c),Oo(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function FM(s,a,c,h){for(;s.nodeType===1;){var p=c;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[Xi])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=li(s.nextSibling),s===null)break}return null}function HM(s,a,c){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=li(s.nextSibling),s===null))return null;return s}function e1(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=li(s.nextSibling),s===null))return null;return s}function ny(s){return s.data==="$?"||s.data==="$~"}function iy(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function qM(s,a){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||c.readyState!=="loading")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function li(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var sy=null;function n1(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(a===0)return li(s.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}s=s.nextSibling}return null}function i1(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return s;a--}else c!=="/$"&&c!=="/&"||a++}s=s.previousSibling}return null}function s1(s,a,c){switch(a=Qf(c),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function hu(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Oo(s)}var ci=new Map,r1=new Set;function Zf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Gs=rt.d;rt.d={f:GM,r:KM,D:YM,C:$M,L:WM,m:XM,X:ZM,S:QM,M:JM};function GM(){var s=Gs.f(),a=Hf();return s||a}function KM(s){var a=Zn(s);a!==null&&a.tag===5&&a.type==="form"?Tx(a):Gs.r(s)}var pl=typeof document>"u"?null:document;function a1(s,a,c){var h=pl;if(h&&typeof a=="string"&&a){var p=In(a);p='link[rel="'+s+'"][href="'+p+'"]',typeof c=="string"&&(p+='[crossorigin="'+c+'"]'),r1.has(p)||(r1.add(p),s={rel:s,crossOrigin:c,href:a},h.querySelector(p)===null&&(a=h.createElement("link"),un(a,"link",s),Le(a),h.head.appendChild(a)))}}function YM(s){Gs.D(s),a1("dns-prefetch",s,null)}function $M(s,a){Gs.C(s,a),a1("preconnect",s,a)}function WM(s,a,c){Gs.L(s,a,c);var h=pl;if(h&&s&&a){var p='link[rel="preload"][as="'+In(a)+'"]';a==="image"&&c&&c.imageSrcSet?(p+='[imagesrcset="'+In(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(p+='[imagesizes="'+In(c.imageSizes)+'"]')):p+='[href="'+In(s)+'"]';var y=p;switch(a){case"style":y=gl(s);break;case"script":y=yl(s)}ci.has(y)||(s=_({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:s,as:a},c),ci.set(y,s),h.querySelector(p)!==null||a==="style"&&h.querySelector(fu(y))||a==="script"&&h.querySelector(du(y))||(a=h.createElement("link"),un(a,"link",s),Le(a),h.head.appendChild(a)))}}function XM(s,a){Gs.m(s,a);var c=pl;if(c&&s){var h=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+In(h)+'"][href="'+In(s)+'"]',y=p;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=yl(s)}if(!ci.has(y)&&(s=_({rel:"modulepreload",href:s},a),ci.set(y,s),c.querySelector(p)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(du(y)))return}h=c.createElement("link"),un(h,"link",s),Le(h),c.head.appendChild(h)}}}function QM(s,a,c){Gs.S(s,a,c);var h=pl;if(h&&s){var p=Zi(h).hoistableStyles,y=gl(s);a=a||"default";var x=p.get(y);if(!x){var A={loading:0,preload:null};if(x=h.querySelector(fu(y)))A.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":a},c),(c=ci.get(y))&&ry(s,c);var L=x=h.createElement("link");Le(L),un(L,"link",s),L._p=new Promise(function(K,tt){L.onload=K,L.onerror=tt}),L.addEventListener("load",function(){A.loading|=1}),L.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Jf(x,a,h)}x={type:"stylesheet",instance:x,count:1,state:A},p.set(y,x)}}}function ZM(s,a){Gs.X(s,a);var c=pl;if(c&&s){var h=Zi(c).hoistableScripts,p=yl(s),y=h.get(p);y||(y=c.querySelector(du(p)),y||(s=_({src:s,async:!0},a),(a=ci.get(p))&&ay(s,a),y=c.createElement("script"),Le(y),un(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(p,y))}}function JM(s,a){Gs.M(s,a);var c=pl;if(c&&s){var h=Zi(c).hoistableScripts,p=yl(s),y=h.get(p);y||(y=c.querySelector(du(p)),y||(s=_({src:s,async:!0,type:"module"},a),(a=ci.get(p))&&ay(s,a),y=c.createElement("script"),Le(y),un(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(p,y))}}function o1(s,a,c,h){var p=(p=gt.current)?Zf(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=gl(c.href),c=Zi(p).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=gl(c.href);var y=Zi(p).hoistableStyles,x=y.get(s);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,x),(y=p.querySelector(fu(s)))&&!y._p&&(x.instance=y,x.state.loading=5),ci.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ci.set(s,c),y||tN(p,s,c,x.state))),a&&h===null)throw Error(i(528,""));return x}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=yl(c),c=Zi(p).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function gl(s){return'href="'+In(s)+'"'}function fu(s){return'link[rel="stylesheet"]['+s+"]"}function l1(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function tN(s,a,c,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),un(a,"link",c),Le(a),s.head.appendChild(a))}function yl(s){return'[src="'+In(s)+'"]'}function du(s){return"script[async]"+s}function c1(s,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+In(c.href)+'"]');if(h)return a.instance=h,Le(h),h;var p=_({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),Le(h),un(h,"style",p),Jf(h,c.precedence,s),a.instance=h;case"stylesheet":p=gl(c.href);var y=s.querySelector(fu(p));if(y)return a.state.loading|=4,a.instance=y,Le(y),y;h=l1(c),(p=ci.get(p))&&ry(h,p),y=(s.ownerDocument||s).createElement("link"),Le(y);var x=y;return x._p=new Promise(function(A,L){x.onload=A,x.onerror=L}),un(y,"link",h),a.state.loading|=4,Jf(y,c.precedence,s),a.instance=y;case"script":return y=yl(c.src),(p=s.querySelector(du(y)))?(a.instance=p,Le(p),p):(h=c,(p=ci.get(y))&&(h=_({},c),ay(h,p)),s=s.ownerDocument||s,p=s.createElement("script"),Le(p),un(p,"link",h),s.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Jf(h,c.precedence,s));return a.instance}function Jf(s,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=h.length?h[h.length-1]:null,y=p,x=0;x<h.length;x++){var A=h[x];if(A.dataset.precedence===a)y=A;else if(y!==p)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(s,a.firstChild))}function ry(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function ay(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var td=null;function u1(s,a,c){if(td===null){var h=new Map,p=td=new Map;p.set(c,h)}else p=td,h=p.get(c),h||(h=new Map,p.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),p=0;p<c.length;p++){var y=c[p];if(!(y[Xi]||y[Ve]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(a)||"";x=s+x;var A=h.get(x);A?A.push(y):h.set(x,[y])}}return h}function h1(s,a,c){s=s.ownerDocument||s,s.head.insertBefore(c,a==="title"?s.querySelector("head > title"):null)}function eN(s,a,c){if(c===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(s=a.disabled,typeof a.precedence=="string"&&s==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function f1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function nN(s,a,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var p=gl(h.href),y=a.querySelector(fu(p));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=ed.bind(s),a.then(s,s)),c.state.loading|=4,c.instance=y,Le(y);return}y=a.ownerDocument||a,h=l1(h),(p=ci.get(p))&&ry(h,p),y=y.createElement("link"),Le(y);var x=y;x._p=new Promise(function(A,L){x.onload=A,x.onerror=L}),un(y,"link",h),c.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=ed.bind(s),a.addEventListener("load",c),a.addEventListener("error",c))}}var oy=0;function iN(s,a){return s.stylesheets&&s.count===0&&id(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var h=setTimeout(function(){if(s.stylesheets&&id(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+a);0<s.imgBytes&&oy===0&&(oy=62500*LM());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&id(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>oy?50:800)+a);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(p)}}:null}function ed(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)id(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var nd=null;function id(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,nd=new Map,a.forEach(sN,s),nd=null,ed.call(s))}function sN(s,a){if(!(a.state.loading&4)){var c=nd.get(s);if(c)var h=c.get(null);else{c=new Map,nd.set(s,c);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var x=p[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(c.set(x.dataset.precedence,x),h=x)}h&&c.set(null,h)}p=a.instance,x=p.getAttribute("data-precedence"),y=c.get(x)||h,y===h&&c.set(null,p),c.set(x,p),this.count++,h=ed.bind(this),p.addEventListener("load",h),p.addEventListener("error",h),y?y.parentNode.insertBefore(p,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),a.state.loading|=4}}var mu={$$typeof:F,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function rN(s,a,c,h,p,y,x,A,L){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$i(0),this.hiddenUpdates=$i(null),this.identifierPrefix=h,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function d1(s,a,c,h,p,y,x,A,L,K,tt,at){return s=new rN(s,a,c,x,L,K,tt,at,A),a=1,y===!0&&(a|=24),y=qn(3,null,null,a),s.current=y,y.stateNode=s,a=Up(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:h,isDehydrated:c,cache:a},qp(y),s}function m1(s){return s?(s=$o,s):$o}function p1(s,a,c,h,p,y){p=m1(p),h.context===null?h.context=p:h.pendingContext=p,h=Er(a),h.payload={element:c},y=y===void 0?null:y,y!==null&&(h.callback=y),c=wr(s,h,a),c!==null&&(Vn(c,s,a),Kc(c,s,a))}function g1(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function ly(s,a){g1(s,a),(s=s.alternate)&&g1(s,a)}function y1(s){if(s.tag===13||s.tag===31){var a=Ba(s,67108864);a!==null&&Vn(a,s,67108864),ly(s,67108864)}}function _1(s){if(s.tag===13||s.tag===31){var a=Wn();a=ka(a);var c=Ba(s,a);c!==null&&Vn(c,s,a),ly(s,a)}}var sd=!0;function aN(s,a,c,h){var p=Y.T;Y.T=null;var y=rt.p;try{rt.p=2,cy(s,a,c,h)}finally{rt.p=y,Y.T=p}}function oN(s,a,c,h){var p=Y.T;Y.T=null;var y=rt.p;try{rt.p=8,cy(s,a,c,h)}finally{rt.p=y,Y.T=p}}function cy(s,a,c,h){if(sd){var p=uy(h);if(p===null)Wg(s,a,h,rd,c),b1(s,h);else if(cN(p,s,a,c,h))h.stopPropagation();else if(b1(s,h),a&4&&-1<lN.indexOf(s)){for(;p!==null;){var y=Zn(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=Ki(y.pendingLanes);if(x!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;x;){var L=1<<31-Ce(x);A.entanglements[1]|=L,x&=~L}hs(y),(Zt&6)===0&&(Bf=Sn()+500,lu(0))}}break;case 31:case 13:A=Ba(y,2),A!==null&&Vn(A,y,2),Hf(),ly(y,2)}if(y=uy(h),y===null&&Wg(s,a,h,rd,c),y===p)break;p=y}p!==null&&h.stopPropagation()}else Wg(s,a,h,null,c)}}function uy(s){return s=Jn(s),hy(s)}var rd=null;function hy(s){if(rd=null,s=Qi(s),s!==null){var a=o(s);if(a===null)s=null;else{var c=a.tag;if(c===13){if(s=l(a),s!==null)return s;s=null}else if(c===31){if(s=u(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return rd=s,null}function v1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sa()){case yc:return 2;case _c:return 8;case lr:case yp:return 32;case Vh:return 268435456;default:return 32}default:return 32}}var fy=!1,Pr=null,Vr=null,Lr=null,pu=new Map,gu=new Map,zr=[],lN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b1(s,a){switch(s){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":pu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":gu.delete(a.pointerId)}}function yu(s,a,c,h,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},a!==null&&(a=Zn(a),a!==null&&y1(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),s)}function cN(s,a,c,h,p){switch(a){case"focusin":return Pr=yu(Pr,s,a,c,h,p),!0;case"dragenter":return Vr=yu(Vr,s,a,c,h,p),!0;case"mouseover":return Lr=yu(Lr,s,a,c,h,p),!0;case"pointerover":var y=p.pointerId;return pu.set(y,yu(pu.get(y)||null,s,a,c,h,p)),!0;case"gotpointercapture":return y=p.pointerId,gu.set(y,yu(gu.get(y)||null,s,a,c,h,p)),!0}return!1}function x1(s){var a=Qi(s.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){s.blockedOn=a,xi(s.priority,function(){_1(c)});return}}else if(a===31){if(a=u(c),a!==null){s.blockedOn=a,xi(s.priority,function(){_1(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ad(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=uy(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);Ic=h,c.target.dispatchEvent(h),Ic=null}else return a=Zn(c),a!==null&&y1(a),s.blockedOn=c,!1;a.shift()}return!0}function T1(s,a,c){ad(s)&&c.delete(a)}function uN(){fy=!1,Pr!==null&&ad(Pr)&&(Pr=null),Vr!==null&&ad(Vr)&&(Vr=null),Lr!==null&&ad(Lr)&&(Lr=null),pu.forEach(T1),gu.forEach(T1)}function od(s,a){s.blockedOn===a&&(s.blockedOn=null,fy||(fy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,uN)))}var ld=null;function E1(s){ld!==s&&(ld=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ld===s&&(ld=null);for(var a=0;a<s.length;a+=3){var c=s[a],h=s[a+1],p=s[a+2];if(typeof h!="function"){if(hy(h||c)===null)continue;break}var y=Zn(c);y!==null&&(s.splice(a,3),a-=3,ug(y,{pending:!0,data:p,method:c.method,action:h},h,p))}}))}function _l(s){function a(L){return od(L,s)}Pr!==null&&od(Pr,s),Vr!==null&&od(Vr,s),Lr!==null&&od(Lr,s),pu.forEach(a),gu.forEach(a);for(var c=0;c<zr.length;c++){var h=zr[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<zr.length&&(c=zr[0],c.blockedOn===null);)x1(c),c.blockedOn===null&&zr.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var p=c[h],y=c[h+1],x=p[tn]||null;if(typeof y=="function")x||E1(c);else if(x){var A=null;if(y&&y.hasAttribute("formAction")){if(p=y,x=y[tn]||null)A=x.formAction;else if(hy(p)!==null)continue}else A=x.action;typeof A=="function"?c[h+1]=A:(c.splice(h,3),h-=3),E1(c)}}}function w1(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(x){return p=x})},focusReset:"manual",scroll:"manual"})}function a(){p!==null&&(p(),p=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),p!==null&&(p(),p=null)}}}function dy(s){this._internalRoot=s}cd.prototype.render=dy.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,h=Wn();p1(c,h,s,a,null,null)},cd.prototype.unmount=dy.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;p1(s.current,2,null,s,null,null),Hf(),a[Wi]=null}};function cd(s){this._internalRoot=s}cd.prototype.unstable_scheduleHydration=function(s){if(s){var a=Fh();s={blockedOn:null,target:s,priority:a};for(var c=0;c<zr.length&&a!==0&&a<zr[c].priority;c++);zr.splice(c,0,s),c===0&&x1(s)}};var S1=t.version;if(S1!=="19.2.4")throw Error(i(527,S1,"19.2.4"));rt.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(a),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var hN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{vi=ud.inject(hN),rn=ud}catch{}}return vu.createRoot=function(s,a){if(!r(s))throw Error(i(299));var c=!1,h="",p=Mx,y=Nx,x=Ox;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=d1(s,1,!1,null,null,c,h,null,p,y,x,w1),s[Wi]=a.current,$g(s),new dy(a)},vu.hydrateRoot=function(s,a,c){if(!r(s))throw Error(i(299));var h=!1,p="",y=Mx,x=Nx,A=Ox,L=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(A=c.onRecoverableError),c.formState!==void 0&&(L=c.formState)),a=d1(s,1,!0,a,c??null,h,p,L,y,x,A,w1),a.context=m1(null),c=a.current,h=Wn(),h=ka(h),p=Er(h),p.callback=null,wr(c,p,h),c=h,a.current.lanes=c,Ca(a,c),hs(a),s[Wi]=a.current,$g(s),new cd(a)},vu.version="19.2.4",vu}var P1;function xN(){if(P1)return py.exports;P1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),py.exports=bN(),py.exports}var TN=xN();const EN=QA(TN);var Z=d_();const wN=QA(Z),SN=()=>{};var V1={};const ZA=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},AN=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],l=n[e++],u=n[e++],f=((r&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],l=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return t.join("")},JA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],l=r+1<n.length,u=l?n[r+1]:0,f=r+2<n.length,d=f?n[r+2]:0,g=o>>2,_=(o&3)<<4|u>>4;let v=(u&15)<<2|d>>6,T=d&63;f||(T=64,l||(v=64)),i.push(e[g],e[_],e[v],e[T])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(ZA(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):AN(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],u=r<n.length?e[n.charAt(r)]:0;++r;const d=r<n.length?e[n.charAt(r)]:64;++r;const _=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||u==null||d==null||_==null)throw new CN;const v=o<<2|u>>4;if(i.push(v),d!==64){const T=u<<4&240|d>>2;if(i.push(T),_!==64){const S=d<<6&192|_;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class CN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RN=function(n){const t=ZA(n);return JA.encodeByteArray(t,!0)},im=function(n){return RN(n).replace(/\./g,"")},tC=function(n){try{return JA.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function kN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const IN=()=>kN().__FIREBASE_DEFAULTS__,DN=()=>{if(typeof process>"u"||typeof V1>"u")return;const n=V1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},MN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&tC(n[1]);return t&&JSON.parse(t)},jm=()=>{try{return SN()||IN()||DN()||MN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},eC=n=>jm()?.emulatorHosts?.[n],NN=n=>{const t=eC(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},nC=()=>jm()?.config,iC=n=>jm()?.[`_${n}`];class ON{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function Jl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sC(n){return(await fetch(n,{credentials:"include"})).ok}function PN(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[im(JSON.stringify(e)),im(JSON.stringify(l)),""].join(".")}const zu={};function VN(){const n={prod:[],emulator:[]};for(const t of Object.keys(zu))zu[t]?n.emulator.push(t):n.prod.push(t);return n}function LN(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let L1=!1;function rC(n,t){if(typeof window>"u"||typeof document>"u"||!Jl(window.location.host)||zu[n]===t||zu[n]||L1)return;zu[n]=t;function e(v){return`__firebase__banner__${v}`}const i="__firebase__banner",o=VN().prod.length>0;function l(){const v=document.getElementById(i);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,T){v.setAttribute("width","24"),v.setAttribute("id",T),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{L1=!0,l()},v}function g(v,T){v.setAttribute("id",T),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=LN(i),T=e("text"),S=document.getElementById(T)||document.createElement("span"),R=e("learnmore"),k=document.getElementById(R)||document.createElement("a"),P=e("preprendIcon"),B=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const F=v.element;u(F),g(k,R);const Q=d();f(B,P),F.append(B,S,k,Q),document.body.appendChild(F)}o?(S.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function jN(){const n=jm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function FN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HN(){const n=En();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function qN(){return!jN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GN(){try{return typeof indexedDB=="object"}catch{return!1}}function KN(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}const YN="FirebaseError";class ar extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=YN,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_h.prototype.create)}}class _h{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],l=o?$N(o,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new ar(r,u,i)}}function $N(n,t){return n.replace(WN,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const WN=/\{\$([^}]+)}/g;function XN(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function vo(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],l=t[r];if(z1(o)&&z1(l)){if(!vo(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function z1(n){return n!==null&&typeof n=="object"}function vh(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Ru(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function ku(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function QN(n,t){const e=new ZN(n,t);return e.subscribe.bind(e)}class ZN{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");JN(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=by),r.error===void 0&&(r.error=by),r.complete===void 0&&(r.complete=by);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JN(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function by(){}function Je(n){return n&&n._delegate?n._delegate:n}class bo{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ao="[DEFAULT]";class tO{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new ON;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nO(t))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=ao){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ao){return this.instances.has(t)}getOptions(t=ao){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:eO(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ao){return this.component?this.component.multipleInstances?t:ao:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eO(n){return n===ao?void 0:n}function nO(n){return n.instantiationMode==="EAGER"}class iO{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new tO(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Ht;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ht||(Ht={}));const sO={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},rO=Ht.INFO,aO={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},oO=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=aO[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class m_{constructor(t){this.name=t,this._logLevel=rO,this._logHandler=oO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?sO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const lO=(n,t)=>t.some(e=>n instanceof e);let j1,U1;function cO(){return j1||(j1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uO(){return U1||(U1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aC=new WeakMap,c0=new WeakMap,oC=new WeakMap,xy=new WeakMap,p_=new WeakMap;function hO(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{e(ta(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&aC.set(e,n)}).catch(()=>{}),p_.set(t,n),t}function fO(n){if(c0.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{e(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});c0.set(n,t)}let u0={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return c0.get(n);if(t==="objectStoreNames")return n.objectStoreNames||oC.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ta(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function dO(n){u0=n(u0)}function mO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Ty(this),t,...e);return oC.set(i,t.sort?t.sort():[t]),ta(i)}:uO().includes(n)?function(...t){return n.apply(Ty(this),t),ta(aC.get(this))}:function(...t){return ta(n.apply(Ty(this),t))}}function pO(n){return typeof n=="function"?mO(n):(n instanceof IDBTransaction&&fO(n),lO(n,cO())?new Proxy(n,u0):n)}function ta(n){if(n instanceof IDBRequest)return hO(n);if(xy.has(n))return xy.get(n);const t=pO(n);return t!==n&&(xy.set(n,t),p_.set(t,n)),t}const Ty=n=>p_.get(n);function gO(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(n,t),u=ta(l);return i&&l.addEventListener("upgradeneeded",f=>{i(ta(l.result),f.oldVersion,f.newVersion,ta(l.transaction),f)}),e&&l.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const yO=["get","getKey","getAll","getAllKeys","count"],_O=["put","add","delete","clear"],Ey=new Map;function B1(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Ey.get(t))return Ey.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=_O.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||yO.includes(e)))return;const o=async function(l,...u){const f=this.transaction(l,r?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[e](...u),r&&f.done]))[0]};return Ey.set(t,o),o}dO(n=>({...n,get:(t,e,i)=>B1(t,e)||n.get(t,e,i),has:(t,e)=>!!B1(t,e)||n.has(t,e)}));class vO{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(bO(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function bO(n){return n.getComponent()?.type==="VERSION"}const h0="@firebase/app",F1="0.14.8";const tr=new m_("@firebase/app"),xO="@firebase/app-compat",TO="@firebase/analytics-compat",EO="@firebase/analytics",wO="@firebase/app-check-compat",SO="@firebase/app-check",AO="@firebase/auth",CO="@firebase/auth-compat",RO="@firebase/database",kO="@firebase/data-connect",IO="@firebase/database-compat",DO="@firebase/functions",MO="@firebase/functions-compat",NO="@firebase/installations",OO="@firebase/installations-compat",PO="@firebase/messaging",VO="@firebase/messaging-compat",LO="@firebase/performance",zO="@firebase/performance-compat",jO="@firebase/remote-config",UO="@firebase/remote-config-compat",BO="@firebase/storage",FO="@firebase/storage-compat",HO="@firebase/firestore",qO="@firebase/ai",GO="@firebase/firestore-compat",KO="firebase",YO="12.9.0";const f0="[DEFAULT]",$O={[h0]:"fire-core",[xO]:"fire-core-compat",[EO]:"fire-analytics",[TO]:"fire-analytics-compat",[SO]:"fire-app-check",[wO]:"fire-app-check-compat",[AO]:"fire-auth",[CO]:"fire-auth-compat",[RO]:"fire-rtdb",[kO]:"fire-data-connect",[IO]:"fire-rtdb-compat",[DO]:"fire-fn",[MO]:"fire-fn-compat",[NO]:"fire-iid",[OO]:"fire-iid-compat",[PO]:"fire-fcm",[VO]:"fire-fcm-compat",[LO]:"fire-perf",[zO]:"fire-perf-compat",[jO]:"fire-rc",[UO]:"fire-rc-compat",[BO]:"fire-gcs",[FO]:"fire-gcs-compat",[HO]:"fire-fst",[GO]:"fire-fst-compat",[qO]:"fire-vertex","fire-js":"fire-js",[KO]:"fire-js-all"};const sm=new Map,WO=new Map,d0=new Map;function H1(n,t){try{n.container.addComponent(t)}catch(e){tr.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Fl(n){const t=n.name;if(d0.has(t))return tr.debug(`There were multiple attempts to register component ${t}.`),!1;d0.set(t,n);for(const e of sm.values())H1(e,n);for(const e of WO.values())H1(e,n);return!0}function g_(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Ni(n){return n==null?!1:n.settings!==void 0}const XO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ea=new _h("app","Firebase",XO);class QO{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ea.create("app-deleted",{appName:this._name})}}const tc=YO;function lC(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:f0,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw ea.create("bad-app-name",{appName:String(r)});if(e||(e=nC()),!e)throw ea.create("no-options");const o=sm.get(r);if(o){if(vo(e,o.options)&&vo(i,o.config))return o;throw ea.create("duplicate-app",{appName:r})}const l=new iO(r);for(const f of d0.values())l.addComponent(f);const u=new QO(e,i,l);return sm.set(r,u),u}function cC(n=f0){const t=sm.get(n);if(!t&&n===f0&&nC())return lC();if(!t)throw ea.create("no-app",{appName:n});return t}function na(n,t,e){let i=$O[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${t}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),tr.warn(l.join(" "));return}Fl(new bo(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const ZO="firebase-heartbeat-database",JO=1,Qu="firebase-heartbeat-store";let wy=null;function uC(){return wy||(wy=gO(ZO,JO,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Qu)}catch(e){console.warn(e)}}}}).catch(n=>{throw ea.create("idb-open",{originalErrorMessage:n.message})})),wy}async function tP(n){try{const e=(await uC()).transaction(Qu),i=await e.objectStore(Qu).get(hC(n));return await e.done,i}catch(t){if(t instanceof ar)tr.warn(t.message);else{const e=ea.create("idb-get",{originalErrorMessage:t?.message});tr.warn(e.message)}}}async function q1(n,t){try{const i=(await uC()).transaction(Qu,"readwrite");await i.objectStore(Qu).put(t,hC(n)),await i.done}catch(e){if(e instanceof ar)tr.warn(e.message);else{const i=ea.create("idb-set",{originalErrorMessage:e?.message});tr.warn(i.message)}}}function hC(n){return`${n.name}!${n.options.appId}`}const eP=1024,nP=30;class iP{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new rP(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=G1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>nP){const r=aP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){tr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=G1(),{heartbeatsToSend:e,unsentEntries:i}=sP(this._heartbeatsCache.heartbeats),r=im(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return tr.warn(t),""}}}function G1(){return new Date().toISOString().substring(0,10)}function sP(n,t=eP){const e=[];let i=n.slice();for(const r of n){const o=e.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),K1(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),K1(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class rP{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GN()?KN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await tP(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return q1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return q1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function K1(n){return im(JSON.stringify({version:2,heartbeats:n})).length}function aP(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function oP(n){Fl(new bo("platform-logger",t=>new vO(t),"PRIVATE")),Fl(new bo("heartbeat",t=>new iP(t),"PRIVATE")),na(h0,F1,n),na(h0,F1,"esm2020"),na("fire-js","")}oP("");function fC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lP=fC,dC=new _h("auth","Firebase",fC());const rm=new m_("@firebase/auth");function cP(n,...t){rm.logLevel<=Ht.WARN&&rm.warn(`Auth (${tc}): ${n}`,...t)}function Vd(n,...t){rm.logLevel<=Ht.ERROR&&rm.error(`Auth (${tc}): ${n}`,...t)}function Bi(n,...t){throw y_(n,...t)}function _s(n,...t){return y_(n,...t)}function mC(n,t,e){const i={...lP(),[t]:e};return new _h("auth","Firebase",i).create(t,{appName:n.name})}function ia(n){return mC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y_(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return dC.create(n,...t)}function Ct(n,t,...e){if(!n)throw y_(t,...e)}function Zs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Vd(t),new Error(t)}function er(n,t){n||Zs(t)}function m0(){return typeof self<"u"&&self.location?.href||""}function uP(){return Y1()==="http:"||Y1()==="https:"}function Y1(){return typeof self<"u"&&self.location?.protocol||null}function hP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uP()||BN()||"connection"in navigator)?navigator.onLine:!0}function fP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class bh{constructor(t,e){this.shortDelay=t,this.longDelay=e,er(e>t,"Short delay should be less than long delay!"),this.isMobile=zN()||FN()}get(){return hP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function __(n,t){er(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class pC{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const mP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pP=new bh(3e4,6e4);function Co(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function _a(n,t,e,i,r={}){return gC(n,r,async()=>{let o={},l={};i&&(t==="GET"?l=i:o={body:JSON.stringify(i)});const u=vh({key:n.config.apiKey,...l}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:t,headers:f,...o};return UN()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Jl(n.emulatorConfig.host)&&(d.credentials="include"),pC.fetch()(await yC(n,n.config.apiHost,e,u),d)})}async function gC(n,t,e){n._canInitEmulator=!1;const i={...dP,...t};try{const r=new yP(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw hd(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[f,d]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw hd(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw hd(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw hd(n,"user-disabled",l);const g=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw mC(n,g,d);Bi(n,g)}}catch(r){if(r instanceof ar)throw r;Bi(n,"network-request-failed",{message:String(r)})}}async function Um(n,t,e,i,r={}){const o=await _a(n,t,e,i,r);return"mfaPendingCredential"in o&&Bi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function yC(n,t,e,i){const r=`${t}${e}?${i}`,o=n,l=o.config.emulator?__(n.config,r):`${n.config.apiScheme}://${r}`;return mP.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function gP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(_s(this.auth,"network-request-failed")),pP.get())})}}function hd(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=_s(n,t,i);return r.customData._tokenResponse=e,r}function $1(n){return n!==void 0&&n.enterprise!==void 0}class _P{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return gP(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vP(n,t){return _a(n,"GET","/v2/recaptchaConfig",Co(n,t))}async function bP(n,t){return _a(n,"POST","/v1/accounts:delete",t)}async function am(n,t){return _a(n,"POST","/v1/accounts:lookup",t)}function ju(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function xP(n,t=!1){const e=Je(n),i=await e.getIdToken(t),r=v_(i);Ct(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o?.sign_in_provider;return{claims:r,token:i,authTime:ju(Sy(r.auth_time)),issuedAtTime:ju(Sy(r.iat)),expirationTime:ju(Sy(r.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Sy(n){return Number(n)*1e3}function v_(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Vd("JWT malformed, contained fewer than 3 sections"),null;try{const r=tC(e);return r?JSON.parse(r):(Vd("Failed to decode base64 JWT payload"),null)}catch(r){return Vd("Caught error parsing JWT payload as JSON",r?.toString()),null}}function W1(n){const t=v_(n);return Ct(t,"internal-error"),Ct(typeof t.exp<"u","internal-error"),Ct(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Zu(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof ar&&TP(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function TP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class EP{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class p0{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=ju(this.lastLoginAt),this.creationTime=ju(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function om(n){const t=n.auth,e=await n.getIdToken(),i=await Zu(n,am(t,{idToken:e}));Ct(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?_C(r.providerUserInfo):[],l=SP(n.providerData,o),u=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!l?.length,d=u?f:!1,g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new p0(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(n,g)}async function wP(n){const t=Je(n);await om(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function SP(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function _C(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function AP(n,t){const e=await gC(n,{},async()=>{const i=vh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,l=await yC(n,r,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:i};return n.emulatorConfig&&Jl(n.emulatorConfig.host)&&(f.credentials="include"),pC.fetch()(l,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function CP(n,t){return _a(n,"POST","/v2/accounts:revokeToken",Co(n,t))}class Nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ct(t.idToken,"internal-error"),Ct(typeof t.idToken<"u","internal-error"),Ct(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):W1(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ct(t.length!==0,"internal-error");const e=W1(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ct(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await AP(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,l=new Nl;return i&&(Ct(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),r&&(Ct(typeof r=="string","internal-error",{appName:t}),l.accessToken=r),o&&(Ct(typeof o=="number","internal-error",{appName:t}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Nl,this.toJSON())}_performRefresh(){return Zs("not implemented")}}function Ur(n,t){Ct(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Oi{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new EP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new p0(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await Zu(this,this.stsTokenManager.getToken(this.auth,t));return Ct(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return xP(this,t)}reload(){return wP(this)}_assign(t){this!==t&&(Ct(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Oi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await om(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ni(this.auth.app))return Promise.reject(ia(this.auth));const t=await this.getIdToken();return await Zu(this,bP(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,l=e.photoURL??void 0,u=e.tenantId??void 0,f=e._redirectEventId??void 0,d=e.createdAt??void 0,g=e.lastLoginAt??void 0,{uid:_,emailVerified:v,isAnonymous:T,providerData:S,stsTokenManager:R}=e;Ct(_&&R,t,"internal-error");const k=Nl.fromJSON(this.name,R);Ct(typeof _=="string",t,"internal-error"),Ur(i,t.name),Ur(r,t.name),Ct(typeof v=="boolean",t,"internal-error"),Ct(typeof T=="boolean",t,"internal-error"),Ur(o,t.name),Ur(l,t.name),Ur(u,t.name),Ur(f,t.name),Ur(d,t.name),Ur(g,t.name);const P=new Oi({uid:_,auth:t,email:r,emailVerified:v,displayName:i,isAnonymous:T,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:k,createdAt:d,lastLoginAt:g});return S&&Array.isArray(S)&&(P.providerData=S.map(B=>({...B}))),f&&(P._redirectEventId=f),P}static async _fromIdTokenResponse(t,e,i=!1){const r=new Nl;r.updateFromServerResponse(e);const o=new Oi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await om(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];Ct(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?_C(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!o?.length,u=new Nl;u.updateFromIdToken(i);const f=new Oi({uid:r.localId,auth:t,stsTokenManager:u,isAnonymous:l}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new p0(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,d),f}}const X1=new Map;function Js(n){er(n instanceof Function,"Expected a class definition");let t=X1.get(n);return t?(er(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,X1.set(n,t),t)}class vC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}vC.type="NONE";const Q1=vC;function Ld(n,t,e){return`firebase:${n}:${t}:${e}`}class Ol{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Ld(this.userKey,r.apiKey,o),this.fullPersistenceKey=Ld("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await am(this.auth,{idToken:t}).catch(()=>{});return e?Oi._fromGetAccountInfoResponse(this.auth,e,t):null}return Oi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Ol(Js(Q1),t,i);const r=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=r[0]||Js(Q1);const l=Ld(i,t.config.apiKey,t.name);let u=null;for(const d of e)try{const g=await d._get(l);if(g){let _;if(typeof g=="string"){const v=await am(t,{idToken:g}).catch(()=>{});if(!v)break;_=await Oi._fromGetAccountInfoResponse(t,v,g)}else _=Oi._fromJSON(t,g);d!==o&&(u=_),o=d;break}}catch{}const f=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Ol(o,t,i):(o=f[0],u&&await o._set(l,u.toJSON()),await Promise.all(e.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new Ol(o,t,i))}}function Z1(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(EC(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(bC(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(SC(t))return"Blackberry";if(AC(t))return"Webos";if(xC(t))return"Safari";if((t.includes("chrome/")||TC(t))&&!t.includes("edge/"))return"Chrome";if(wC(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function bC(n=En()){return/firefox\//i.test(n)}function xC(n=En()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function TC(n=En()){return/crios\//i.test(n)}function EC(n=En()){return/iemobile/i.test(n)}function wC(n=En()){return/android/i.test(n)}function SC(n=En()){return/blackberry/i.test(n)}function AC(n=En()){return/webos/i.test(n)}function b_(n=En()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function RP(n=En()){return b_(n)&&!!window.navigator?.standalone}function kP(){return HN()&&document.documentMode===10}function CC(n=En()){return b_(n)||wC(n)||AC(n)||SC(n)||/windows phone/i.test(n)||EC(n)}function RC(n,t=[]){let e;switch(n){case"Browser":e=Z1(En());break;case"Worker":e=`${Z1(En())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${tc}/${i}`}class IP{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((l,u)=>{try{const f=t(o);l(f)}catch(f){u(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function DP(n,t={}){return _a(n,"GET","/v2/passwordPolicy",Co(n,t))}const MP=6;class NP{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??MP,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class OP{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J1(this),this.idTokenSubscription=new J1(this),this.beforeStateQueue=new IP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Js(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ol.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await am(this,{idToken:t}),i=await Oi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ni(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===l)&&u?.user&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await om(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=fP()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ni(this.app))return Promise.reject(ia(this));const e=t?Je(t):null;return e&&Ct(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ct(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ni(this.app)?Promise.reject(ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ni(this.app)?Promise.reject(ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Js(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await DP(this),e=new NP(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new _h("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await CP(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Js(t)||this._popupRedirectResolver;Ct(e,this,"argument-error"),this.redirectPersistenceManager=await Ol.create(this,[Js(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{l=!0,f()}}else{const f=t.addObserver(e);return()=>{l=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=RC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&cP(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ec(n){return Je(n)}class J1{constructor(t){this.auth=t,this.observer=null,this.addObserver=QN(e=>this.observer=e)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PP(n){Bm=n}function kC(n){return Bm.loadJS(n)}function VP(){return Bm.recaptchaEnterpriseScript}function LP(){return Bm.gapiScript}function zP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class jP{constructor(){this.enterprise=new UP}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class UP{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const BP="recaptcha-enterprise",IC="NO_RECAPTCHA";class FP{constructor(t){this.type=BP,this.auth=ec(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{vP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new _P(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,l(d.siteKey)}}).catch(f=>{u(f)})})}function r(o,l,u){const f=window.grecaptcha;$1(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(d=>{l(d)}).catch(()=>{l(IC)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jP().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(u=>{if(!e&&$1(window.grecaptcha))r(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=VP();f.length!==0&&(f+=u),kC(f).then(()=>{r(u,o,l)}).catch(d=>{l(d)})}}).catch(u=>{l(u)})})}}async function tE(n,t,e,i=!1,r=!1){const o=new FP(n);let l;if(r)l=IC;else try{l=await o.verify(e)}catch{l=await o.verify(e,!0)}const u={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function eE(n,t,e,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await tE(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await tE(n,t,e,e==="getOobCode");return i(n,l)}else return Promise.reject(o)})}function HP(n,t){const e=g_(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(vo(o,t??{}))return r;Bi(r,"already-initialized")}return e.initialize({options:t})}function qP(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Js);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function GP(n,t,e){const i=ec(n);Ct(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=DC(t),{host:l,port:u}=KP(t),f=u===null?"":`:${u}`,d={url:`${o}//${l}${f}/`},g=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Ct(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ct(vo(d,i.config.emulator)&&vo(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,Jl(l)?(sC(`${o}//${l}${f}`),rC("Auth",!0)):YP()}function DC(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function KP(n){const t=DC(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:nE(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:nE(l)}}}function nE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function YP(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class x_{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Zs("not implemented")}_getIdTokenResponse(t){return Zs("not implemented")}_linkToIdToken(t,e){return Zs("not implemented")}_getReauthenticationResolver(t){return Zs("not implemented")}}async function $P(n,t){return _a(n,"POST","/v1/accounts:signUp",t)}async function WP(n,t){return Um(n,"POST","/v1/accounts:signInWithPassword",Co(n,t))}async function XP(n,t){return Um(n,"POST","/v1/accounts:signInWithEmailLink",Co(n,t))}async function QP(n,t){return Um(n,"POST","/v1/accounts:signInWithEmailLink",Co(n,t))}class Ju extends x_{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Ju(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Ju(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eE(t,e,"signInWithPassword",WP);case"emailLink":return XP(t,{email:this._email,oobCode:this._password});default:Bi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eE(t,i,"signUpPassword",$P);case"emailLink":return QP(t,{idToken:e,email:this._email,oobCode:this._password});default:Bi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Pl(n,t){return Um(n,"POST","/v1/accounts:signInWithIdp",Co(n,t))}const ZP="http://localhost";class xo extends x_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new xo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Bi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const l=new xo(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return Pl(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Pl(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Pl(t,e)}buildRequest(){const t={requestUri:ZP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=vh(e)}return t}}function JP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tV(n){const t=Ru(ku(n)).link,e=t?Ru(ku(t)).deep_link_id:null,i=Ru(ku(n)).deep_link_id;return(i?Ru(ku(i)).link:null)||i||e||t||n}class T_{constructor(t){const e=Ru(ku(t)),i=e.apiKey??null,r=e.oobCode??null,o=JP(e.mode??null);Ct(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=tV(t);try{return new T_(e)}catch{return null}}}class nc{constructor(){this.providerId=nc.PROVIDER_ID}static credential(t,e){return Ju._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=T_.parseLink(e);return Ct(i,"argument-error"),Ju._fromEmailAndCode(t,i.code,i.tenantId)}}nc.PROVIDER_ID="password";nc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class MC{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class xh extends MC{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class qr extends xh{constructor(){super("facebook.com")}static credential(t){return xo._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qr.credential(t.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";class Gr extends xh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return xo._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Gr.credential(e,i)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";class Kr extends xh{constructor(){super("github.com")}static credential(t){return xo._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Kr.credential(t.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";class Yr extends xh{constructor(){super("twitter.com")}static credential(t,e){return xo._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Yr.credentialFromTaggedObject(t)}static credentialFromError(t){return Yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Yr.credential(e,i)}catch{return null}}}Yr.TWITTER_SIGN_IN_METHOD="twitter.com";Yr.PROVIDER_ID="twitter.com";class Hl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await Oi._fromIdTokenResponse(t,i,r),l=iE(i);return new Hl({user:o,providerId:l,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=iE(i);return new Hl({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function iE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class lm extends ar{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,lm.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new lm(t,e,i,r)}}function NC(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?lm._fromErrorAndOperation(n,o,t,i):o})}async function eV(n,t,e=!1){const i=await Zu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Hl._forOperation(n,"link",i)}async function nV(n,t,e=!1){const{auth:i}=n;if(Ni(i.app))return Promise.reject(ia(i));const r="reauthenticate";try{const o=await Zu(n,NC(i,r,t,n),e);Ct(o.idToken,i,"internal-error");const l=v_(o.idToken);Ct(l,i,"internal-error");const{sub:u}=l;return Ct(n.uid===u,i,"user-mismatch"),Hl._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Bi(i,"user-mismatch"),o}}async function OC(n,t,e=!1){if(Ni(n.app))return Promise.reject(ia(n));const i="signIn",r=await NC(n,i,t),o=await Hl._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function iV(n,t){return OC(ec(n),t)}async function sV(n){const t=ec(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function rV(n,t,e){return Ni(n.app)?Promise.reject(ia(n)):iV(Je(n),nc.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&sV(n),i})}function aV(n,t,e,i){return Je(n).onIdTokenChanged(t,e,i)}function oV(n,t,e){return Je(n).beforeAuthStateChanged(t,e)}function lV(n,t,e,i){return Je(n).onAuthStateChanged(t,e,i)}function cV(n){return Je(n).signOut()}const cm="__sak";class PC{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(cm,"1"),this.storage.removeItem(cm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const uV=1e3,hV=10;class VC extends PC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CC(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!e&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);kP()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,hV):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},uV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}VC.type="LOCAL";const fV=VC;class LC extends PC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}LC.type="SESSION";const zC=LC;function dV(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Fm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new Fm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,l=this.handlersMap[r];if(!l?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async d=>d(e.origin,o)),f=await dV(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fm.receivers=[];function E_(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class mV{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((u,f)=>{const d=E_("",20);r.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(_){const v=_;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function vs(){return window}function pV(n){vs().location.href=n}function jC(){return typeof vs().WorkerGlobalScope<"u"&&typeof vs().importScripts=="function"}async function gV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yV(){return navigator?.serviceWorker?.controller||null}function _V(){return jC()?self:null}const UC="firebaseLocalStorageDb",vV=1,um="firebaseLocalStorage",BC="fbase_key";class Th{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Hm(n,t){return n.transaction([um],t?"readwrite":"readonly").objectStore(um)}function bV(){const n=indexedDB.deleteDatabase(UC);return new Th(n).toPromise()}function g0(){const n=indexedDB.open(UC,vV);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(um,{keyPath:BC})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(um)?t(i):(i.close(),await bV(),t(await g0()))})})}async function sE(n,t,e){const i=Hm(n,!0).put({[BC]:t,value:e});return new Th(i).toPromise()}async function xV(n,t){const e=Hm(n,!1).get(t),i=await new Th(e).toPromise();return i===void 0?null:i.value}function rE(n,t){const e=Hm(n,!0).delete(t);return new Th(e).toPromise()}const TV=800,EV=3;class FC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await g0(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>EV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fm._getInstance(_V()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gV(),!this.activeServiceWorker)return;this.sender=new mV(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||yV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await g0();return await sE(t,cm,"1"),await rE(t,cm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>sE(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>xV(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>rE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=Hm(r,!1).getAll();return new Th(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FC.type="LOCAL";const wV=FC;new bh(3e4,6e4);function SV(n,t){return t?Js(t):(Ct(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class w_ extends x_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Pl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Pl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Pl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function AV(n){return OC(n.auth,new w_(n),n.bypassAuthState)}function CV(n){const{auth:t,user:e}=n;return Ct(e,t,"internal-error"),nV(e,new w_(n),n.bypassAuthState)}async function RV(n){const{auth:t,user:e}=n;return Ct(e,t,"internal-error"),eV(e,new w_(n),n.bypassAuthState)}class HC{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:l,type:u}=t;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return AV;case"linkViaPopup":case"linkViaRedirect":return RV;case"reauthViaPopup":case"reauthViaRedirect":return CV;default:Bi(this.auth,"internal-error")}}resolve(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kV=new bh(2e3,1e4);class Al extends HC{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Al.currentPopupAction&&Al.currentPopupAction.cancel(),Al.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ct(t,this.auth,"internal-error"),t}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const t=E_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(_s(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_s(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Al.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_s(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,kV.get())};t()}}Al.currentPopupAction=null;const IV="pendingRedirect",zd=new Map;class DV extends HC{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=zd.get(this.auth._key());if(!t){try{const i=await MV(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}zd.set(this.auth._key(),t)}return this.bypassAuthState||zd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MV(n,t){const e=PV(t),i=OV(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function NV(n,t){zd.set(n._key(),t)}function OV(n){return Js(n._redirectPersistence)}function PV(n){return Ld(IV,n.config.apiKey,n.name)}async function VV(n,t,e=!1){if(Ni(n.app))return Promise.reject(ia(n));const i=ec(n),r=SV(i,t),l=await new DV(i,r,e).execute();return l&&!e&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}const LV=600*1e3;class zV{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!jV(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!qC(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(_s(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=LV&&this.cachedEventUids.clear(),this.cachedEventUids.has(aE(t))}saveEventToCache(t){this.cachedEventUids.add(aE(t)),this.lastProcessedEventTime=Date.now()}}function aE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function qC({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function jV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qC(n);default:return!1}}async function UV(n,t={}){return _a(n,"GET","/v1/projects",t)}const BV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FV=/^https?/;async function HV(n){if(n.config.emulator)return;const{authorizedDomains:t}=await UV(n);for(const e of t)try{if(qV(e))return}catch{}Bi(n,"unauthorized-domain")}function qV(n){const t=m0(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===i}if(!FV.test(e))return!1;if(BV.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const GV=new bh(3e4,6e4);function oE(){const n=vs().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function KV(n){return new Promise((t,e)=>{function i(){oE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{oE(),e(_s(n,"network-request-failed"))},timeout:GV.get()})}if(vs().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(vs().gapi?.load)i();else{const r=zP("iframefcb");return vs()[r]=()=>{gapi.load?i():e(_s(n,"network-request-failed"))},kC(`${LP()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw jd=null,t})}let jd=null;function YV(n){return jd=jd||KV(n),jd}const $V=new bh(5e3,15e3),WV="__/auth/iframe",XV="emulator/auth/iframe",QV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JV(n){const t=n.config;Ct(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?__(t,XV):`https://${n.config.authDomain}/${WV}`,i={apiKey:t.apiKey,appName:n.name,v:tc},r=ZV.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${vh(i).slice(1)}`}async function t4(n){const t=await YV(n),e=vs().gapi;return Ct(e,n,"internal-error"),t.open({where:document.body,url:JV(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QV,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=_s(n,"network-request-failed"),u=vs().setTimeout(()=>{o(l)},$V.get());function f(){vs().clearTimeout(u),r(i)}i.ping(f).then(f,()=>{o(l)})}))}const e4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n4=500,i4=600,s4="_blank",r4="http://localhost";class lE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a4(n,t,e,i=n4,r=i4){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const f={...e4,width:i.toString(),height:r.toString(),top:o,left:l},d=En().toLowerCase();e&&(u=TC(d)?s4:e),bC(d)&&(t=t||r4,f.scrollbars="yes");const g=Object.entries(f).reduce((v,[T,S])=>`${v}${T}=${S},`,"");if(RP(d)&&u!=="_self")return o4(t||"",u),new lE(null);const _=window.open(t||"",u,g);Ct(_,n,"popup-blocked");try{_.focus()}catch{}return new lE(_)}function o4(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const l4="__/auth/handler",c4="emulator/auth/handler",u4=encodeURIComponent("fac");async function cE(n,t,e,i,r,o){Ct(n.config.authDomain,n,"auth-domain-config-required"),Ct(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:tc,eventId:r};if(t instanceof MC){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",XN(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(t instanceof xh){const g=t.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const f=await n._getAppCheckToken(),d=f?`#${u4}=${encodeURIComponent(f)}`:"";return`${h4(n)}?${vh(u).slice(1)}${d}`}function h4({config:n}){return n.emulator?__(n,c4):`https://${n.authDomain}/${l4}`}const Ay="webStorageSupport";class f4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zC,this._completeRedirectFn=VV,this._overrideRedirectResult=NV}async _openPopup(t,e,i,r){er(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await cE(t,e,i,m0(),r);return a4(t,o,E_())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await cE(t,e,i,m0(),r);return pV(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(er(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await t4(t),i=new zV(t);return e.register("authEvent",r=>(Ct(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Ay,{type:Ay},r=>{const o=r?.[0]?.[Ay];o!==void 0&&e(!!o),Bi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=HV(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return CC()||xC()||b_()}}const d4=f4;var uE="@firebase/auth",hE="1.12.0";class m4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function p4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g4(n){Fl(new bo("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;Ct(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RC(n)},d=new OP(i,r,o,f);return qP(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Fl(new bo("auth-internal",t=>{const e=ec(t.getProvider("auth").getImmediate());return(i=>new m4(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),na(uE,hE,p4(n)),na(uE,hE,"esm2020")}const y4=300,_4=iC("authIdTokenMaxAge")||y4;let fE=null;const v4=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>_4)return;const r=e?.token;fE!==r&&(fE=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function b4(n=cC()){const t=g_(n,"auth");if(t.isInitialized())return t.getImmediate();const e=HP(n,{popupRedirectResolver:d4,persistence:[wV,fV,zC]}),i=iC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=v4(o.toString());oV(e,l,()=>l(e.currentUser)),aV(e,u=>l(u))}}const r=eC("auth");return r&&GP(e,`http://${r}`),e}function x4(){return document.getElementsByTagName("head")?.[0]??document}PP({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=_s("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",x4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g4("Browser");var dE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sa,GC;(function(){var n;function t(M,w){function D(){}D.prototype=w.prototype,M.F=w.prototype,M.prototype=new D,M.prototype.constructor=M,M.D=function(V,O,z){for(var N=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)N[Nt-2]=arguments[Nt];return w.prototype[O].apply(V,N)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(M,w,D){D||(D=0);const V=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)V[O]=w.charCodeAt(D++)|w.charCodeAt(D++)<<8|w.charCodeAt(D++)<<16|w.charCodeAt(D++)<<24;else for(O=0;O<16;++O)V[O]=w[D++]|w[D++]<<8|w[D++]<<16|w[D++]<<24;w=M.g[0],D=M.g[1],O=M.g[2];let z=M.g[3],N;N=w+(z^D&(O^z))+V[0]+3614090360&4294967295,w=D+(N<<7&4294967295|N>>>25),N=z+(O^w&(D^O))+V[1]+3905402710&4294967295,z=w+(N<<12&4294967295|N>>>20),N=O+(D^z&(w^D))+V[2]+606105819&4294967295,O=z+(N<<17&4294967295|N>>>15),N=D+(w^O&(z^w))+V[3]+3250441966&4294967295,D=O+(N<<22&4294967295|N>>>10),N=w+(z^D&(O^z))+V[4]+4118548399&4294967295,w=D+(N<<7&4294967295|N>>>25),N=z+(O^w&(D^O))+V[5]+1200080426&4294967295,z=w+(N<<12&4294967295|N>>>20),N=O+(D^z&(w^D))+V[6]+2821735955&4294967295,O=z+(N<<17&4294967295|N>>>15),N=D+(w^O&(z^w))+V[7]+4249261313&4294967295,D=O+(N<<22&4294967295|N>>>10),N=w+(z^D&(O^z))+V[8]+1770035416&4294967295,w=D+(N<<7&4294967295|N>>>25),N=z+(O^w&(D^O))+V[9]+2336552879&4294967295,z=w+(N<<12&4294967295|N>>>20),N=O+(D^z&(w^D))+V[10]+4294925233&4294967295,O=z+(N<<17&4294967295|N>>>15),N=D+(w^O&(z^w))+V[11]+2304563134&4294967295,D=O+(N<<22&4294967295|N>>>10),N=w+(z^D&(O^z))+V[12]+1804603682&4294967295,w=D+(N<<7&4294967295|N>>>25),N=z+(O^w&(D^O))+V[13]+4254626195&4294967295,z=w+(N<<12&4294967295|N>>>20),N=O+(D^z&(w^D))+V[14]+2792965006&4294967295,O=z+(N<<17&4294967295|N>>>15),N=D+(w^O&(z^w))+V[15]+1236535329&4294967295,D=O+(N<<22&4294967295|N>>>10),N=w+(O^z&(D^O))+V[1]+4129170786&4294967295,w=D+(N<<5&4294967295|N>>>27),N=z+(D^O&(w^D))+V[6]+3225465664&4294967295,z=w+(N<<9&4294967295|N>>>23),N=O+(w^D&(z^w))+V[11]+643717713&4294967295,O=z+(N<<14&4294967295|N>>>18),N=D+(z^w&(O^z))+V[0]+3921069994&4294967295,D=O+(N<<20&4294967295|N>>>12),N=w+(O^z&(D^O))+V[5]+3593408605&4294967295,w=D+(N<<5&4294967295|N>>>27),N=z+(D^O&(w^D))+V[10]+38016083&4294967295,z=w+(N<<9&4294967295|N>>>23),N=O+(w^D&(z^w))+V[15]+3634488961&4294967295,O=z+(N<<14&4294967295|N>>>18),N=D+(z^w&(O^z))+V[4]+3889429448&4294967295,D=O+(N<<20&4294967295|N>>>12),N=w+(O^z&(D^O))+V[9]+568446438&4294967295,w=D+(N<<5&4294967295|N>>>27),N=z+(D^O&(w^D))+V[14]+3275163606&4294967295,z=w+(N<<9&4294967295|N>>>23),N=O+(w^D&(z^w))+V[3]+4107603335&4294967295,O=z+(N<<14&4294967295|N>>>18),N=D+(z^w&(O^z))+V[8]+1163531501&4294967295,D=O+(N<<20&4294967295|N>>>12),N=w+(O^z&(D^O))+V[13]+2850285829&4294967295,w=D+(N<<5&4294967295|N>>>27),N=z+(D^O&(w^D))+V[2]+4243563512&4294967295,z=w+(N<<9&4294967295|N>>>23),N=O+(w^D&(z^w))+V[7]+1735328473&4294967295,O=z+(N<<14&4294967295|N>>>18),N=D+(z^w&(O^z))+V[12]+2368359562&4294967295,D=O+(N<<20&4294967295|N>>>12),N=w+(D^O^z)+V[5]+4294588738&4294967295,w=D+(N<<4&4294967295|N>>>28),N=z+(w^D^O)+V[8]+2272392833&4294967295,z=w+(N<<11&4294967295|N>>>21),N=O+(z^w^D)+V[11]+1839030562&4294967295,O=z+(N<<16&4294967295|N>>>16),N=D+(O^z^w)+V[14]+4259657740&4294967295,D=O+(N<<23&4294967295|N>>>9),N=w+(D^O^z)+V[1]+2763975236&4294967295,w=D+(N<<4&4294967295|N>>>28),N=z+(w^D^O)+V[4]+1272893353&4294967295,z=w+(N<<11&4294967295|N>>>21),N=O+(z^w^D)+V[7]+4139469664&4294967295,O=z+(N<<16&4294967295|N>>>16),N=D+(O^z^w)+V[10]+3200236656&4294967295,D=O+(N<<23&4294967295|N>>>9),N=w+(D^O^z)+V[13]+681279174&4294967295,w=D+(N<<4&4294967295|N>>>28),N=z+(w^D^O)+V[0]+3936430074&4294967295,z=w+(N<<11&4294967295|N>>>21),N=O+(z^w^D)+V[3]+3572445317&4294967295,O=z+(N<<16&4294967295|N>>>16),N=D+(O^z^w)+V[6]+76029189&4294967295,D=O+(N<<23&4294967295|N>>>9),N=w+(D^O^z)+V[9]+3654602809&4294967295,w=D+(N<<4&4294967295|N>>>28),N=z+(w^D^O)+V[12]+3873151461&4294967295,z=w+(N<<11&4294967295|N>>>21),N=O+(z^w^D)+V[15]+530742520&4294967295,O=z+(N<<16&4294967295|N>>>16),N=D+(O^z^w)+V[2]+3299628645&4294967295,D=O+(N<<23&4294967295|N>>>9),N=w+(O^(D|~z))+V[0]+4096336452&4294967295,w=D+(N<<6&4294967295|N>>>26),N=z+(D^(w|~O))+V[7]+1126891415&4294967295,z=w+(N<<10&4294967295|N>>>22),N=O+(w^(z|~D))+V[14]+2878612391&4294967295,O=z+(N<<15&4294967295|N>>>17),N=D+(z^(O|~w))+V[5]+4237533241&4294967295,D=O+(N<<21&4294967295|N>>>11),N=w+(O^(D|~z))+V[12]+1700485571&4294967295,w=D+(N<<6&4294967295|N>>>26),N=z+(D^(w|~O))+V[3]+2399980690&4294967295,z=w+(N<<10&4294967295|N>>>22),N=O+(w^(z|~D))+V[10]+4293915773&4294967295,O=z+(N<<15&4294967295|N>>>17),N=D+(z^(O|~w))+V[1]+2240044497&4294967295,D=O+(N<<21&4294967295|N>>>11),N=w+(O^(D|~z))+V[8]+1873313359&4294967295,w=D+(N<<6&4294967295|N>>>26),N=z+(D^(w|~O))+V[15]+4264355552&4294967295,z=w+(N<<10&4294967295|N>>>22),N=O+(w^(z|~D))+V[6]+2734768916&4294967295,O=z+(N<<15&4294967295|N>>>17),N=D+(z^(O|~w))+V[13]+1309151649&4294967295,D=O+(N<<21&4294967295|N>>>11),N=w+(O^(D|~z))+V[4]+4149444226&4294967295,w=D+(N<<6&4294967295|N>>>26),N=z+(D^(w|~O))+V[11]+3174756917&4294967295,z=w+(N<<10&4294967295|N>>>22),N=O+(w^(z|~D))+V[2]+718787259&4294967295,O=z+(N<<15&4294967295|N>>>17),N=D+(z^(O|~w))+V[9]+3951481745&4294967295,M.g[0]=M.g[0]+w&4294967295,M.g[1]=M.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+z&4294967295}i.prototype.v=function(M,w){w===void 0&&(w=M.length);const D=w-this.blockSize,V=this.C;let O=this.h,z=0;for(;z<w;){if(O==0)for(;z<=D;)r(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<w;)if(V[O++]=M.charCodeAt(z++),O==this.blockSize){r(this,V),O=0;break}}else for(;z<w;)if(V[O++]=M[z++],O==this.blockSize){r(this,V),O=0;break}}this.h=O,this.o+=w},i.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var w=1;w<M.length-8;++w)M[w]=0;w=this.o*8;for(var D=M.length-8;D<M.length;++D)M[D]=w&255,w/=256;for(this.v(M),M=Array(16),w=0,D=0;D<4;++D)for(let V=0;V<32;V+=8)M[w++]=this.g[D]>>>V&255;return M};function o(M,w){var D=u;return Object.prototype.hasOwnProperty.call(D,M)?D[M]:D[M]=w(M)}function l(M,w){this.h=w;const D=[];let V=!0;for(let O=M.length-1;O>=0;O--){const z=M[O]|0;V&&z==w||(D[O]=z,V=!1)}this.g=D}var u={};function f(M){return-128<=M&&M<128?o(M,function(w){return new l([w|0],w<0?-1:0)}):new l([M|0],M<0?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return _;if(M<0)return k(d(-M));const w=[];let D=1;for(let V=0;M>=D;V++)w[V]=M/D|0,D*=4294967296;return new l(w,0)}function g(M,w){if(M.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(M.charAt(0)=="-")return k(g(M.substring(1),w));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=d(Math.pow(w,8));let V=_;for(let z=0;z<M.length;z+=8){var O=Math.min(8,M.length-z);const N=parseInt(M.substring(z,z+O),w);O<8?(O=d(Math.pow(w,O)),V=V.j(O).add(d(N))):(V=V.j(D),V=V.add(d(N)))}return V}var _=f(0),v=f(1),T=f(16777216);n=l.prototype,n.m=function(){if(R(this))return-k(this).m();let M=0,w=1;for(let D=0;D<this.g.length;D++){const V=this.i(D);M+=(V>=0?V:4294967296+V)*w,w*=4294967296}return M},n.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(S(this))return"0";if(R(this))return"-"+k(this).toString(M);const w=d(Math.pow(M,6));var D=this;let V="";for(;;){const O=Q(D,w).g;D=P(D,O.j(w));let z=((D.g.length>0?D.g[0]:D.h)>>>0).toString(M);if(D=O,S(D))return z+V;for(;z.length<6;)z="0"+z;V=z+V}},n.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function S(M){if(M.h!=0)return!1;for(let w=0;w<M.g.length;w++)if(M.g[w]!=0)return!1;return!0}function R(M){return M.h==-1}n.l=function(M){return M=P(this,M),R(M)?-1:S(M)?0:1};function k(M){const w=M.g.length,D=[];for(let V=0;V<w;V++)D[V]=~M.g[V];return new l(D,~M.h).add(v)}n.abs=function(){return R(this)?k(this):this},n.add=function(M){const w=Math.max(this.g.length,M.g.length),D=[];let V=0;for(let O=0;O<=w;O++){let z=V+(this.i(O)&65535)+(M.i(O)&65535),N=(z>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);V=N>>>16,z&=65535,N&=65535,D[O]=N<<16|z}return new l(D,D[D.length-1]&-2147483648?-1:0)};function P(M,w){return M.add(k(w))}n.j=function(M){if(S(this)||S(M))return _;if(R(this))return R(M)?k(this).j(k(M)):k(k(this).j(M));if(R(M))return k(this.j(k(M)));if(this.l(T)<0&&M.l(T)<0)return d(this.m()*M.m());const w=this.g.length+M.g.length,D=[];for(var V=0;V<2*w;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<M.g.length;O++){const z=this.i(V)>>>16,N=this.i(V)&65535,Nt=M.i(O)>>>16,wt=M.i(O)&65535;D[2*V+2*O]+=N*wt,B(D,2*V+2*O),D[2*V+2*O+1]+=z*wt,B(D,2*V+2*O+1),D[2*V+2*O+1]+=N*Nt,B(D,2*V+2*O+1),D[2*V+2*O+2]+=z*Nt,B(D,2*V+2*O+2)}for(M=0;M<w;M++)D[M]=D[2*M+1]<<16|D[2*M];for(M=w;M<2*w;M++)D[M]=0;return new l(D,0)};function B(M,w){for(;(M[w]&65535)!=M[w];)M[w+1]+=M[w]>>>16,M[w]&=65535,w++}function F(M,w){this.g=M,this.h=w}function Q(M,w){if(S(w))throw Error("division by zero");if(S(M))return new F(_,_);if(R(M))return w=Q(k(M),w),new F(k(w.g),k(w.h));if(R(w))return w=Q(M,k(w)),new F(k(w.g),w.h);if(M.g.length>30){if(R(M)||R(w))throw Error("slowDivide_ only works with positive integers.");for(var D=v,V=w;V.l(M)<=0;)D=W(D),V=W(V);var O=it(D,1),z=it(V,1);for(V=it(V,2),D=it(D,2);!S(V);){var N=z.add(V);N.l(M)<=0&&(O=O.add(D),z=N),V=it(V,1),D=it(D,1)}return w=P(M,O.j(w)),new F(O,w)}for(O=_;M.l(w)>=0;){for(D=Math.max(1,Math.floor(M.m()/w.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),z=d(D),N=z.j(w);R(N)||N.l(M)>0;)D-=V,z=d(D),N=z.j(w);S(z)&&(z=v),O=O.add(z),M=P(M,N)}return new F(O,M)}n.B=function(M){return Q(this,M).h},n.and=function(M){const w=Math.max(this.g.length,M.g.length),D=[];for(let V=0;V<w;V++)D[V]=this.i(V)&M.i(V);return new l(D,this.h&M.h)},n.or=function(M){const w=Math.max(this.g.length,M.g.length),D=[];for(let V=0;V<w;V++)D[V]=this.i(V)|M.i(V);return new l(D,this.h|M.h)},n.xor=function(M){const w=Math.max(this.g.length,M.g.length),D=[];for(let V=0;V<w;V++)D[V]=this.i(V)^M.i(V);return new l(D,this.h^M.h)};function W(M){const w=M.g.length+1,D=[];for(let V=0;V<w;V++)D[V]=M.i(V)<<1|M.i(V-1)>>>31;return new l(D,M.h)}function it(M,w){const D=w>>5;w%=32;const V=M.g.length-D,O=[];for(let z=0;z<V;z++)O[z]=w>0?M.i(z+D)>>>w|M.i(z+D+1)<<32-w:M.i(z+D);return new l(O,M.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,GC=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=g,sa=l}).apply(typeof dE<"u"?dE:typeof self<"u"?self:typeof window<"u"?window:{});var fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var KC,Iu,YC,Ud,y0,$C,WC,XC;(function(){var n,t=Object.defineProperty;function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof fd=="object"&&fd];for(var b=0;b<m.length;++b){var E=m[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function r(m,b){if(b)t:{var E=i;m=m.split(".");for(var I=0;I<m.length-1;I++){var q=m[I];if(!(q in E))break t;E=E[q]}m=m[m.length-1],I=E[m],b=b(I),b!=I&&b!=null&&t(E,m,{configurable:!0,writable:!0,value:b})}}r("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(m){return m||function(b){var E=[],I;for(I in b)Object.prototype.hasOwnProperty.call(b,I)&&E.push([I,b[I]]);return E}});var o=o||{},l=this||self;function u(m){var b=typeof m;return b=="object"&&m!=null||b=="function"}function f(m,b,E){return m.call.apply(m.bind,arguments)}function d(m,b,E){return d=f,d.apply(null,arguments)}function g(m,b){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),m.apply(this,I)}}function _(m,b){function E(){}E.prototype=b.prototype,m.Z=b.prototype,m.prototype=new E,m.prototype.constructor=m,m.Ob=function(I,q,X){for(var ut=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)ut[Ot-2]=arguments[Ot];return b.prototype[q].apply(I,ut)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function T(m){const b=m.length;if(b>0){const E=Array(b);for(let I=0;I<b;I++)E[I]=m[I];return E}return[]}function S(m,b){for(let I=1;I<arguments.length;I++){const q=arguments[I];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=m.length||0;const X=q.length||0;m.length=E+X;for(let ut=0;ut<X;ut++)m[E+ut]=q[ut]}else m.push(q)}}class R{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function k(m){l.setTimeout(()=>{throw m},0)}function P(){var m=M;let b=null;return m.g&&(b=m.g,m.g=m.g.next,m.g||(m.h=null),b.next=null),b}class B{constructor(){this.h=this.g=null}add(b,E){const I=F.get();I.set(b,E),this.h?this.h.next=I:this.g=I,this.h=I}}var F=new R(()=>new Q,m=>m.reset());class Q{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let W,it=!1,M=new B,w=()=>{const m=Promise.resolve(void 0);W=()=>{m.then(D)}};function D(){for(var m;m=P();){try{m.h.call(m.g)}catch(E){k(E)}var b=F;b.j(m),b.h<100&&(b.h++,m.next=b.g,b.g=m)}it=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(m,b){this.type=m,this.g=this.target=b,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,b=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const E=()=>{};l.addEventListener("test",E,b),l.removeEventListener("test",E,b)}catch{}return m})();function N(m){return/^[\s\xa0]*$/.test(m)}function Nt(m,b){O.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,b)}_(Nt,O),Nt.prototype.init=function(m,b){const E=this.type=m.type,I=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=b,b=m.relatedTarget,b||(E=="mouseover"?b=m.fromElement:E=="mouseout"&&(b=m.toElement)),this.relatedTarget=b,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Nt.Z.h.call(this)},Nt.prototype.h=function(){Nt.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var wt="closure_listenable_"+(Math.random()*1e6|0),Y=0;function rt(m,b,E,I,q){this.listener=m,this.proxy=null,this.src=b,this.type=E,this.capture=!!I,this.ha=q,this.key=++Y,this.da=this.fa=!1}function ft(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function At(m,b,E){for(const I in m)b.call(E,m[I],I,m)}function lt(m,b){for(const E in m)b.call(void 0,m[E],E,m)}function j(m){const b={};for(const E in m)b[E]=m[E];return b}const et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(m,b){let E,I;for(let q=1;q<arguments.length;q++){I=arguments[q];for(E in I)m[E]=I[E];for(let X=0;X<et.length;X++)E=et[X],Object.prototype.hasOwnProperty.call(I,E)&&(m[E]=I[E])}}function ht(m){this.src=m,this.g={},this.h=0}ht.prototype.add=function(m,b,E,I,q){const X=m.toString();m=this.g[X],m||(m=this.g[X]=[],this.h++);const ut=gt(m,b,I,q);return ut>-1?(b=m[ut],E||(b.fa=!1)):(b=new rt(b,this.src,X,!!I,q),b.fa=E,m.push(b)),b};function mt(m,b){const E=b.type;if(E in m.g){var I=m.g[E],q=Array.prototype.indexOf.call(I,b,void 0),X;(X=q>=0)&&Array.prototype.splice.call(I,q,1),X&&(ft(b),m.g[E].length==0&&(delete m.g[E],m.h--))}}function gt(m,b,E,I){for(let q=0;q<m.length;++q){const X=m[q];if(!X.da&&X.listener==b&&X.capture==!!E&&X.ha==I)return q}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ee={};function Mt(m,b,E,I,q){if(Array.isArray(b)){for(let X=0;X<b.length;X++)Mt(m,b[X],E,I,q);return null}return E=gc(E),m&&m[wt]?m.J(b,E,u(I)?!!I.capture:!1,q):Hi(m,b,E,!1,I,q)}function Hi(m,b,E,I,q,X){if(!b)throw Error("Invalid event type");const ut=u(q)?!!q.capture:!!q;let Ot=wa(m);if(Ot||(m[Lt]=Ot=new ht(m)),E=Ot.add(b,E,I,ut,X),E.proxy)return E;if(I=yi(),E.proxy=I,I.src=m,I.listener=E,m.addEventListener)z||(q=ut),q===void 0&&(q=!1),m.addEventListener(b.toString(),I,q);else if(m.attachEvent)m.attachEvent(wn(b.toString()),I);else if(m.addListener&&m.removeListener)m.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function yi(){function m(E){return b.call(m.src,m.listener,E)}const b=mc;return m}function _i(m,b,E,I,q){if(Array.isArray(b))for(var X=0;X<b.length;X++)_i(m,b[X],E,I,q);else I=u(I)?!!I.capture:!!I,E=gc(E),m&&m[wt]?(m=m.i,X=String(b).toString(),X in m.g&&(b=m.g[X],E=gt(b,E,I,q),E>-1&&(ft(b[E]),Array.prototype.splice.call(b,E,1),b.length==0&&(delete m.g[X],m.h--)))):m&&(m=wa(m))&&(b=m.g[b.toString()],m=-1,b&&(m=gt(b,E,I,q)),(E=m>-1?b[m]:null)&&qi(E))}function qi(m){if(typeof m!="number"&&m&&!m.da){var b=m.src;if(b&&b[wt])mt(b.i,m);else{var E=m.type,I=m.proxy;b.removeEventListener?b.removeEventListener(E,I,m.capture):b.detachEvent?b.detachEvent(wn(E),I):b.addListener&&b.removeListener&&b.removeListener(I),(E=wa(b))?(mt(E,m),E.h==0&&(E.src=null,b[Lt]=null)):ft(m)}}}function wn(m){return m in Ee?Ee[m]:Ee[m]="on"+m}function mc(m,b){if(m.da)m=!0;else{b=new Nt(b,this);const E=m.listener,I=m.ha||m.src;m.fa&&qi(m),m=E.call(I,b)}return m}function wa(m){return m=m[Lt],m instanceof ht?m:null}var pc="__closure_events_fn_"+(Math.random()*1e9>>>0);function gc(m){return typeof m=="function"?m:(m[pc]||(m[pc]=function(b){return m.handleEvent(b)}),m[pc])}function Oe(){V.call(this),this.i=new ht(this),this.M=this,this.G=null}_(Oe,V),Oe.prototype[wt]=!0,Oe.prototype.removeEventListener=function(m,b,E,I){_i(this,m,b,E,I)};function Ye(m,b){var E,I=m.G;if(I)for(E=[];I;I=I.G)E.push(I);if(m=m.M,I=b.type||b,typeof b=="string")b=new O(b,m);else if(b instanceof O)b.target=b.target||m;else{var q=b;b=new O(I,m),ct(b,q)}q=!0;let X,ut;if(E)for(ut=E.length-1;ut>=0;ut--)X=b.g=E[ut],q=or(X,I,!0,b)&&q;if(X=b.g=m,q=or(X,I,!0,b)&&q,q=or(X,I,!1,b)&&q,E)for(ut=0;ut<E.length;ut++)X=b.g=E[ut],q=or(X,I,!1,b)&&q}Oe.prototype.N=function(){if(Oe.Z.N.call(this),this.i){var m=this.i;for(const b in m.g){const E=m.g[b];for(let I=0;I<E.length;I++)ft(E[I]);delete m.g[b],m.h--}}this.G=null},Oe.prototype.J=function(m,b,E,I){return this.i.add(String(m),b,!1,E,I)},Oe.prototype.K=function(m,b,E,I){return this.i.add(String(m),b,!0,E,I)};function or(m,b,E,I){if(b=m.i.g[String(b)],!b)return!0;b=b.concat();let q=!0;for(let X=0;X<b.length;++X){const ut=b[X];if(ut&&!ut.da&&ut.capture==E){const Ot=ut.listener,Re=ut.ha||ut.src;ut.fa&&mt(m.i,ut),q=Ot.call(Re,I)!==!1&&q}}return q&&!I.defaultPrevented}function gp(m,b){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:l.setTimeout(m,b||0)}function Ph(m){m.g=gp(()=>{m.g=null,m.i&&(m.i=!1,Ph(m))},m.l);const b=m.h;m.h=null,m.m.apply(null,b)}class Sn extends V{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Ph(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sa(m){V.call(this),this.h=m,this.g={}}_(Sa,V);var yc=[];function _c(m){At(m.g,function(b,E){this.g.hasOwnProperty(E)&&qi(b)},m),m.g={}}Sa.prototype.N=function(){Sa.Z.N.call(this),_c(this)},Sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lr=l.JSON.stringify,yp=l.JSON.parse,Vh=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function Lh(){}function zh(){}var vi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function rn(){O.call(this,"d")}_(rn,O);function Qn(){O.call(this,"c")}_(Qn,O);var Ce={},jh=null;function Mo(){return jh=jh||new Oe}Ce.Ia="serverreachability";function Uh(m){O.call(this,Ce.Ia,m)}_(Uh,O);function Gi(m){const b=Mo();Ye(b,new Uh(b))}Ce.STAT_EVENT="statevent";function Aa(m,b){O.call(this,Ce.STAT_EVENT,m),this.stat=b}_(Aa,O);function Pe(m){const b=Mo();Ye(b,new Aa(b,m))}Ce.Ja="timingevent";function Ki(m,b){O.call(this,Ce.Ja,m),this.size=b}_(Ki,O);function Yi(m,b){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},b)}function bi(){this.g=!0}bi.prototype.ua=function(){this.g=!1};function _p(m,b,E,I,q,X){m.info(function(){if(m.g)if(X){var ut="",Ot=X.split("&");for(let Qt=0;Qt<Ot.length;Qt++){var Re=Ot[Qt].split("=");if(Re.length>1){const ve=Re[0];Re=Re[1];const ei=ve.split("_");ut=ei.length>=2&&ei[1]=="type"?ut+(ve+"="+Re+"&"):ut+(ve+"=redacted&")}}}else ut=null;else ut=X;return"XMLHTTP REQ ("+I+") [attempt "+q+"]: "+b+`
`+E+`
`+ut})}function Bh(m,b,E,I,q,X,ut){m.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+q+"]: "+b+`
`+E+`
`+X+" "+ut})}function $i(m,b,E,I){m.info(function(){return"XMLHTTP TEXT ("+b+"): "+vp(m,E)+(I?" "+I:"")})}function Ca(m,b){m.info(function(){return"TIMEOUT: "+b})}bi.prototype.info=function(){};function vp(m,b){if(!m.g)return b;if(!b)return null;try{const X=JSON.parse(b);if(X){for(m=0;m<X.length;m++)if(Array.isArray(X[m])){var E=X[m];if(!(E.length<2)){var I=E[1];if(Array.isArray(I)&&!(I.length<1)){var q=I[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ut=1;ut<I.length;ut++)I[ut]=""}}}}return lr(X)}catch{return b}}var Ra={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bc;function ka(){}_(ka,Lh),ka.prototype.g=function(){return new XMLHttpRequest},bc=new ka;function Cs(m){return encodeURIComponent(String(m))}function Fh(m){var b=1;m=m.split(":");const E=[];for(;b>0&&m.length;)E.push(m.shift()),b--;return m.length&&E.push(m.join(":")),E}function xi(m,b,E,I){this.j=m,this.i=b,this.l=E,this.S=I||1,this.V=new Sa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ti}function Ti(){this.i=null,this.g="",this.h=!1}var Ve={},tn={};function Wi(m,b,E){m.M=1,m.A=Ia(ze(b)),m.u=E,m.R=!0,No(m,null)}function No(m,b){m.F=Date.now(),Xi(m),m.B=ze(m.A);var E=m.B,I=m.S;Array.isArray(I)||(I=[String(I)]),Lo(E.i,"t",I),m.C=0,E=m.j.L,m.h=new Ti,m.g=sf(m.j,E?b:null,!m.u),m.P>0&&(m.O=new Sn(d(m.Y,m,m.g),m.P)),b=m.V,E=m.g,I=m.ba;var q="readystatechange";Array.isArray(q)||(q&&(yc[0]=q.toString()),q=yc);for(let X=0;X<q.length;X++){const ut=Mt(E,q[X],I||b.handleEvent,!1,b.h||b);if(!ut)break;b.g[ut.key]=ut}b=m.J?j(m.J):{},m.u?(m.v||(m.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,b)):(m.v="GET",m.g.ea(m.B,m.v,null,b)),Gi(),_p(m.i,m.v,m.B,m.l,m.S,m.u)}xi.prototype.ba=function(m){m=m.target;const b=this.O;b&&Si(m)==3?b.j():this.Y(m)},xi.prototype.Y=function(m){try{if(m==this.g)t:{const Ot=Si(this.g),Re=this.g.ya(),Qt=this.g.ca();if(!(Ot<3)&&(Ot!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||Ot!=4||Re==7||(Re==8||Qt<=0?Gi(3):Gi(2)),Qi(this);var b=this.g.ca();this.X=b;var E=bp(this);if(this.o=b==200,Bh(this.i,this.v,this.B,this.l,this.S,Ot,b),this.o){if(this.U&&!this.L){e:{if(this.g){var I,q=this.g;if((I=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(I)){var X=I;break e}}X=null}if(m=X)$i(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Zi(this,m);else{this.o=!1,this.m=3,Pe(12),Bn(this),Zn(this);break t}}if(this.R){m=!0;let ve;for(;!this.K&&this.C<E.length;)if(ve=qh(this,E),ve==tn){Ot==4&&(this.m=4,Pe(14),m=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(ve==Ve){this.m=4,Pe(15),$i(this.i,this.l,E,"[Invalid Chunk]"),m=!1;break}else $i(this.i,this.l,ve,null),Zi(this,ve);if(Hh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||E.length!=0||this.h.h||(this.m=1,Pe(16),m=!1),this.o=this.o&&m,!m)$i(this.i,this.l,E,"[Invalid Chunked Response]"),Bn(this),Zn(this);else if(E.length>0&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.aa&&!ut.P&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Pc(ut),ut.P=!0,Pe(11))}}else $i(this.i,this.l,E,null),Zi(this,E);Ot==4&&Bn(this),this.o&&!this.K&&(Ot==4?Jh(this.j,this):(this.o=!1,Xi(this)))}else ks(this.g),b==400&&E.indexOf("Unknown SID")>0?(this.m=3,Pe(12)):(this.m=0,Pe(13)),Bn(this),Zn(this)}}}catch{}};function bp(m){if(!Hh(m))return m.g.la();const b=an(m.g);if(b==="")return"";let E="";const I=b.length,q=Si(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Bn(m),Zn(m),"";m.h.i=new l.TextDecoder}for(let X=0;X<I;X++)m.h.h=!0,E+=m.h.i.decode(b[X],{stream:!(q&&X==I-1)});return b.length=0,m.h.g+=E,m.C=0,m.h.g}function Hh(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function qh(m,b){var E=m.C,I=b.indexOf(`
`,E);return I==-1?tn:(E=Number(b.substring(E,I)),isNaN(E)?Ve:(I+=1,I+E>b.length?tn:(b=b.slice(I,I+E),m.C=I+E,b)))}xi.prototype.cancel=function(){this.K=!0,Bn(this)};function Xi(m){m.T=Date.now()+m.H,Oo(m,m.H)}function Oo(m,b){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Yi(d(m.aa,m),b)}function Qi(m){m.D&&(l.clearTimeout(m.D),m.D=null)}xi.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Ca(this.i,this.B),this.M!=2&&(Gi(),Pe(17)),Bn(this),this.m=2,Zn(this)):Oo(this,this.T-m)};function Zn(m){m.j.I==0||m.K||Jh(m.j,m)}function Bn(m){Qi(m);var b=m.O;b&&typeof b.dispose=="function"&&b.dispose(),m.O=null,_c(m.V),m.g&&(b=m.g,m.g=null,b.abort(),b.dispose())}function Zi(m,b){try{var E=m.j;if(E.I!=0&&(E.g==m||ts(E.h,m))){if(!m.L&&ts(E.h,m)&&E.I==3){try{var I=E.Ba.g.parse(b)}catch{I=null}if(Array.isArray(I)&&I.length==3){var q=I;if(q[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<m.F)Fo(E),gr(E);else break t;La(E),Pe(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Yi(d(E.Va,E),6e3));Ji(E.h)<=1&&E.ta&&(E.ta=void 0)}else as(E,11)}else if((m.L||E.g==m)&&Fo(E),!N(b))for(q=E.Ba.g.parse(b),b=0;b<q.length;b++){let Qt=q[b];const ve=Qt[0];if(!(ve<=E.K))if(E.K=ve,Qt=Qt[1],E.I==2)if(Qt[0]=="c"){E.M=Qt[1],E.ba=Qt[2];const ei=Qt[3];ei!=null&&(E.ka=ei,E.j.info("VER="+E.ka));const os=Qt[4];os!=null&&(E.za=os,E.j.info("SVER="+E.za));const Ai=Qt[5];Ai!=null&&typeof Ai=="number"&&Ai>0&&(I=1.5*Ai,E.O=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const Ci=m.g;if(Ci){const za=Ci.g?Ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(za){var X=I.h;X.g||za.indexOf("spdy")==-1&&za.indexOf("quic")==-1&&za.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ec(X,X.h),X.h=null))}if(I.G){const Ho=Ci.g?Ci.g.getResponseHeader("X-HTTP-Session-Id"):null;Ho&&(I.wa=Ho,ee(I.J,I.G,Ho))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-m.F,E.j.info("Handshake RTT: "+E.T+"ms")),I=E;var ut=m;if(I.na=nf(I,I.L?I.ba:null,I.W),ut.L){wc(I.h,ut);var Ot=ut,Re=I.O;Re&&(Ot.H=Re),Ot.D&&(Qi(Ot),Xi(Ot)),I.g=ut}else Qh(I);E.i.length>0&&rs(E)}else Qt[0]!="stop"&&Qt[0]!="close"||as(E,7);else E.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?as(E,7):Nc(E):Qt[0]!="noop"&&E.l&&E.l.qa(Qt),E.A=0)}}Gi(4)}catch{}}var Le=class{constructor(m,b){this.g=m,this.map=b}};function xc(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tc(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Ji(m){return m.h?1:m.g?m.g.size:0}function ts(m,b){return m.h?m.h==b:m.g?m.g.has(b):!1}function Ec(m,b){m.g?m.g.add(b):m.h=b}function wc(m,b){m.h&&m.h==b?m.h=null:m.g&&m.g.has(b)&&m.g.delete(b)}xc.prototype.cancel=function(){if(this.i=Sc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Sc(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let b=m.i;for(const E of m.g.values())b=b.concat(E.G);return b}return T(m.i)}var Gh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Po(m,b){if(m){m=m.split("&");for(let E=0;E<m.length;E++){const I=m[E].indexOf("=");let q,X=null;I>=0?(q=m[E].substring(0,I),X=m[E].substring(I+1)):q=m[E],b(q,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Fn(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;m instanceof Fn?(this.l=m.l,en(this,m.j),this.o=m.o,this.g=m.g,cr(this,m.u),this.h=m.h,Ac(this,Wh(m.i)),this.m=m.m):m&&(b=String(m).match(Gh))?(this.l=!1,en(this,b[1]||"",!0),this.o=es(b[2]||""),this.g=es(b[3]||"",!0),cr(this,b[4]),this.h=es(b[5]||"",!0),Ac(this,b[6]||"",!0),this.m=es(b[7]||"")):(this.l=!1,this.i=new hr(null,this.l))}Fn.prototype.toString=function(){const m=[];var b=this.j;b&&m.push(Da(b,Vo,!0),":");var E=this.g;return(E||b=="file")&&(m.push("//"),(b=this.o)&&m.push(Da(b,Vo,!0),"@"),m.push(Cs(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&m.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&m.push("/"),m.push(Da(E,E.charAt(0)=="/"?Cc:Kh,!0))),(E=this.i.toString())&&m.push("?",E),(E=this.m)&&m.push("#",Da(E,Yh)),m.join("")},Fn.prototype.resolve=function(m){const b=ze(this);let E=!!m.j;E?en(b,m.j):E=!!m.o,E?b.o=m.o:E=!!m.g,E?b.g=m.g:E=m.u!=null;var I=m.h;if(E)cr(b,m.u);else if(E=!!m.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var q=b.h.lastIndexOf("/");q!=-1&&(I=b.h.slice(0,q+1)+I)}if(q=I,q==".."||q==".")I="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){I=q.lastIndexOf("/",0)==0,q=q.split("/");const X=[];for(let ut=0;ut<q.length;){const Ot=q[ut++];Ot=="."?I&&ut==q.length&&X.push(""):Ot==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),I&&ut==q.length&&X.push("")):(X.push(Ot),I=!0)}I=X.join("/")}else I=q}return E?b.h=I:E=m.i.toString()!=="",E?Ac(b,Wh(m.i)):E=!!m.m,E&&(b.m=m.m),b};function ze(m){return new Fn(m)}function en(m,b,E){m.j=E?es(b,!0):b,m.j&&(m.j=m.j.replace(/:$/,""))}function cr(m,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);m.u=b}else m.u=null}function Ac(m,b,E){b instanceof hr?(m.i=b,zo(m.i,m.l)):(E||(b=Da(b,ur)),m.i=new hr(b,m.l))}function ee(m,b,E){m.i.set(b,E)}function Ia(m){return ee(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function es(m,b){return m?b?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Da(m,b,E){return typeof m=="string"?(m=encodeURI(m).replace(b,In),E&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function In(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Vo=/[#\/\?@]/g,Kh=/[#\?:]/g,Cc=/[#\?]/g,ur=/[#\?@]/g,Yh=/#/g;function hr(m,b){this.h=this.g=null,this.i=m||null,this.j=!!b}function Dn(m){m.g||(m.g=new Map,m.h=0,m.i&&Po(m.i,function(b,E){m.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}n=hr.prototype,n.add=function(m,b){Dn(this),this.i=null,m=fr(this,m);let E=this.g.get(m);return E||this.g.set(m,E=[]),E.push(b),this.h+=1,this};function $h(m,b){Dn(m),b=fr(m,b),m.g.has(b)&&(m.i=null,m.h-=m.g.get(b).length,m.g.delete(b))}function Rc(m,b){return Dn(m),b=fr(m,b),m.g.has(b)}n.forEach=function(m,b){Dn(this),this.g.forEach(function(E,I){E.forEach(function(q){m.call(b,q,I,this)},this)},this)};function kc(m,b){Dn(m);let E=[];if(typeof b=="string")Rc(m,b)&&(E=E.concat(m.g.get(fr(m,b))));else for(m=Array.from(m.g.values()),b=0;b<m.length;b++)E=E.concat(m[b]);return E}n.set=function(m,b){return Dn(this),this.i=null,m=fr(this,m),Rc(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[b]),this.h+=1,this},n.get=function(m,b){return m?(m=kc(this,m),m.length>0?String(m[0]):b):b};function Lo(m,b,E){$h(m,b),E.length>0&&(m.i=null,m.g.set(fr(m,b),T(E)),m.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],b=Array.from(this.g.keys());for(let I=0;I<b.length;I++){var E=b[I];const q=Cs(E);E=kc(this,E);for(let X=0;X<E.length;X++){let ut=q;E[X]!==""&&(ut+="="+Cs(E[X])),m.push(ut)}}return this.i=m.join("&")};function Wh(m){const b=new hr;return b.i=m.i,m.g&&(b.g=new Map(m.g),b.h=m.h),b}function fr(m,b){return b=String(b),m.j&&(b=b.toLowerCase()),b}function zo(m,b){b&&!m.j&&(Dn(m),m.i=null,m.g.forEach(function(E,I){const q=I.toLowerCase();I!=q&&($h(this,I),Lo(this,q,E))},m)),m.j=b}function Ei(m,b){const E=new bi;if(l.Image){const I=new Image;I.onload=g(Jn,E,"TestLoadImage: loaded",!0,b,I),I.onerror=g(Jn,E,"TestLoadImage: error",!1,b,I),I.onabort=g(Jn,E,"TestLoadImage: abort",!1,b,I),I.ontimeout=g(Jn,E,"TestLoadImage: timeout",!1,b,I),l.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=m}else b(!1)}function Ic(m,b){const E=new bi,I=new AbortController,q=setTimeout(()=>{I.abort(),Jn(E,"TestPingServer: timeout",!1,b)},1e4);fetch(m,{signal:I.signal}).then(X=>{clearTimeout(q),X.ok?Jn(E,"TestPingServer: ok",!0,b):Jn(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(q),Jn(E,"TestPingServer: error",!1,b)})}function Jn(m,b,E,I,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),I(E)}catch{}}function dr(){this.g=new Vh}function ns(m){this.i=m.Sb||null,this.h=m.ab||!1}_(ns,Lh),ns.prototype.g=function(){return new Ma(this.i,this.h)};function Ma(m,b){Oe.call(this),this.H=m,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Ma,Oe),n=Ma.prototype,n.open=function(m,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=b,this.readyState=1,wi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(b.body=m),(this.H||l).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;jo(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function jo(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var b=m.value?m.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!m.done}))&&(this.response=this.responseText+=b)}m.done?mr(this):wi(this),this.readyState==3&&jo(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,mr(this))},n.Na=function(m){this.g&&(this.response=m,mr(this))},n.ga=function(){this.g&&mr(this)};function mr(m){m.readyState=4,m.l=null,m.j=null,m.B=null,wi(m)}n.setRequestHeader=function(m,b){this.A.append(m,b)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,m.push(E[0]+": "+E[1]),E=b.next();return m.join(`\r
`)};function wi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ma.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ti(m){let b="";return At(m,function(E,I){b+=I,b+=":",b+=E,b+=`\r
`}),b}function Na(m,b,E){t:{for(I in E){var I=!1;break t}I=!0}I||(E=ti(E),typeof m=="string"?E!=null&&Cs(E):ee(m,b,E))}function ae(m){Oe.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ae,Oe);var is=/^https?$/i,Dc=["POST","PUT"];n=ae.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,b,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);b=b?b.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bc.g(),this.g.onreadystatechange=v(d(this.Ca,this));try{this.B=!0,this.g.open(b,String(m),!0),this.B=!1}catch(X){Oa(this,X);return}if(m=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var q in I)E.set(q,I[q]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const X of I.keys())E.set(X,I.get(X));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),q=l.FormData&&m instanceof l.FormData,!(Array.prototype.indexOf.call(Dc,b,void 0)>=0)||I||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ut]of E)this.g.setRequestHeader(X,ut);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(X){Oa(this,X)}};function Oa(m,b){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=b,m.o=5,Mc(m),Rs(m)}function Mc(m){m.A||(m.A=!0,Ye(m,"complete"),Ye(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Ye(this,"complete"),Ye(this,"abort"),Rs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rs(this,!0)),ae.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Pa(this):this.Xa())},n.Xa=function(){Pa(this)};function Pa(m){if(m.h&&typeof o<"u"){if(m.v&&Si(m)==4)setTimeout(m.Ca.bind(m),0);else if(Ye(m,"readystatechange"),Si(m)==4){m.h=!1;try{const X=m.ca();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var E;if(!(E=b)){var I;if(I=X===0){let ut=String(m.D).match(Gh)[1]||null;!ut&&l.self&&l.self.location&&(ut=l.self.location.protocol.slice(0,-1)),I=!is.test(ut?ut.toLowerCase():"")}E=I}if(E)Ye(m,"complete"),Ye(m,"success");else{m.o=6;try{var q=Si(m)>2?m.g.statusText:""}catch{q=""}m.l=q+" ["+m.ca()+"]",Mc(m)}}finally{Rs(m)}}}}function Rs(m,b){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const E=m.g;m.g=null,b||Ye(m,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Si(m){return m.g?m.g.readyState:0}n.ca=function(){try{return Si(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var b=this.g.responseText;return m&&b.indexOf(m)==0&&(b=b.substring(m.length)),yp(b)}};function an(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function ks(m){const b={};m=(m.g&&Si(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<m.length;I++){if(N(m[I]))continue;var E=Fh(m[I]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=b[q]||[];b[q]=X,X.push(E)}lt(b,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ss(m,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[m]||b}function pr(m){this.za=0,this.i=[],this.j=new bi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ss("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ss("baseRetryDelayMs",5e3,m),this.Za=ss("retryDelaySeedMs",1e4,m),this.Ta=ss("forwardChannelMaxRetries",2,m),this.va=ss("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new xc(m&&m.concurrentRequestLimit),this.Ba=new dr,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=pr.prototype,n.ka=8,n.I=1,n.connect=function(m,b,E,I){Pe(0),this.W=m,this.H=b||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.J=nf(this,null,this.W),rs(this)};function Nc(m){if(Uo(m),m.I==3){var b=m.V++,E=ze(m.J);if(ee(E,"SID",m.M),ee(E,"RID",b),ee(E,"TYPE","terminate"),Va(m,E),b=new xi(m,m.j,b),b.M=2,b.A=Ia(ze(E)),E=!1,l.navigator&&l.navigator.sendBeacon)try{E=l.navigator.sendBeacon(b.A.toString(),"")}catch{}!E&&l.Image&&(new Image().src=b.A,E=!0),E||(b.g=sf(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Xi(b)}ef(m)}function gr(m){m.g&&(Pc(m),m.g.cancel(),m.g=null)}function Uo(m){gr(m),m.v&&(l.clearTimeout(m.v),m.v=null),Fo(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&l.clearTimeout(m.m),m.m=null)}function rs(m){if(!Tc(m.h)&&!m.m){m.m=!0;var b=m.Ea;W||w(),it||(W(),it=!0),M.add(b,m),m.D=0}}function Bo(m,b){return Ji(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=b.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Yi(d(m.Ea,m,b),tf(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const q=new xi(this,this.j,m);let X=this.o;if(this.U&&(X?(X=j(X),ct(X,this.U)):X=this.U),this.u!==null||this.R||(q.J=X,X=null),this.S)t:{for(var b=0,E=0;E<this.i.length;E++){e:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(b+=I,b>4096){b=E;break t}if(b===4096||E===this.i.length-1){b=E+1;break t}}b=1e3}else b=1e3;b=Xh(this,q,b),E=ze(this.J),ee(E,"RID",m),ee(E,"CVER",22),this.G&&ee(E,"X-HTTP-Session-Id",this.G),Va(this,E),X&&(this.R?b="headers="+Cs(ti(X))+"&"+b:this.u&&Na(E,this.u,X)),Ec(this.h,q),this.Ra&&ee(E,"TYPE","init"),this.S?(ee(E,"$req",b),ee(E,"SID","null"),q.U=!0,Wi(q,E,null)):Wi(q,E,b),this.I=2}}else this.I==3&&(m?Oc(this,m):this.i.length==0||Tc(this.h)||Oc(this))};function Oc(m,b){var E;b?E=b.l:E=m.V++;const I=ze(m.J);ee(I,"SID",m.M),ee(I,"RID",E),ee(I,"AID",m.K),Va(m,I),m.u&&m.o&&Na(I,m.u,m.o),E=new xi(m,m.j,E,m.D+1),m.u===null&&(E.J=m.o),b&&(m.i=b.G.concat(m.i)),b=Xh(m,E,1e3),E.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Ec(m.h,E),Wi(E,I,b)}function Va(m,b){m.H&&At(m.H,function(E,I){ee(b,I,E)}),m.l&&At({},function(E,I){ee(b,I,E)})}function Xh(m,b,E){E=Math.min(m.i.length,E);const I=m.l?d(m.l.Ka,m.l,m):null;t:{var q=m.i;let Ot=-1;for(;;){const Re=["count="+E];Ot==-1?E>0?(Ot=q[0].g,Re.push("ofs="+Ot)):Ot=0:Re.push("ofs="+Ot);let Qt=!0;for(let ve=0;ve<E;ve++){var X=q[ve].g;const ei=q[ve].map;if(X-=Ot,X<0)Ot=Math.max(0,q[ve].g-100),Qt=!1;else try{X="req"+X+"_"||"";try{var ut=ei instanceof Map?ei:Object.entries(ei);for(const[os,Ai]of ut){let Ci=Ai;u(Ai)&&(Ci=lr(Ai)),Re.push(X+os+"="+encodeURIComponent(Ci))}}catch(os){throw Re.push(X+"type="+encodeURIComponent("_badmap")),os}}catch{I&&I(ei)}}if(Qt){ut=Re.join("&");break t}}ut=void 0}return m=m.i.splice(0,E),b.G=m,ut}function Qh(m){if(!m.g&&!m.v){m.Y=1;var b=m.Da;W||w(),it||(W(),it=!0),M.add(b,m),m.A=0}}function La(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Yi(d(m.Da,m),tf(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,Zh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Yi(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pe(10),gr(this),Zh(this))};function Pc(m){m.B!=null&&(l.clearTimeout(m.B),m.B=null)}function Zh(m){m.g=new xi(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var b=ze(m.na);ee(b,"RID","rpc"),ee(b,"SID",m.M),ee(b,"AID",m.K),ee(b,"CI",m.F?"0":"1"),!m.F&&m.ia&&ee(b,"TO",m.ia),ee(b,"TYPE","xmlhttp"),Va(m,b),m.u&&m.o&&Na(b,m.u,m.o),m.O&&(m.g.H=m.O);var E=m.g;m=m.ba,E.M=1,E.A=Ia(ze(b)),E.u=null,E.R=!0,No(E,m)}n.Va=function(){this.C!=null&&(this.C=null,gr(this),La(this),Pe(19))};function Fo(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function Jh(m,b){var E=null;if(m.g==b){Fo(m),Pc(m),m.g=null;var I=2}else if(ts(m.h,b))E=b.G,wc(m.h,b),I=1;else return;if(m.I!=0){if(b.o)if(I==1){E=b.u?b.u.length:0,b=Date.now()-b.F;var q=m.D;I=Mo(),Ye(I,new Ki(I,E)),rs(m)}else Qh(m);else if(q=b.m,q==3||q==0&&b.X>0||!(I==1&&Bo(m,b)||I==2&&La(m)))switch(E&&E.length>0&&(b=m.h,b.i=b.i.concat(E)),q){case 1:as(m,5);break;case 4:as(m,10);break;case 3:as(m,6);break;default:as(m,2)}}}function tf(m,b){let E=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(E*=2),E*b}function as(m,b){if(m.j.info("Error code "+b),b==2){var E=d(m.bb,m),I=m.Ua;const q=!I;I=new Fn(I||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||en(I,"https"),Ia(I),q?Ei(I.toString(),E):Ic(I.toString(),E)}else Pe(2);m.I=0,m.l&&m.l.pa(b),ef(m),Uo(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Pe(2)):(this.j.info("Failed to ping google.com"),Pe(1))};function ef(m){if(m.I=0,m.ja=[],m.l){const b=Sc(m.h);(b.length!=0||m.i.length!=0)&&(S(m.ja,b),S(m.ja,m.i),m.h.i.length=0,T(m.i),m.i.length=0),m.l.oa()}}function nf(m,b,E){var I=E instanceof Fn?ze(E):new Fn(E);if(I.g!="")b&&(I.g=b+"."+I.g),cr(I,I.u);else{var q=l.location;I=q.protocol,b=b?b+"."+q.hostname:q.hostname,q=+q.port;const X=new Fn(null);I&&en(X,I),b&&(X.g=b),q&&cr(X,q),E&&(X.h=E),I=X}return E=m.G,b=m.wa,E&&b&&ee(I,E,b),ee(I,"VER",m.ka),Va(m,I),I}function sf(m,b,E){if(b&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=m.Aa&&!m.ma?new ae(new ns({ab:E})):new ae(m.ma),b.Fa(m.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function rf(){}n=rf.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function yr(){}yr.prototype.g=function(m,b){return new An(m,b)};function An(m,b){Oe.call(this),this.g=new pr(b),this.l=m,this.h=b&&b.messageUrlParams||null,m=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(m?m["X-WebChannel-Content-Type"]=b.messageContentType:m={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(m?m["X-WebChannel-Client-Profile"]=b.sa:m={"X-WebChannel-Client-Profile":b.sa}),this.g.U=m,(m=b&&b.Qb)&&!N(m)&&(this.g.u=m),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!N(b)&&(this.g.G=b,m=this.h,m!==null&&b in m&&(m=this.h,b in m&&delete m[b])),this.j=new Is(this)}_(An,Oe),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){Nc(this.g)},An.prototype.o=function(m){var b=this.g;if(typeof m=="string"){var E={};E.__data__=m,m=E}else this.v&&(E={},E.__data__=lr(m),m=E);b.i.push(new Le(b.Ya++,m)),b.I==3&&rs(b)},An.prototype.N=function(){this.g.l=null,delete this.j,Nc(this.g),delete this.g,An.Z.N.call(this)};function af(m){rn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var b=m.__sm__;if(b){t:{for(const E in b){m=E;break t}m=void 0}(this.i=m)&&(m=this.i,b=b!==null&&m in b?b[m]:void 0),this.data=b}else this.data=m}_(af,rn);function of(){Qn.call(this),this.status=1}_(of,Qn);function Is(m){this.g=m}_(Is,rf),Is.prototype.ra=function(){Ye(this.g,"a")},Is.prototype.qa=function(m){Ye(this.g,new af(m))},Is.prototype.pa=function(m){Ye(this.g,new of)},Is.prototype.oa=function(){Ye(this.g,"b")},yr.prototype.createWebChannel=yr.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,XC=function(){return new yr},WC=function(){return Mo()},$C=Ce,y0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ra.NO_ERROR=0,Ra.TIMEOUT=8,Ra.HTTP_ERROR=6,Ud=Ra,vc.COMPLETE="complete",YC=vc,zh.EventType=vi,vi.OPEN="a",vi.CLOSE="b",vi.ERROR="c",vi.MESSAGE="d",Oe.prototype.listen=Oe.prototype.J,Iu=zh,ae.prototype.listenOnce=ae.prototype.K,ae.prototype.getLastError=ae.prototype.Ha,ae.prototype.getLastErrorCode=ae.prototype.ya,ae.prototype.getStatus=ae.prototype.ca,ae.prototype.getResponseJson=ae.prototype.La,ae.prototype.getResponseText=ae.prototype.la,ae.prototype.send=ae.prototype.ea,ae.prototype.setWithCredentials=ae.prototype.Fa,KC=ae}).apply(typeof fd<"u"?fd:typeof self<"u"?self:typeof window<"u"?window:{});let _n=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");let ic="12.9.0";function T4(n){ic=n}const To=new m_("@firebase/firestore");function xl(){return To.logLevel}function pt(n,...t){if(To.logLevel<=Ht.DEBUG){const e=t.map(S_);To.debug(`Firestore (${ic}): ${n}`,...e)}}function nr(n,...t){if(To.logLevel<=Ht.ERROR){const e=t.map(S_);To.error(`Firestore (${ic}): ${n}`,...e)}}function Eo(n,...t){if(To.logLevel<=Ht.WARN){const e=t.map(S_);To.warn(`Firestore (${ic}): ${n}`,...e)}}function S_(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function Rt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,QC(n,i,e)}function QC(n,t,e){let i=`FIRESTORE (${ic}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw nr(i),new Error(i)}function te(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||QC(t,r,i)}function Dt(n,t){return n}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends ar{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ra{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class ZC{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class E4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(_n.UNAUTHENTICATED)))}shutdown(){}}class w4{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class S4{constructor(t){this.t=t,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){te(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new ra;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ra,t.enqueueRetryable((()=>r(this.currentUser)))};const l=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},u=f=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ra)}}),0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(te(typeof i.accessToken=="string",31837,{l:i}),new ZC(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return te(t===null||typeof t=="string",2055,{h:t}),new _n(t)}}class A4{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class C4{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new A4(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R4{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ni(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){te(this.o===void 0,3512);const i=o=>{o.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,pt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(te(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new mE(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function k4(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class A_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=k4(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function qt(n,t){return n<t?-1:n>t?1:0}function _0(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return Cy(r)===Cy(o)?qt(r,o):Cy(r)?1:-1}return qt(n.length,t.length)}const I4=55296,D4=57343;function Cy(n){const t=n.charCodeAt(0);return t>=I4&&t<=D4}function ql(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}const pE="__name__";class gs{constructor(t,e,i){e===void 0?e=0:e>t.length&&Rt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Rt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return gs.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof gs?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=gs.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return qt(t.length,e.length)}static compareSegments(t,e){const i=gs.isNumericId(t),r=gs.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?gs.extractNumericId(t).compare(gs.extractNumericId(e)):_0(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return sa.fromString(t.substring(4,t.length-2))}}class de extends gs{construct(t,e,i){return new de(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new dt(st.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new de(e)}static emptyPath(){return new de([])}}const M4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends gs{construct(t,e,i){return new dn(t,e,i)}static isValidIdentifier(t){return M4.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pE}static keyField(){return new dn([pE])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new dt(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const u=t[r];if(u==="\\"){if(r+1===t.length)throw new dt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new dt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(o(),r++)}if(o(),l)throw new dt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new dn(e)}static emptyPath(){return new dn([])}}class Et{constructor(t){this.path=t}static fromPath(t){return new Et(de.fromString(t))}static fromName(t){return new Et(de.fromString(t).popFirst(5))}static empty(){return new Et(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&de.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return de.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new de(t.slice()))}}function JC(n,t,e){if(!e)throw new dt(st.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function N4(n,t,e,i){if(t===!0&&i===!0)throw new dt(st.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function gE(n){if(!Et.isDocumentKey(n))throw new dt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function yE(n){if(Et.isDocumentKey(n))throw new dt(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function t2(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function qm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Rt(12329,{type:typeof n})}function bs(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new dt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=qm(n);throw new dt(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Ke(n,t){const e={typeString:n};return t&&(e.value=t),e}function Eh(n,t){if(!t2(n))throw new dt(st.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const l=n[i];if(r&&typeof l!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&l!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new dt(st.INVALID_ARGUMENT,e);return!0}const _E=-62135596800,vE=1e6;class _e{static now(){return _e.fromMillis(Date.now())}static fromDate(t){return _e.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*vE);return new _e(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new dt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new dt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<_E)throw new dt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vE}_compareTo(t){return this.seconds===t.seconds?qt(this.nanoseconds,t.nanoseconds):qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Eh(t,_e._jsonSchema))return new _e(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-_E;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_e._jsonSchemaVersion="firestore/timestamp/1.0",_e._jsonSchema={type:Ke("string",_e._jsonSchemaVersion),seconds:Ke("number"),nanoseconds:Ke("number")};class kt{static fromTimestamp(t){return new kt(t)}static min(){return new kt(new _e(0,0))}static max(){return new kt(new _e(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const th=-1;function O4(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=kt.fromTimestamp(i===1e9?new _e(e+1,0):new _e(e,i));return new ua(r,Et.empty(),t)}function P4(n){return new ua(n.readTime,n.key,th)}class ua{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ua(kt.min(),Et.empty(),th)}static max(){return new ua(kt.max(),Et.empty(),th)}}function V4(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Et.comparator(n.documentKey,t.documentKey),e!==0?e:qt(n.largestBatchId,t.largestBatchId))}const L4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function sc(n){if(n.code!==st.FAILED_PRECONDITION||n.message!==L4)throw n;pt("LocalStore","Unexpectedly lost primary lease")}class ot{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ot(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof ot?e:ot.resolve(e)}catch(e){return ot.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):ot.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):ot.reject(e)}static resolve(t){return new ot(((e,i)=>{e(t)}))}static reject(t){return new ot(((e,i)=>{i(t)}))}static waitFor(t){return new ot(((e,i)=>{let r=0,o=0,l=!1;t.forEach((u=>{++r,u.next((()=>{++o,l&&o===r&&e()}),(f=>i(f)))})),l=!0,o===r&&e()}))}static or(t){let e=ot.resolve(!1);for(const i of t)e=e.next((r=>r?ot.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new ot(((i,r)=>{const o=t.length,l=new Array(o);let u=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next((g=>{l[d]=g,++u,u===o&&i(l)}),(g=>r(g)))}}))}static doWhile(t,e){return new ot(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function j4(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function rc(n){return n.name==="IndexedDbTransactionError"}class Gm{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Gm.ce=-1;const C_=-1;function Km(n){return n==null}function hm(n){return n===0&&1/n==-1/0}function U4(n){return typeof n=="number"&&Number.isInteger(n)&&!hm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const e2="";function B4(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=bE(t)),t=F4(n.get(e),t);return bE(t)}function F4(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case e2:e+="";break;default:e+=o}}return e}function bE(n){return n+e2+""}function xE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function va(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function n2(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Te{constructor(t,e){this.comparator=t,this.root=e||fn.EMPTY}insert(t,e){return new Te(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(t){return new Te(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new dd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new dd(this.root,t,this.comparator,!1)}getReverseIterator(){return new dd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new dd(this.root,t,this.comparator,!0)}}class dd{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class fn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??fn.RED,this.left=r??fn.EMPTY,this.right=o??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new fn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return fn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rt(27949);return t+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new fn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ze{constructor(t){this.comparator=t,this.data=new Te(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new TE(this.data.getIterator())}getIteratorFrom(t){return new TE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof Ze)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ze(this.comparator);return e.data=t,e}}class TE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(t){this.fields=t,t.sort(dn.comparator)}static empty(){return new Xn([])}unionWith(t){let e=new Ze(dn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Xn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ql(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class i2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new i2("Invalid base64 string: "+o):o}})(t);return new mn(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o})(t);return new mn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const H4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ha(n){if(te(!!n,39018),typeof n=="string"){let t=0;const e=H4.exec(n);if(te(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:De(n.seconds),nanos:De(n.nanos)}}function De(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function fa(n){return typeof n=="string"?mn.fromBase64String(n):mn.fromUint8Array(n)}const s2="server_timestamp",r2="__type__",a2="__previous_value__",o2="__local_write_time__";function R_(n){return(n?.mapValue?.fields||{})[r2]?.stringValue===s2}function Ym(n){const t=n.mapValue.fields[a2];return R_(t)?Ym(t):t}function eh(n){const t=ha(n.mapValue.fields[o2].timestampValue);return new _e(t.seconds,t.nanos)}class q4{constructor(t,e,i,r,o,l,u,f,d,g,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g,this.apiKey=_}}const fm="(default)";class nh{constructor(t,e){this.projectId=t,this.database=e||fm}static empty(){return new nh("","")}get isDefaultDatabase(){return this.database===fm}isEqual(t){return t instanceof nh&&t.projectId===this.projectId&&t.database===this.database}}function G4(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new dt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nh(n.options.projectId,t)}const l2="__type__",K4="__max__",md={mapValue:{}},c2="__vector__",dm="value";function da(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?R_(n)?4:$4(n)?9007199254740991:Y4(n)?10:11:Rt(28295,{value:n})}function Ss(n,t){if(n===t)return!0;const e=da(n);if(e!==da(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return eh(n).isEqual(eh(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=ha(r.timestampValue),u=ha(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return fa(r.bytesValue).isEqual(fa(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return De(r.geoPointValue.latitude)===De(o.geoPointValue.latitude)&&De(r.geoPointValue.longitude)===De(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return De(r.integerValue)===De(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=De(r.doubleValue),u=De(o.doubleValue);return l===u?hm(l)===hm(u):isNaN(l)&&isNaN(u)}return!1})(n,t);case 9:return ql(n.arrayValue.values||[],t.arrayValue.values||[],Ss);case 10:case 11:return(function(r,o){const l=r.mapValue.fields||{},u=o.mapValue.fields||{};if(xE(l)!==xE(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!Ss(l[f],u[f])))return!1;return!0})(n,t);default:return Rt(52216,{left:n})}}function ih(n,t){return(n.values||[]).find((e=>Ss(e,t)))!==void 0}function Gl(n,t){if(n===t)return 0;const e=da(n),i=da(t);if(e!==i)return qt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return qt(n.booleanValue,t.booleanValue);case 2:return(function(o,l){const u=De(o.integerValue||o.doubleValue),f=De(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(n,t);case 3:return EE(n.timestampValue,t.timestampValue);case 4:return EE(eh(n),eh(t));case 5:return _0(n.stringValue,t.stringValue);case 6:return(function(o,l){const u=fa(o),f=fa(l);return u.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,l){const u=o.split("/"),f=l.split("/");for(let d=0;d<u.length&&d<f.length;d++){const g=qt(u[d],f[d]);if(g!==0)return g}return qt(u.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,l){const u=qt(De(o.latitude),De(l.latitude));return u!==0?u:qt(De(o.longitude),De(l.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return wE(n.arrayValue,t.arrayValue);case 10:return(function(o,l){const u=o.fields||{},f=l.fields||{},d=u[dm]?.arrayValue,g=f[dm]?.arrayValue,_=qt(d?.values?.length||0,g?.values?.length||0);return _!==0?_:wE(d,g)})(n.mapValue,t.mapValue);case 11:return(function(o,l){if(o===md.mapValue&&l===md.mapValue)return 0;if(o===md.mapValue)return 1;if(l===md.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),d=l.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const v=_0(f[_],g[_]);if(v!==0)return v;const T=Gl(u[f[_]],d[g[_]]);if(T!==0)return T}return qt(f.length,g.length)})(n.mapValue,t.mapValue);default:throw Rt(23264,{he:e})}}function EE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return qt(n,t);const e=ha(n),i=ha(t),r=qt(e.seconds,i.seconds);return r!==0?r:qt(e.nanos,i.nanos)}function wE(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Gl(e[r],i[r]);if(o)return o}return qt(e.length,i.length)}function Kl(n){return v0(n)}function v0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=ha(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return fa(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Et.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=v0(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const l of i)o?o=!1:r+=",",r+=`${l}:${v0(e.fields[l])}`;return r+"}"})(n.mapValue):Rt(61005,{value:n})}function Bd(n){switch(da(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ym(n);return t?16+Bd(t):16;case 5:return 2*n.stringValue.length;case 6:return fa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+Bd(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return va(i.fields,((o,l)=>{r+=o.length+Bd(l)})),r})(n.mapValue);default:throw Rt(13486,{value:n})}}function SE(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function b0(n){return!!n&&"integerValue"in n}function k_(n){return!!n&&"arrayValue"in n}function AE(n){return!!n&&"nullValue"in n}function CE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fd(n){return!!n&&"mapValue"in n}function Y4(n){return(n?.mapValue?.fields||{})[l2]?.stringValue===c2}function Uu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return va(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Uu(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Uu(n.arrayValue.values[e]);return t}return{...n}}function $4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===K4}class jn{constructor(t){this.value=t}static empty(){return new jn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Fd(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Uu(e)}setAll(t){let e=dn.emptyPath(),i={},r=[];t.forEach(((l,u)=>{if(!e.isImmediateParentOf(u)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=u.popLast()}l?i[u.lastSegment()]=Uu(l):r.push(u.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Fd(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ss(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Fd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){va(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new jn(Uu(this.value))}}function u2(n){const t=[];return va(n.fields,((e,i)=>{const r=new dn([e]);if(Fd(i)){const o=u2(i.mapValue).fields;if(o.length===0)t.push(r);else for(const l of o)t.push(r.child(l))}else t.push(r)})),new Xn(t)}class vn{constructor(t,e,i,r,o,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(t){return new vn(t,0,kt.min(),kt.min(),kt.min(),jn.empty(),0)}static newFoundDocument(t,e,i,r){return new vn(t,1,e,kt.min(),i,r,0)}static newNoDocument(t,e){return new vn(t,2,e,kt.min(),kt.min(),jn.empty(),0)}static newUnknownDocument(t,e){return new vn(t,3,e,kt.min(),kt.min(),jn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof vn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mm{constructor(t,e){this.position=t,this.inclusive=e}}function RE(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],l=n.position[r];if(o.field.isKeyField()?i=Et.comparator(Et.fromName(l.referenceValue),e.key):i=Gl(l,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function kE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ss(n.position[e],t.position[e]))return!1;return!0}class sh{constructor(t,e="asc"){this.field=t,this.dir=e}}function W4(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class h2{}class Ge extends h2{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new Q4(t,e,i):e==="array-contains"?new tL(t,i):e==="in"?new eL(t,i):e==="not-in"?new nL(t,i):e==="array-contains-any"?new iL(t,i):new Ge(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new Z4(t,i):new J4(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Gl(e,this.value)):e!==null&&da(this.value)===da(e)&&this.matchesComparison(Gl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends h2{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Fi(t,e)}matches(t){return f2(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function f2(n){return n.op==="and"}function d2(n){return X4(n)&&f2(n)}function X4(n){for(const t of n.filters)if(t instanceof Fi)return!1;return!0}function x0(n){if(n instanceof Ge)return n.field.canonicalString()+n.op.toString()+Kl(n.value);if(d2(n))return n.filters.map((t=>x0(t))).join(",");{const t=n.filters.map((e=>x0(e))).join(",");return`${n.op}(${t})`}}function m2(n,t){return n instanceof Ge?(function(i,r){return r instanceof Ge&&i.op===r.op&&i.field.isEqual(r.field)&&Ss(i.value,r.value)})(n,t):n instanceof Fi?(function(i,r){return r instanceof Fi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,l,u)=>o&&m2(l,r.filters[u])),!0):!1})(n,t):void Rt(19439)}function p2(n){return n instanceof Ge?(function(e){return`${e.field.canonicalString()} ${e.op} ${Kl(e.value)}`})(n):n instanceof Fi?(function(e){return e.op.toString()+" {"+e.getFilters().map(p2).join(" ,")+"}"})(n):"Filter"}class Q4 extends Ge{constructor(t,e,i){super(t,e,i),this.key=Et.fromName(i.referenceValue)}matches(t){const e=Et.comparator(t.key,this.key);return this.matchesComparison(e)}}class Z4 extends Ge{constructor(t,e){super(t,"in",e),this.keys=g2("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class J4 extends Ge{constructor(t,e){super(t,"not-in",e),this.keys=g2("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function g2(n,t){return(t.arrayValue?.values||[]).map((e=>Et.fromName(e.referenceValue)))}class tL extends Ge{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return k_(e)&&ih(e.arrayValue,this.value)}}class eL extends Ge{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&ih(this.value.arrayValue,e)}}class nL extends Ge{constructor(t,e){super(t,"not-in",e)}matches(t){if(ih(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!ih(this.value.arrayValue,e)}}class iL extends Ge{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!k_(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>ih(this.value.arrayValue,i)))}}class sL{constructor(t,e=null,i=[],r=[],o=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function IE(n,t=null,e=[],i=[],r=null,o=null,l=null){return new sL(n,t,e,i,r,o,l)}function I_(n){const t=Dt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>x0(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Km(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Kl(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Kl(i))).join(",")),t.Te=e}return t.Te}function D_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!W4(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!m2(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!kE(n.startAt,t.startAt)&&kE(n.endAt,t.endAt)}function T0(n){return Et.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class ac{constructor(t,e=null,i=[],r=[],o=null,l="F",u=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function rL(n,t,e,i,r,o,l,u){return new ac(n,t,e,i,r,o,l,u)}function $m(n){return new ac(n)}function DE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function aL(n){return Et.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function y2(n){return n.collectionGroup!==null}function Bu(n){const t=Dt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Ze(dn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new sh(o,i))})),e.has(dn.keyField().canonicalString())||t.Ie.push(new sh(dn.keyField(),i))}return t.Ie}function xs(n){const t=Dt(n);return t.Ee||(t.Ee=oL(t,Bu(n))),t.Ee}function oL(n,t){if(n.limitType==="F")return IE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new sh(r.field,o)}));const e=n.endAt?new mm(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new mm(n.startAt.position,n.startAt.inclusive):null;return IE(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function E0(n,t){const e=n.filters.concat([t]);return new ac(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function lL(n,t){const e=n.explicitOrderBy.concat([t]);return new ac(n.path,n.collectionGroup,e,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function w0(n,t,e){return new ac(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Wm(n,t){return D_(xs(n),xs(t))&&n.limitType===t.limitType}function _2(n){return`${I_(xs(n))}|lt:${n.limitType}`}function Tl(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>p2(r))).join(", ")}]`),Km(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Kl(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Kl(r))).join(",")),`Target(${i})`})(xs(n))}; limitType=${n.limitType})`}function Xm(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Et.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of Bu(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(l,u,f){const d=RE(l,u,f);return l.inclusive?d<=0:d<0})(i.startAt,Bu(i),r)||i.endAt&&!(function(l,u,f){const d=RE(l,u,f);return l.inclusive?d>=0:d>0})(i.endAt,Bu(i),r))})(n,t)}function cL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function v2(n){return(t,e)=>{let i=!1;for(const r of Bu(n)){const o=uL(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function uL(n,t,e){const i=n.field.isKeyField()?Et.comparator(t.key,e.key):(function(o,l,u){const f=l.data.field(o),d=u.data.field(o);return f!==null&&d!==null?Gl(f,d):Rt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Rt(19790,{direction:n.dir})}}class Ro{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){va(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return n2(this.inner)}size(){return this.innerSize}}const hL=new Te(Et.comparator);function ir(){return hL}const b2=new Te(Et.comparator);function Du(...n){let t=b2;for(const e of n)t=t.insert(e.key,e);return t}function x2(n){let t=b2;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function uo(){return Fu()}function T2(){return Fu()}function Fu(){return new Ro((n=>n.toString()),((n,t)=>n.isEqual(t)))}const fL=new Te(Et.comparator),dL=new Ze(Et.comparator);function Gt(...n){let t=dL;for(const e of n)t=t.add(e);return t}const mL=new Ze(qt);function pL(){return mL}function M_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hm(t)?"-0":t}}function E2(n){return{integerValue:""+n}}function gL(n,t){return U4(t)?E2(t):M_(n,t)}class Qm{constructor(){this._=void 0}}function yL(n,t,e){return n instanceof pm?(function(r,o){const l={fields:{[r2]:{stringValue:s2},[o2]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&R_(o)&&(o=Ym(o)),o&&(l.fields[a2]=o),{mapValue:l}})(e,t):n instanceof rh?S2(n,t):n instanceof ah?A2(n,t):(function(r,o){const l=w2(r,o),u=ME(l)+ME(r.Ae);return b0(l)&&b0(r.Ae)?E2(u):M_(r.serializer,u)})(n,t)}function _L(n,t,e){return n instanceof rh?S2(n,t):n instanceof ah?A2(n,t):e}function w2(n,t){return n instanceof gm?(function(i){return b0(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class pm extends Qm{}class rh extends Qm{constructor(t){super(),this.elements=t}}function S2(n,t){const e=C2(t);for(const i of n.elements)e.some((r=>Ss(r,i)))||e.push(i);return{arrayValue:{values:e}}}class ah extends Qm{constructor(t){super(),this.elements=t}}function A2(n,t){let e=C2(t);for(const i of n.elements)e=e.filter((r=>!Ss(r,i)));return{arrayValue:{values:e}}}class gm extends Qm{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function ME(n){return De(n.integerValue||n.doubleValue)}function C2(n){return k_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function vL(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof rh&&r instanceof rh||i instanceof ah&&r instanceof ah?ql(i.elements,r.elements,Ss):i instanceof gm&&r instanceof gm?Ss(i.Ae,r.Ae):i instanceof pm&&r instanceof pm})(n.transform,t.transform)}class bL{constructor(t,e){this.version=t,this.transformResults=e}}class Li{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Li}static exists(t){return new Li(void 0,t)}static updateTime(t){return new Li(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Hd(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Zm{}function R2(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new N_(n.key,Li.none()):new wh(n.key,n.data,Li.none());{const e=n.data,i=jn.empty();let r=new Ze(dn.comparator);for(let o of t.fields)if(!r.has(o)){let l=e.field(o);l===null&&o.length>1&&(o=o.popLast(),l=e.field(o)),l===null?i.delete(o):i.set(o,l),r=r.add(o)}return new ba(n.key,i,new Xn(r.toArray()),Li.none())}}function xL(n,t,e){n instanceof wh?(function(r,o,l){const u=r.value.clone(),f=OE(r.fieldTransforms,o,l.transformResults);u.setAll(f),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,t,e):n instanceof ba?(function(r,o,l){if(!Hd(r.precondition,o))return void o.convertToUnknownDocument(l.version);const u=OE(r.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(k2(r)),f.setAll(u),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(n,t,e):(function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,t,e)}function Hu(n,t,e,i){return n instanceof wh?(function(o,l,u,f){if(!Hd(o.precondition,l))return u;const d=o.value.clone(),g=PE(o.fieldTransforms,f,l);return d.setAll(g),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(n,t,e,i):n instanceof ba?(function(o,l,u,f){if(!Hd(o.precondition,l))return u;const d=PE(o.fieldTransforms,f,l),g=l.data;return g.setAll(k2(o)),g.setAll(d),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,t,e,i):(function(o,l,u){return Hd(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,t,e)}function TL(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=w2(i.transform,r||null);o!=null&&(e===null&&(e=jn.empty()),e.set(i.field,o))}return e||null}function NE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ql(i,r,((o,l)=>vL(o,l)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class wh extends Zm{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ba extends Zm{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function k2(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function OE(n,t,e){const i=new Map;te(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let r=0;r<e.length;r++){const o=n[r],l=o.transform,u=t.data.field(o.field);i.set(o.field,_L(l,u,e[r]))}return i}function PE(n,t,e){const i=new Map;for(const r of n){const o=r.transform,l=e.data.field(r.field);i.set(r.field,yL(o,l,t))}return i}class N_ extends Zm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EL extends Zm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wL{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&xL(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Hu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Hu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=T2();return this.mutations.forEach((r=>{const o=t.get(r.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=e.has(r.key)?null:u;const f=R2(l,u);f!==null&&i.set(r.key,f),l.isValidDocument()||l.convertToNoDocument(kt.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Gt())}isEqual(t){return this.batchId===t.batchId&&ql(this.mutations,t.mutations,((e,i)=>NE(e,i)))&&ql(this.baseMutations,t.baseMutations,((e,i)=>NE(e,i)))}}class O_{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){te(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return fL})();const o=t.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new O_(t,e,i,r)}}class SL{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class AL{constructor(t,e){this.count=t,this.unchangedNames=e}}var He,Yt;function CL(n){switch(n){case st.OK:return Rt(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return Rt(15467,{code:n})}}function I2(n){if(n===void 0)return nr("GRPC error has no .code"),st.UNKNOWN;switch(n){case He.OK:return st.OK;case He.CANCELLED:return st.CANCELLED;case He.UNKNOWN:return st.UNKNOWN;case He.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case He.INTERNAL:return st.INTERNAL;case He.UNAVAILABLE:return st.UNAVAILABLE;case He.UNAUTHENTICATED:return st.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case He.NOT_FOUND:return st.NOT_FOUND;case He.ALREADY_EXISTS:return st.ALREADY_EXISTS;case He.PERMISSION_DENIED:return st.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case He.ABORTED:return st.ABORTED;case He.OUT_OF_RANGE:return st.OUT_OF_RANGE;case He.UNIMPLEMENTED:return st.UNIMPLEMENTED;case He.DATA_LOSS:return st.DATA_LOSS;default:return Rt(39323,{code:n})}}(Yt=He||(He={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";function RL(){return new TextEncoder}const kL=new sa([4294967295,4294967295],0);function VE(n){const t=RL().encode(n),e=new GC;return e.update(t),new Uint8Array(e.digest())}function LE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new sa([e,i],0),new sa([r,o],0)]}class P_{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Mu(`Invalid padding: ${e}`);if(i<0)throw new Mu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Mu(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Mu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=sa.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(sa.fromNumber(i)));return r.compare(kL)===1&&(r=new sa([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=VE(t),[i,r]=LE(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);if(!this.we(l))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new P_(o,r,e);return i.forEach((u=>l.insert(u))),l}insert(t){if(this.ge===0)return;const e=VE(t),[i,r]=LE(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);this.be(l)}}be(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jm{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Sh.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Jm(kt.min(),r,new Te(qt),ir(),Gt())}}class Sh{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Sh(i,e,Gt(),Gt(),Gt())}}class qd{constructor(t,e,i,r){this.Se=t,this.removedTargetIds=e,this.key=i,this.De=r}}class D2{constructor(t,e){this.targetId=t,this.Ce=e}}class M2{constructor(t,e,i=mn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class zE{constructor(){this.ve=0,this.Fe=jE(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Gt(),e=Gt(),i=Gt();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Rt(38017,{changeType:o})}})),new Sh(this.Me,this.xe,t,e,i)}Ke(){this.Oe=!1,this.Fe=jE()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,te(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class IL{constructor(t){this.Ge=t,this.ze=new Map,this.je=ir(),this.He=pd(),this.Je=pd(),this.Ze=new Te(qt)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Rt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(T0(o))if(i===0){const l=new Et(o.path);this.et(e,l,vn.newNoDocument(l,kt.min()))}else te(i===1,20013,{expectedCount:i});else{const l=this._t(e);if(l!==i){const u=this.ut(t),f=u?this.ct(u,t,l):1;if(f!==0){this.it(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let l,u;try{l=fa(i).toUint8Array()}catch(f){if(f instanceof i2)return Eo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new P_(l,r,o)}catch(f){return Eo(f instanceof Mu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;t.mightContain(u)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&T0(u.target)){const f=new Et(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,vn.newNoDocument(f,t))}o.Be&&(e.set(l,o.ke()),o.Ke())}}));let i=Gt();this.Je.forEach(((o,l)=>{let u=!0;l.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(i=i.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(t)));const r=new Jm(t,e,this.Ze,this.je,i);return this.je=ir(),this.He=pd(),this.Je=pd(),this.Ze=new Te(qt),r}Ye(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,i),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.qe(e,1):r.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new zE,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new Ze(qt),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new Ze(qt),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||pt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new zE),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function pd(){return new Te(Et.comparator)}function jE(){return new Te(Et.comparator)}const DL={asc:"ASCENDING",desc:"DESCENDING"},ML={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NL={and:"AND",or:"OR"};class OL{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function S0(n,t){return n.useProto3Json||Km(t)?t:{value:t}}function ym(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function N2(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function PL(n,t){return ym(n,t.toTimestamp())}function Ts(n){return te(!!n,49232),kt.fromTimestamp((function(e){const i=ha(e);return new _e(i.seconds,i.nanos)})(n))}function V_(n,t){return A0(n,t).canonicalString()}function A0(n,t){const e=(function(r){return new de(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function O2(n){const t=de.fromString(n);return te(j2(t),10190,{key:t.toString()}),t}function C0(n,t){return V_(n.databaseId,t.path)}function Ry(n,t){const e=O2(t);if(e.get(1)!==n.databaseId.projectId)throw new dt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new dt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Et(V2(e))}function P2(n,t){return V_(n.databaseId,t)}function VL(n){const t=O2(n);return t.length===4?de.emptyPath():V2(t)}function R0(n){return new de(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function V2(n){return te(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function UE(n,t,e){return{name:C0(n,t),fields:e.value.mapValue.fields}}function LL(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Rt(39313,{state:d})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(d,g){return d.useProto3Json?(te(g===void 0||typeof g=="string",58123),mn.fromBase64String(g||"")):(te(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),mn.fromUint8Array(g||new Uint8Array))})(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&(function(d){const g=d.code===void 0?st.UNKNOWN:I2(d.code);return new dt(g,d.message||"")})(l);e=new M2(i,r,o,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Ry(n,i.document.name),o=Ts(i.document.updateTime),l=i.document.createTime?Ts(i.document.createTime):kt.min(),u=new jn({mapValue:{fields:i.document.fields}}),f=vn.newFoundDocument(r,o,l,u),d=i.targetIds||[],g=i.removedTargetIds||[];e=new qd(d,g,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Ry(n,i.document),o=i.readTime?Ts(i.readTime):kt.min(),l=vn.newNoDocument(r,o),u=i.removedTargetIds||[];e=new qd([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Ry(n,i.document),o=i.removedTargetIds||[];e=new qd([],o,r,null)}else{if(!("filter"in t))return Rt(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,l=new AL(r,o),u=i.targetId;e=new D2(u,l)}}return e}function zL(n,t){let e;if(t instanceof wh)e={update:UE(n,t.key,t.value)};else if(t instanceof N_)e={delete:C0(n,t.key)};else if(t instanceof ba)e={update:UE(n,t.key,t.data),updateMask:YL(t.fieldMask)};else{if(!(t instanceof EL))return Rt(16599,{dt:t.type});e={verify:C0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,l){const u=l.transform;if(u instanceof pm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof rh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ah)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof gm)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Rt(20930,{transform:l.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:PL(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Rt(27497)})(n,t.precondition)),e}function jL(n,t){return n&&n.length>0?(te(t!==void 0,14353),n.map((e=>(function(r,o){let l=r.updateTime?Ts(r.updateTime):Ts(o);return l.isEqual(kt.min())&&(l=Ts(o)),new bL(l,r.transformResults||[])})(e,t)))):[]}function UL(n,t){return{documents:[P2(n,t.path)]}}function BL(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=P2(n,r);const o=(function(d){if(d.length!==0)return z2(Fi.create(d,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const l=(function(d){if(d.length!==0)return d.map((g=>(function(v){return{field:El(v.field),direction:qL(v.dir)}})(g)))})(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=S0(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(t.endAt)),{ft:e,parent:r}}function FL(n){let t=VL(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){te(i===1,65062);const g=e.from[0];g.allDescendants?r=g.collectionId:t=t.child(g.collectionId)}let o=[];e.where&&(o=(function(_){const v=L2(_);return v instanceof Fi&&d2(v)?v.getFilters():[v]})(e.where));let l=[];e.orderBy&&(l=(function(_){return _.map((v=>(function(S){return new sh(wl(S.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(v)))})(e.orderBy));let u=null;e.limit&&(u=(function(_){let v;return v=typeof _=="object"?_.value:_,Km(v)?null:v})(e.limit));let f=null;e.startAt&&(f=(function(_){const v=!!_.before,T=_.values||[];return new mm(T,v)})(e.startAt));let d=null;return e.endAt&&(d=(function(_){const v=!_.before,T=_.values||[];return new mm(T,v)})(e.endAt)),rL(t,r,l,o,u,"F",f,d)}function HL(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function L2(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=wl(e.unaryFilter.field);return Ge.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=wl(e.unaryFilter.field);return Ge.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=wl(e.unaryFilter.field);return Ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=wl(e.unaryFilter.field);return Ge.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ge.create(wl(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Fi.create(e.compositeFilter.filters.map((i=>L2(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(e.compositeFilter.op))})(n):Rt(30097,{filter:n})}function qL(n){return DL[n]}function GL(n){return ML[n]}function KL(n){return NL[n]}function El(n){return{fieldPath:n.canonicalString()}}function wl(n){return dn.fromServerFormat(n.fieldPath)}function z2(n){return n instanceof Ge?(function(e){if(e.op==="=="){if(CE(e.value))return{unaryFilter:{field:El(e.field),op:"IS_NAN"}};if(AE(e.value))return{unaryFilter:{field:El(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(CE(e.value))return{unaryFilter:{field:El(e.field),op:"IS_NOT_NAN"}};if(AE(e.value))return{unaryFilter:{field:El(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:El(e.field),op:GL(e.op),value:e.value}}})(n):n instanceof Fi?(function(e){const i=e.getFilters().map((r=>z2(r)));return i.length===1?i[0]:{compositeFilter:{op:KL(e.op),filters:i}}})(n):Rt(54877,{filter:n})}function YL(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function j2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function U2(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Wr{constructor(t,e,i,r,o=kt.min(),l=kt.min(),u=mn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(t){return new Wr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class $L{constructor(t){this.yt=t}}function WL(n){const t=FL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?w0(t,t.limit,"L"):t}class XL{constructor(){this.Sn=new QL}addToCollectionParentIndex(t,e){return this.Sn.add(e),ot.resolve()}getCollectionParents(t,e){return ot.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return ot.resolve()}deleteFieldIndex(t,e){return ot.resolve()}deleteAllFieldIndexes(t){return ot.resolve()}createTargetIndexes(t,e){return ot.resolve()}getDocumentsMatchingTarget(t,e){return ot.resolve(null)}getIndexType(t,e){return ot.resolve(0)}getFieldIndexes(t,e){return ot.resolve([])}getNextCollectionGroupToUpdate(t){return ot.resolve(null)}getMinOffset(t,e){return ot.resolve(ua.min())}getMinOffsetFromCollectionGroup(t,e){return ot.resolve(ua.min())}updateCollectionGroup(t,e,i){return ot.resolve()}updateIndexEntries(t,e){return ot.resolve()}}class QL{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ze(de.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ze(de.comparator)).toArray()}}const BE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},B2=41943040;class zn{static withCacheSize(t){return new zn(t,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(B2,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);class Yl{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Yl(0)}static ar(){return new Yl(-1)}}const FE="LruGarbageCollector",ZL=1048576;function HE([n,t],[e,i]){const r=qt(n,e);return r===0?qt(t,i):r}class JL{constructor(t){this.Pr=t,this.buffer=new Ze(HE),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();HE(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class t5{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){pt(FE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){rc(e)?pt(FE,"Ignoring IndexedDB error during garbage collection: ",e):await sc(e)}await this.Ar(3e5)}))}}class e5{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return ot.resolve(Gm.ce);const i=new JL(e);return this.Vr.forEachTarget(t,(r=>i.Er(r.sequenceNumber))).next((()=>this.Vr.mr(t,(r=>i.Er(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(BE)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BE):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let i,r,o,l,u,f,d;const g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),r=this.params.maximumSequenceNumbersToCollect):r=_,l=Date.now(),this.nthSequenceNumber(t,r)))).next((_=>(i=_,u=Date.now(),this.removeTargets(t,i,e)))).next((_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((_=>(d=Date.now(),xl()<=Ht.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${_} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:_}))))}}function n5(n,t){return new e5(n,t)}class i5{constructor(){this.changes=new Ro((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,vn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?ot.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class s5{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class r5{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&Hu(i.mutation,r,Xn.empty(),_e.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Gt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Gt()){const r=uo();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let l=Du();return o.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(t,e){const i=uo();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Gt())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((l,u)=>{e.set(l,u)}))}))}computeViews(t,e,i,r){let o=ir();const l=Fu(),u=(function(){return Fu()})();return e.forEach(((f,d)=>{const g=i.get(d.key);r.has(d.key)&&(g===void 0||g.mutation instanceof ba)?o=o.insert(d.key,d):g!==void 0?(l.set(d.key,g.mutation.getFieldMask()),Hu(g.mutation,d,g.mutation.getFieldMask(),_e.now())):l.set(d.key,Xn.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((d,g)=>l.set(d,g))),e.forEach(((d,g)=>u.set(d,new s5(g,l.get(d)??null)))),u)))}recalculateAndSaveOverlays(t,e){const i=Fu();let r=new Te(((l,u)=>l-u)),o=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((l=>{for(const u of l)u.keys().forEach((f=>{const d=e.get(f);if(d===null)return;let g=i.get(f)||Xn.empty();g=u.applyToLocalView(d,g),i.set(f,g);const _=(r.get(u.batchId)||Gt()).add(f);r=r.insert(u.batchId,_)}))})).next((()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,g=f.value,_=T2();g.forEach((v=>{if(!o.has(v)){const T=R2(e.get(v),i.get(v));T!==null&&_.set(v,T),o=o.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(t,d,_))}return ot.waitFor(l)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return aL(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):y2(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ot.resolve(uo());let u=th,f=o;return l.next((d=>ot.forEach(d,((g,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),o.get(g)?ot.resolve():this.remoteDocumentCache.getEntry(t,g).next((v=>{f=f.insert(g,v)}))))).next((()=>this.populateOverlays(t,d,o))).next((()=>this.computeViews(t,f,d,Gt()))).next((g=>({batchId:u,changes:x2(g)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Et(e)).next((i=>{let r=Du();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let l=Du();return this.indexManager.getCollectionParents(t,o).next((u=>ot.forEach(u,(f=>{const d=(function(_,v){return new ac(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,r).next((g=>{g.forEach(((_,v)=>{l=l.insert(_,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((l=>{o.forEach(((f,d)=>{const g=d.getKey();l.get(g)===null&&(l=l.insert(g,vn.newInvalidDocument(g)))}));let u=Du();return l.forEach(((f,d)=>{const g=o.get(f);g!==void 0&&Hu(g.mutation,d,Xn.empty(),_e.now()),Xm(e,d)&&(u=u.insert(f,d))})),u}))}}class a5{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return ot.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:Ts(r.createTime)}})(e)),ot.resolve()}getNamedQuery(t,e){return ot.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(r){return{name:r.name,query:WL(r.bundledQuery),readTime:Ts(r.readTime)}})(e)),ot.resolve()}}class o5{constructor(){this.overlays=new Te(Et.comparator),this.Lr=new Map}getOverlay(t,e){return ot.resolve(this.overlays.get(e))}getOverlays(t,e){const i=uo();return ot.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.bt(t,e,o)})),ot.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Lr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(i)),ot.resolve()}getOverlaysForCollection(t,e,i){const r=uo(),o=e.length+1,l=new Et(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return ot.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Te(((d,g)=>d-g));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let g=o.get(d.largestBatchId);g===null&&(g=uo(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const u=uo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,g)=>u.set(d,g))),!(u.size()>=r)););return ot.resolve(u)}bt(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.Lr.get(r.largestBatchId).delete(i.key);this.Lr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new SL(e,i));let o=this.Lr.get(e);o===void 0&&(o=Gt(),this.Lr.set(e,o)),this.Lr.set(e,o.add(i.key))}}class l5{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(t){return ot.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ot.resolve()}}class L_{constructor(){this.kr=new Ze(sn.Kr),this.qr=new Ze(sn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const i=new sn(t,e);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Wr(new sn(t,e))}Qr(t,e){t.forEach((i=>this.removeReference(i,e)))}Gr(t){const e=new Et(new de([])),i=new sn(e,t),r=new sn(e,t+1),o=[];return this.qr.forEachInRange([i,r],(l=>{this.Wr(l),o.push(l.key)})),o}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new Et(new de([])),i=new sn(e,t),r=new sn(e,t+1);let o=Gt();return this.qr.forEachInRange([i,r],(l=>{o=o.add(l.key)})),o}containsKey(t){const e=new sn(t,0),i=this.kr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class sn{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return Et.comparator(t.key,e.key)||qt(t.Hr,e.Hr)}static Ur(t,e){return qt(t.Hr,e.Hr)||Et.comparator(t.key,e.key)}}class c5{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new Ze(sn.Kr)}checkEmpty(t){return ot.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new wL(o,e,i,r);this.mutationQueue.push(l);for(const u of r)this.Jr=this.Jr.add(new sn(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return ot.resolve(l)}lookupMutationBatch(t,e){return ot.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.Xr(i),o=r<0?0:r;return ot.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(this.mutationQueue.length===0?C_:this.Yn-1)}getAllMutationBatches(t){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new sn(e,0),r=new sn(e,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([i,r],(l=>{const u=this.Zr(l.Hr);o.push(u)})),ot.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ze(qt);return e.forEach((r=>{const o=new sn(r,0),l=new sn(r,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,l],(u=>{i=i.add(u.Hr)}))})),ot.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;Et.isDocumentKey(o)||(o=o.child(""));const l=new sn(new Et(o),0);let u=new Ze(qt);return this.Jr.forEachWhile((f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(u=u.add(f.Hr)),!0)}),l),ot.resolve(this.Yr(u))}Yr(t){const e=[];return t.forEach((i=>{const r=this.Zr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){te(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return ot.forEach(e.mutations,(r=>{const o=new sn(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Jr=i}))}nr(t){}containsKey(t,e){const i=new sn(e,0),r=this.Jr.firstAfterOrEqual(i);return ot.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,ot.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class u5{constructor(t){this.ti=t,this.docs=(function(){return new Te(Et.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,l=this.ti(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ot.resolve(i?i.document.mutableCopy():vn.newInvalidDocument(e))}getEntries(t,e){let i=ir();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():vn.newInvalidDocument(r))})),ot.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=ir();const l=e.path,u=new Et(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||V4(P4(g),i)<=0||(r.has(g.key)||Xm(e,g))&&(o=o.insert(g.key,g.mutableCopy()))}return ot.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Rt(9500)}ni(t,e){return ot.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new h5(this)}getSize(t){return ot.resolve(this.size)}}class h5 extends i5{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Mr.addEntry(t,r)):this.Mr.removeEntry(i)})),ot.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class f5{constructor(t){this.persistence=t,this.ri=new Ro((e=>I_(e)),D_),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.ii=0,this.si=new L_,this.targetCount=0,this.oi=Yl._r()}forEachTarget(t,e){return this.ri.forEach(((i,r)=>e(r))),ot.resolve()}getLastRemoteSnapshotVersion(t){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ot.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.ii&&(this.ii=e),ot.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new Yl(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,ot.resolve()}updateTargetData(t,e){return this.lr(e),ot.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,ot.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.ri.forEach(((l,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.ri.delete(l),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)})),ot.waitFor(o).next((()=>r))}getTargetCount(t){return ot.resolve(this.targetCount)}getTargetData(t,e){const i=this.ri.get(e)||null;return ot.resolve(i)}addMatchingKeys(t,e,i){return this.si.$r(e,i),ot.resolve()}removeMatchingKeys(t,e,i){this.si.Qr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((l=>{o.push(r.markPotentiallyOrphaned(t,l))})),ot.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),ot.resolve()}getMatchingKeysForTargetId(t,e){const i=this.si.jr(e);return ot.resolve(i)}containsKey(t,e){return ot.resolve(this.si.containsKey(e))}}class F2{constructor(t,e){this._i={},this.overlays={},this.ai=new Gm(0),this.ui=!1,this.ui=!0,this.ci=new l5,this.referenceDelegate=t(this),this.li=new f5(this),this.indexManager=new XL,this.remoteDocumentCache=(function(r){return new u5(r)})((i=>this.referenceDelegate.hi(i))),this.serializer=new $L(e),this.Pi=new a5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new o5,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this._i[t.toKey()];return i||(i=new c5(e,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,i){pt("MemoryPersistence","Starting transaction:",t);const r=new d5(this.ai.next());return this.referenceDelegate.Ti(),i(r).next((o=>this.referenceDelegate.Ii(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ei(t,e){return ot.or(Object.values(this._i).map((i=>()=>i.containsKey(t,e))))}}class d5 extends z4{constructor(t){super(),this.currentSequenceNumber=t}}class z_{constructor(t){this.persistence=t,this.Ri=new L_,this.Ai=null}static Vi(t){return new z_(t)}get di(){if(this.Ai)return this.Ai;throw Rt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.di.delete(i.toString()),ot.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.di.add(i.toString()),ot.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),ot.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((r=>this.di.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.di.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.di,(i=>{const r=Et.fromPath(i);return this.mi(t,r).next((o=>{o||e.removeEntry(r,kt.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((i=>{i?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return ot.or([()=>ot.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class _m{constructor(t,e){this.persistence=t,this.fi=new Ro((i=>B4(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=n5(this,e)}static Vi(t,e){return new _m(t,e)}Ti(){}Ii(t){return ot.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}pr(t){let e=0;return this.mr(t,(i=>{e++})).next((()=>e))}mr(t,e){return ot.forEach(this.fi,((i,r)=>this.wr(t,i,r).next((o=>o?ot.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ni(t,(l=>this.wr(t,l,e).next((u=>{u||(i++,o.removeEntry(l,kt.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),ot.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),ot.resolve()}removeReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),ot.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),ot.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Bd(t.data.value)),e}wr(t,e,i){return ot.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.fi.get(e);return ot.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class j_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Ts=i,this.Is=r}static Es(t,e){let i=Gt(),r=Gt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new j_(t,e.fromCache,i,r)}}class m5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class p5{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return qN()?8:j4(En())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.gs(t,e).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ps(t,e,r,i).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new m5;return this.ys(t,e,l).next((u=>{if(o.result=u,this.As)return this.ws(t,e,l,u.size)}))})).next((()=>o.result))}ws(t,e,i,r){return i.documentReadCount<this.Vs?(xl()<=Ht.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",Tl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ot.resolve()):(xl()<=Ht.DEBUG&&pt("QueryEngine","Query:",Tl(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?(xl()<=Ht.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",Tl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xs(e))):ot.resolve())}gs(t,e){if(DE(e))return ot.resolve(null);let i=xs(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=w0(e,null,"F"),i=xs(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const l=Gt(...o);return this.fs.getDocuments(t,l).next((u=>this.indexManager.getMinOffset(t,i).next((f=>{const d=this.bs(e,u);return this.Ss(e,d,l,f.readTime)?this.gs(t,w0(e,null,"F")):this.Ds(t,d,e,f)}))))})))))}ps(t,e,i,r){return DE(e)||r.isEqual(kt.min())?ot.resolve(null):this.fs.getDocuments(t,i).next((o=>{const l=this.bs(e,o);return this.Ss(e,l,i,r)?ot.resolve(null):(xl()<=Ht.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Tl(e)),this.Ds(t,l,e,O4(r,th)).next((u=>u)))}))}bs(t,e){let i=new Ze(v2(t));return e.forEach(((r,o)=>{Xm(t,o)&&(i=i.add(o))})),i}Ss(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ys(t,e,i){return xl()<=Ht.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",Tl(e)),this.fs.getDocumentsMatchingQuery(t,e,ua.min(),i)}Ds(t,e,i,r){return this.fs.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((l=>{o=o.insert(l.key,l)})),o)))}}const U_="LocalStore",g5=3e8;class y5{constructor(t,e,i,r){this.persistence=t,this.Cs=e,this.serializer=r,this.vs=new Te(qt),this.Fs=new Ro((o=>I_(o)),D_),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new r5(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function _5(n,t,e,i){return new y5(n,t,e,i)}async function H2(n,t){const e=Dt(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Os(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const l=[],u=[];let f=Gt();for(const d of r){l.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of o){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return e.localDocuments.getDocuments(i,f).next((d=>({Ns:d,removedBatchIds:l,addedBatchIds:u})))}))}))}function v5(n,t){const e=Dt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.xs.newChangeBuffer({trackRemovals:!0});return(function(u,f,d,g){const _=d.batch,v=_.keys();let T=ot.resolve();return v.forEach((S=>{T=T.next((()=>g.getEntry(f,S))).next((R=>{const k=d.docVersions.get(S);te(k!==null,48541),R.version.compareTo(k)<0&&(_.applyToRemoteDocument(R,d),R.isValidDocument()&&(R.setReadTime(d.commitVersion),g.addEntry(R)))}))})),T.next((()=>u.mutationQueue.removeMutationBatch(f,_)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(u){let f=Gt();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function q2(n){const t=Dt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function b5(n,t){const e=Dt(n),i=t.snapshotVersion;let r=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=e.xs.newChangeBuffer({trackRemovals:!0});r=e.vs;const u=[];t.targetChanges.forEach(((g,_)=>{const v=r.get(_);if(!v)return;u.push(e.li.removeMatchingKeys(o,g.removedDocuments,_).next((()=>e.li.addMatchingKeys(o,g.addedDocuments,_))));let T=v.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(_)!==null?T=T.withResumeToken(mn.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,i)),r=r.insert(_,T),(function(R,k,P){return R.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=g5?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(v,T,g)&&u.push(e.li.updateTargetData(o,T))}));let f=ir(),d=Gt();if(t.documentUpdates.forEach((g=>{t.resolvedLimboDocuments.has(g)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,g))})),u.push(x5(o,l,t.documentUpdates).next((g=>{f=g.Bs,d=g.Ls}))),!i.isEqual(kt.min())){const g=e.li.getLastRemoteSnapshotVersion(o).next((_=>e.li.setTargetsMetadata(o,o.currentSequenceNumber,i)));u.push(g)}return ot.waitFor(u).next((()=>l.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(e.vs=r,o)))}function x5(n,t,e){let i=Gt(),r=Gt();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let l=ir();return e.forEach(((u,f)=>{const d=o.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(u)),f.isNoDocument()&&f.version.isEqual(kt.min())?(t.removeEntry(u,f.readTime),l=l.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),l=l.insert(u,f)):pt(U_,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)})),{Bs:l,Ls:r}}))}function T5(n,t){const e=Dt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=C_),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function E5(n,t){const e=Dt(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.li.getTargetData(i,t).next((o=>o?(r=o,ot.resolve(r)):e.li.allocateTargetId(i).next((l=>(r=new Wr(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.li.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.vs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.vs=e.vs.insert(i.targetId,i),e.Fs.set(t,i.targetId)),i}))}async function k0(n,t,e){const i=Dt(n),r=i.vs.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!rc(l))throw l;pt(U_,`Failed to update sequence numbers for target ${t}: ${l}`)}i.vs=i.vs.remove(t),i.Fs.delete(r.target)}function qE(n,t,e){const i=Dt(n);let r=kt.min(),o=Gt();return i.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,d,g){const _=Dt(f),v=_.Fs.get(g);return v!==void 0?ot.resolve(_.vs.get(v)):_.li.getTargetData(d,g)})(i,l,xs(t)).next((u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(l,u.targetId).next((f=>{o=f}))})).next((()=>i.Cs.getDocumentsMatchingQuery(l,t,e?r:kt.min(),e?o:Gt()))).next((u=>(w5(i,cL(t),u),{documents:u,ks:o})))))}function w5(n,t,e){let i=n.Ms.get(t)||kt.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Ms.set(t,i)}class GE{constructor(){this.activeTargetIds=pL()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class S5{constructor(){this.vo=new GE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,i){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new GE,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class A5{Mo(t){}shutdown(){}}const KE="ConnectivityMonitor";class YE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){pt(KE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){pt(KE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let gd=null;function I0(){return gd===null?gd=(function(){return 268435456+Math.round(2147483648*Math.random())})():gd++,"0x"+gd.toString(16)}const ky="RestConnection",C5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class R5{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${i}/databases/${r}`,this.$o=this.databaseId.database===fm?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(t,e,i,r,o){const l=I0(),u=this.Qo(t,e.toUriEncodedString());pt(ky,`Sending RPC '${t}' ${l}:`,u,i);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,r,o);const{host:d}=new URL(u),g=Jl(d);return this.zo(t,u,f,i,g).then((_=>(pt(ky,`Received RPC '${t}' ${l}: `,_),_)),(_=>{throw Eo(ky,`RPC '${t}' ${l} failed with error: `,_,"url: ",u,"request:",i),_}))}jo(t,e,i,r,o,l){return this.Wo(t,e,i,r,o)}Go(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ic})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}Qo(t,e){const i=C5[t];let r=`${this.qo}/v1/${e}:${i}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}class k5{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const gn="WebChannelConnection",bu=(n,t,e)=>{n.listen(t,(i=>{try{e(i)}catch(r){setTimeout((()=>{throw r}),0)}}))};class Vl extends R5{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Vl.c_){const t=WC();bu(t,$C.STAT_EVENT,(e=>{e.stat===y0.PROXY?pt(gn,"STAT_EVENT: detected buffering proxy"):e.stat===y0.NOPROXY&&pt(gn,"STAT_EVENT: detected no buffering proxy")})),Vl.c_=!0}}zo(t,e,i,r,o){const l=I0();return new Promise(((u,f)=>{const d=new KC;d.setWithCredentials(!0),d.listenOnce(YC.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Ud.NO_ERROR:const _=d.getResponseJson();pt(gn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(_)),u(_);break;case Ud.TIMEOUT:pt(gn,`RPC '${t}' ${l} timed out`),f(new dt(st.DEADLINE_EXCEEDED,"Request time out"));break;case Ud.HTTP_ERROR:const v=d.getStatus();if(pt(gn,`RPC '${t}' ${l} failed with status:`,v,"response text:",d.getResponseText()),v>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T?.error;if(S&&S.status&&S.message){const R=(function(P){const B=P.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(B)>=0?B:st.UNKNOWN})(S.status);f(new dt(R,S.message))}else f(new dt(st.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new dt(st.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:t,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{pt(gn,`RPC '${t}' ${l} completed.`)}}));const g=JSON.stringify(r);pt(gn,`RPC '${t}' ${l} sending request:`,r),d.send(e,"POST",g,i,15)}))}T_(t,e,i){const r=I0(),o=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,e,i),u.encodeInitMessageHeaders=!0;const d=o.join("");pt(gn,`Creating RPC '${t}' stream ${r}: ${d}`,u);const g=l.createWebChannel(d,u);this.I_(g);let _=!1,v=!1;const T=new k5({Ho:S=>{v?pt(gn,`Not sending because RPC '${t}' stream ${r} is closed:`,S):(_||(pt(gn,`Opening RPC '${t}' stream ${r} transport.`),g.open(),_=!0),pt(gn,`RPC '${t}' stream ${r} sending:`,S),g.send(S))},Jo:()=>g.close()});return bu(g,Iu.EventType.OPEN,(()=>{v||(pt(gn,`RPC '${t}' stream ${r} transport opened.`),T.i_())})),bu(g,Iu.EventType.CLOSE,(()=>{v||(v=!0,pt(gn,`RPC '${t}' stream ${r} transport closed`),T.o_(),this.E_(g))})),bu(g,Iu.EventType.ERROR,(S=>{v||(v=!0,Eo(gn,`RPC '${t}' stream ${r} transport errored. Name:`,S.name,"Message:",S.message),T.o_(new dt(st.UNAVAILABLE,"The operation could not be completed")))})),bu(g,Iu.EventType.MESSAGE,(S=>{if(!v){const R=S.data[0];te(!!R,16349);const k=R,P=k?.error||k[0]?.error;if(P){pt(gn,`RPC '${t}' stream ${r} received error:`,P);const B=P.status;let F=(function(it){const M=He[it];if(M!==void 0)return I2(M)})(B),Q=P.message;B==="NOT_FOUND"&&Q.includes("database")&&Q.includes("does not exist")&&Q.includes(this.databaseId.database)&&Eo(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),F===void 0&&(F=st.INTERNAL,Q="Unknown error status: "+B+" with message "+P.message),v=!0,T.o_(new dt(F,Q)),g.close()}else pt(gn,`RPC '${t}' stream ${r} received:`,R),T.__(R)}})),Vl.u_(),setTimeout((()=>{T.s_()}),0),T}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,i){super.Go(t,e,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return XC()}}function I5(n){return new Vl(n)}function Iy(){return typeof document<"u"?document:null}function tp(n){return new OL(n,!0)}Vl.c_=!1;class G2{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Ci=t,this.timerId=e,this.R_=i,this.A_=r,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&pt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const $E="PersistentStream";class K2{constructor(t,e,i,r,o,l,u,f){this.Ci=t,this.b_=i,this.S_=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new G2(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===st.RESOURCE_EXHAUSTED?(nr(e.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new dt(st.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.H_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return pt($E,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(pt($E,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class D5 extends K2{constructor(t,e,i,r,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=LL(this.serializer,t),i=(function(o){if(!("targetChange"in o))return kt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?kt.min():l.readTime?Ts(l.readTime):kt.min()})(t);return this.listener.J_(e,i)}Z_(t){const e={};e.database=R0(this.serializer),e.addTarget=(function(o,l){let u;const f=l.target;if(u=T0(f)?{documents:UL(o,f)}:{query:BL(o,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=N2(o,l.resumeToken);const d=S0(o,l.expectedCount);d!==null&&(u.expectedCount=d)}else if(l.snapshotVersion.compareTo(kt.min())>0){u.readTime=ym(o,l.snapshotVersion.toTimestamp());const d=S0(o,l.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,t);const i=HL(this.serializer,t);i&&(e.labels=i),this.K_(e)}X_(t){const e={};e.database=R0(this.serializer),e.removeTarget=t,this.K_(e)}}class M5 extends K2{constructor(t,e,i,r,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return te(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,te(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){te(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=jL(t.writeResults,t.commitTime),i=Ts(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=R0(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>zL(this.serializer,i)))};this.K_(e)}}class N5{}class O5 extends N5{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new dt(st.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Wo(t,A0(e,i),r,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new dt(st.UNKNOWN,o.toString())}))}jo(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.jo(t,A0(e,i),r,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new dt(st.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function P5(n,t,e,i){return new O5(n,t,e,i)}class V5{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(nr(e),this.aa=!1):pt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const wo="RemoteStore";class L5{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((l=>{i.enqueueAndForget((async()=>{ko(this)&&(pt(wo,"Restarting streams for network reachability change."),await(async function(f){const d=Dt(f);d.Ea.add(4),await Ah(d),d.Va.set("Unknown"),d.Ea.delete(4),await ep(d)})(this))}))})),this.Va=new V5(i,r)}}async function ep(n){if(ko(n))for(const t of n.Ra)await t(!0)}async function Ah(n){for(const t of n.Ra)await t(!1)}function Y2(n,t){const e=Dt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),q_(e)?H_(e):oc(e).O_()&&F_(e,t))}function B_(n,t){const e=Dt(n),i=oc(e);e.Ia.delete(t),i.O_()&&$2(e,t),e.Ia.size===0&&(i.O_()?i.L_():ko(e)&&e.Va.set("Unknown"))}function F_(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(kt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}oc(n).Z_(t)}function $2(n,t){n.da.$e(t),oc(n).X_(t)}function H_(n){n.da=new IL({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),oc(n).start(),n.Va.ua()}function q_(n){return ko(n)&&!oc(n).x_()&&n.Ia.size>0}function ko(n){return Dt(n).Ea.size===0}function W2(n){n.da=void 0}async function z5(n){n.Va.set("Online")}async function j5(n){n.Ia.forEach(((t,e)=>{F_(n,t)}))}async function U5(n,t){W2(n),q_(n)?(n.Va.ha(t),H_(n)):n.Va.set("Unknown")}async function B5(n,t,e){if(n.Va.set("Online"),t instanceof M2&&t.state===2&&t.cause)try{await(async function(r,o){const l=o.cause;for(const u of o.targetIds)r.Ia.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.Ia.delete(u),r.da.removeTarget(u))})(n,t)}catch(i){pt(wo,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await vm(n,i)}else if(t instanceof qd?n.da.Xe(t):t instanceof D2?n.da.st(t):n.da.tt(t),!e.isEqual(kt.min()))try{const i=await q2(n.localStore);e.compareTo(i)>=0&&await(function(o,l){const u=o.da.Tt(l);return u.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.Ia.get(d);g&&o.Ia.set(d,g.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,d)=>{const g=o.Ia.get(f);if(!g)return;o.Ia.set(f,g.withResumeToken(mn.EMPTY_BYTE_STRING,g.snapshotVersion)),$2(o,f);const _=new Wr(g.target,f,d,g.sequenceNumber);F_(o,_)})),o.remoteSyncer.applyRemoteEvent(u)})(n,e)}catch(i){pt(wo,"Failed to raise snapshot:",i),await vm(n,i)}}async function vm(n,t,e){if(!rc(t))throw t;n.Ea.add(1),await Ah(n),n.Va.set("Offline"),e||(e=()=>q2(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{pt(wo,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await ep(n)}))}function X2(n,t){return t().catch((e=>vm(n,e,t)))}async function np(n){const t=Dt(n),e=ma(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:C_;for(;F5(t);)try{const r=await T5(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,H5(t,r)}catch(r){await vm(t,r)}Q2(t)&&Z2(t)}function F5(n){return ko(n)&&n.Ta.length<10}function H5(n,t){n.Ta.push(t);const e=ma(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function Q2(n){return ko(n)&&!ma(n).x_()&&n.Ta.length>0}function Z2(n){ma(n).start()}async function q5(n){ma(n).ra()}async function G5(n){const t=ma(n);for(const e of n.Ta)t.ea(e.mutations)}async function K5(n,t,e){const i=n.Ta.shift(),r=O_.from(i,t,e);await X2(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await np(n)}async function Y5(n,t){t&&ma(n).Y_&&await(async function(i,r){if((function(l){return CL(l)&&l!==st.ABORTED})(r.code)){const o=i.Ta.shift();ma(i).B_(),await X2(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await np(i)}})(n,t),Q2(n)&&Z2(n)}async function WE(n,t){const e=Dt(n);e.asyncQueue.verifyOperationInProgress(),pt(wo,"RemoteStore received new credentials");const i=ko(e);e.Ea.add(3),await Ah(e),i&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await ep(e)}async function $5(n,t){const e=Dt(n);t?(e.Ea.delete(2),await ep(e)):t||(e.Ea.add(2),await Ah(e),e.Va.set("Unknown"))}function oc(n){return n.ma||(n.ma=(function(e,i,r){const o=Dt(e);return o.sa(),new D5(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Zo:z5.bind(null,n),Yo:j5.bind(null,n),t_:U5.bind(null,n),J_:B5.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),q_(n)?H_(n):n.Va.set("Unknown")):(await n.ma.stop(),W2(n))}))),n.ma}function ma(n){return n.fa||(n.fa=(function(e,i,r){const o=Dt(e);return o.sa(),new M5(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:q5.bind(null,n),t_:Y5.bind(null,n),ta:G5.bind(null,n),na:K5.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await np(n)):(await n.fa.stop(),n.Ta.length>0&&(pt(wo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class G_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ra,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const l=Date.now()+i,u=new G_(t,e,l,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function K_(n,t){if(nr("AsyncQueue",`${t}: ${n}`),rc(n))return new dt(st.UNAVAILABLE,`${t}: ${n}`);throw n}class Ll{static emptySet(t){return new Ll(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Et.comparator(e.key,i.key):(e,i)=>Et.comparator(e.key,i.key),this.keyedMap=Du(),this.sortedSet=new Te(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ll)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Ll;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class XE{constructor(){this.ga=new Te(Et.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Rt(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class $l{constructor(t,e,i,r,o,l,u,f,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,r,o){const l=[];return e.forEach((u=>{l.push({type:0,doc:u})})),new $l(t,e,Ll.emptySet(e),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Wm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class W5{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class X5{constructor(){this.queries=QE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=Dt(e),o=r.queries;r.queries=QE(),o.forEach(((l,u)=>{for(const f of u.ba)f.onError(i)}))})(this,new dt(st.ABORTED,"Firestore shutting down"))}}function QE(){return new Ro((n=>_2(n)),Wm)}async function J2(n,t){const e=Dt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.Sa()&&t.Da()&&(i=2):(o=new W5,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(l){const u=K_(l,`Initialization of query '${Tl(t.query)}' failed`);return void t.onError(u)}e.queries.set(r,o),o.ba.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&Y_(e)}async function tR(n,t){const e=Dt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const l=o.ba.indexOf(t);l>=0&&(o.ba.splice(l,1),o.ba.length===0?r=t.Da()?0:1:!o.Sa()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function Q5(n,t){const e=Dt(n);let i=!1;for(const r of t){const o=r.query,l=e.queries.get(o);if(l){for(const u of l.ba)u.Fa(r)&&(i=!0);l.wa=r}}i&&Y_(e)}function Z5(n,t,e){const i=Dt(n),r=i.queries.get(t);if(r)for(const o of r.ba)o.onError(e);i.queries.delete(t)}function Y_(n){n.Ca.forEach((t=>{t.next()}))}var D0,ZE;(ZE=D0||(D0={})).Ma="default",ZE.Cache="cache";class eR{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new $l(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=$l.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==D0.Cache}}class nR{constructor(t){this.key=t}}class iR{constructor(t){this.key=t}}class J5{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Gt(),this.mutatedKeys=Gt(),this.eu=v2(t),this.tu=new Ll(this.eu)}get nu(){return this.Za}ru(t,e){const i=e?e.iu:new XE,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,l=r,u=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((g,_)=>{const v=r.get(g),T=Xm(this.query,_)?_:null,S=!!v&&this.mutatedKeys.has(v.key),R=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let k=!1;v&&T?v.data.isEqual(T.data)?S!==R&&(i.track({type:3,doc:T}),k=!0):this.su(v,T)||(i.track({type:2,doc:T}),k=!0,(f&&this.eu(T,f)>0||d&&this.eu(T,d)<0)&&(u=!0)):!v&&T?(i.track({type:0,doc:T}),k=!0):v&&!T&&(i.track({type:1,doc:v}),k=!0,(f||d)&&(u=!0)),k&&(T?(l=l.add(T),o=R?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{tu:l,iu:i,Ss:u,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort(((g,_)=>(function(T,S){const R=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Vt:k})}};return R(T)-R(S)})(g.type,_.type)||this.eu(g.doc,_.doc))),this.ou(i),r=r??!1;const u=e&&!r?this._u():[],f=this.Ya.size===0&&this.current&&!r?1:0,d=f!==this.Xa;return this.Xa=f,l.length!==0||d?{snapshot:new $l(this.query,t.tu,o,l,t.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new XE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Gt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const e=[];return t.forEach((i=>{this.Ya.has(i)||e.push(new iR(i))})),this.Ya.forEach((i=>{t.has(i)||e.push(new nR(i))})),e}cu(t){this.Za=t.ks,this.Ya=Gt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return $l.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const $_="SyncEngine";class t3{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class e3{constructor(t){this.key=t,this.hu=!1}}class n3{constructor(t,e,i,r,o,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Ro((u=>_2(u)),Wm),this.Iu=new Map,this.Eu=new Set,this.Ru=new Te(Et.comparator),this.Au=new Map,this.Vu=new L_,this.du={},this.mu=new Map,this.fu=Yl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function i3(n,t,e=!0){const i=cR(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await sR(i,t,e,!0),r}async function s3(n,t){const e=cR(n);await sR(e,t,!0,!1)}async function sR(n,t,e,i){const r=await E5(n.localStore,xs(t)),o=r.targetId,l=n.sharedClientState.addLocalQueryTarget(o,e);let u;return i&&(u=await r3(n,t,o,l==="current",r.resumeToken)),n.isPrimaryClient&&e&&Y2(n.remoteStore,r),u}async function r3(n,t,e,i,r){n.pu=(_,v,T)=>(async function(R,k,P,B){let F=k.view.ru(P);F.Ss&&(F=await qE(R.localStore,k.query,!1).then((({documents:M})=>k.view.ru(M,F))));const Q=B&&B.targetChanges.get(k.targetId),W=B&&B.targetMismatches.get(k.targetId)!=null,it=k.view.applyChanges(F,R.isPrimaryClient,Q,W);return tw(R,k.targetId,it.au),it.snapshot})(n,_,v,T);const o=await qE(n.localStore,t,!0),l=new J5(t,o.ks),u=l.ru(o.documents),f=Sh.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),d=l.applyChanges(u,n.isPrimaryClient,f);tw(n,e,d.au);const g=new t3(t,e,l);return n.Tu.set(t,g),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),d.snapshot}async function a3(n,t,e){const i=Dt(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((l=>!Wm(l,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await k0(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&B_(i.remoteStore,r.targetId),M0(i,r.targetId)})).catch(sc)):(M0(i,r.targetId),await k0(i.localStore,r.targetId,!0))}async function o3(n,t){const e=Dt(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),B_(e.remoteStore,i.targetId))}async function l3(n,t,e){const i=p3(n);try{const r=await(function(l,u){const f=Dt(l),d=_e.now(),g=u.reduce(((T,S)=>T.add(S.key)),Gt());let _,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let S=ir(),R=Gt();return f.xs.getEntries(T,g).next((k=>{S=k,S.forEach(((P,B)=>{B.isValidDocument()||(R=R.add(P))}))})).next((()=>f.localDocuments.getOverlayedDocuments(T,S))).next((k=>{_=k;const P=[];for(const B of u){const F=TL(B,_.get(B.key).overlayedDocument);F!=null&&P.push(new ba(B.key,F,u2(F.value.mapValue),Li.exists(!0)))}return f.mutationQueue.addMutationBatch(T,d,P,u)})).next((k=>{v=k;const P=k.applyToLocalDocumentSet(_,R);return f.documentOverlayCache.saveOverlays(T,k.batchId,P)}))})).then((()=>({batchId:v.batchId,changes:x2(_)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(l,u,f){let d=l.du[l.currentUser.toKey()];d||(d=new Te(qt)),d=d.insert(u,f),l.du[l.currentUser.toKey()]=d})(i,r.batchId,e),await Ch(i,r.changes),await np(i.remoteStore)}catch(r){const o=K_(r,"Failed to persist write");e.reject(o)}}async function rR(n,t){const e=Dt(n);try{const i=await b5(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const l=e.Au.get(o);l&&(te(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.hu=!0:r.modifiedDocuments.size>0?te(l.hu,14607):r.removedDocuments.size>0&&(te(l.hu,42227),l.hu=!1))})),await Ch(e,i,t)}catch(i){await sc(i)}}function JE(n,t,e){const i=Dt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,l)=>{const u=l.view.va(t);u.snapshot&&r.push(u.snapshot)})),(function(l,u){const f=Dt(l);f.onlineState=u;let d=!1;f.queries.forEach(((g,_)=>{for(const v of _.ba)v.va(u)&&(d=!0)})),d&&Y_(f)})(i.eventManager,t),r.length&&i.Pu.J_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function c3(n,t,e){const i=Dt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let l=new Te(Et.comparator);l=l.insert(o,vn.newNoDocument(o,kt.min()));const u=Gt().add(o),f=new Jm(kt.min(),new Map,new Te(qt),l,u);await rR(i,f),i.Ru=i.Ru.remove(o),i.Au.delete(t),W_(i)}else await k0(i.localStore,t,!1).then((()=>M0(i,t,e))).catch(sc)}async function u3(n,t){const e=Dt(n),i=t.batch.batchId;try{const r=await v5(e.localStore,t);oR(e,i,null),aR(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Ch(e,r)}catch(r){await sc(r)}}async function h3(n,t,e){const i=Dt(n);try{const r=await(function(l,u){const f=Dt(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let g;return f.mutationQueue.lookupMutationBatch(d,u).next((_=>(te(_!==null,37113),g=_.keys(),f.mutationQueue.removeMutationBatch(d,_)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g))).next((()=>f.localDocuments.getDocuments(d,g)))}))})(i.localStore,t);oR(i,t,e),aR(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Ch(i,r)}catch(r){await sc(r)}}function aR(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function oR(n,t,e){const i=Dt(n);let r=i.du[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.du[i.currentUser.toKey()]=r}}function M0(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((i=>{n.Vu.containsKey(i)||lR(n,i)}))}function lR(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(B_(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),W_(n))}function tw(n,t,e){for(const i of e)i instanceof nR?(n.Vu.addReference(i.key,t),f3(n,i)):i instanceof iR?(pt($_,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,t),n.Vu.containsKey(i.key)||lR(n,i.key)):Rt(19791,{wu:i})}function f3(n,t){const e=t.key,i=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(i)||(pt($_,"New document in limbo: "+e),n.Eu.add(i),W_(n))}function W_(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Et(de.fromString(t)),i=n.fu.next();n.Au.set(i,new e3(e)),n.Ru=n.Ru.insert(e,i),Y2(n.remoteStore,new Wr(xs($m(e.path)),i,"TargetPurposeLimboResolution",Gm.ce))}}async function Ch(n,t,e){const i=Dt(n),r=[],o=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach(((u,f)=>{l.push(i.pu(f,t,e).then((d=>{if((d||e)&&i.isPrimaryClient){const g=d?!d.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(d){r.push(d);const g=j_.Es(f.targetId,d);o.push(g)}})))})),await Promise.all(l),i.Pu.J_(r),await(async function(f,d){const g=Dt(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ot.forEach(d,(v=>ot.forEach(v.Ts,(T=>g.persistence.referenceDelegate.addReference(_,v.targetId,T))).next((()=>ot.forEach(v.Is,(T=>g.persistence.referenceDelegate.removeReference(_,v.targetId,T)))))))))}catch(_){if(!rc(_))throw _;pt(U_,"Failed to update sequence numbers: "+_)}for(const _ of d){const v=_.targetId;if(!_.fromCache){const T=g.vs.get(v),S=T.snapshotVersion,R=T.withLastLimboFreeSnapshotVersion(S);g.vs=g.vs.insert(v,R)}}})(i.localStore,o))}async function d3(n,t){const e=Dt(n);if(!e.currentUser.isEqual(t)){pt($_,"User change. New user:",t.toKey());const i=await H2(e.localStore,t);e.currentUser=t,(function(o,l){o.mu.forEach((u=>{u.forEach((f=>{f.reject(new dt(st.CANCELLED,l))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Ch(e,i.Ns)}}function m3(n,t){const e=Dt(n),i=e.Au.get(t);if(i&&i.hu)return Gt().add(i.key);{let r=Gt();const o=e.Iu.get(t);if(!o)return r;for(const l of o){const u=e.Tu.get(l);r=r.unionWith(u.view.nu)}return r}}function cR(n){const t=Dt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=rR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=m3.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=c3.bind(null,t),t.Pu.J_=Q5.bind(null,t.eventManager),t.Pu.yu=Z5.bind(null,t.eventManager),t}function p3(n){const t=Dt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=u3.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=h3.bind(null,t),t}class bm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=tp(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return _5(this.persistence,new p5,t.initialUser,this.serializer)}Cu(t){return new F2(z_.Vi,this.serializer)}Du(t){return new S5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bm.provider={build:()=>new bm};class g3 extends bm{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){te(this.persistence.referenceDelegate instanceof _m,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new t5(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new F2((i=>_m.Vi(i,e)),this.serializer)}}class N0{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>JE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=d3.bind(null,this.syncEngine),await $5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new X5})()}createDatastore(t){const e=tp(t.databaseInfo.databaseId),i=I5(t.databaseInfo);return P5(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,l,u){return new L5(i,r,o,l,u)})(this.localStore,this.datastore,t.asyncQueue,(e=>JE(this.syncEngine,e,0)),(function(){return YE.v()?new YE:new A5})())}createSyncEngine(t,e){return(function(r,o,l,u,f,d,g){const _=new n3(r,o,l,u,f,d);return g&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=Dt(e);pt(wo,"RemoteStore shutting down."),i.Ea.add(5),await Ah(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}N0.provider={build:()=>new N0};class uR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):nr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const pa="FirestoreClient";class y3{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this._databaseInfo=r,this.user=_n.UNAUTHENTICATED,this.clientId=A_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async l=>{pt(pa,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(i,(l=>(pt(pa,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ra;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=K_(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Dy(n,t){n.asyncQueue.verifyOperationInProgress(),pt(pa,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await H2(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function ew(n,t){n.asyncQueue.verifyOperationInProgress();const e=await _3(n);pt(pa,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>WE(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>WE(t.remoteStore,r))),n._onlineComponents=t}async function _3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pt(pa,"Using user provided OfflineComponentProvider");try{await Dy(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===st.FAILED_PRECONDITION||r.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;Eo("Error using user provided cache. Falling back to memory cache: "+e),await Dy(n,new bm)}}else pt(pa,"Using default OfflineComponentProvider"),await Dy(n,new g3(void 0));return n._offlineComponents}async function hR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pt(pa,"Using user provided OnlineComponentProvider"),await ew(n,n._uninitializedComponentsProvider._online)):(pt(pa,"Using default OnlineComponentProvider"),await ew(n,new N0))),n._onlineComponents}function v3(n){return hR(n).then((t=>t.syncEngine))}async function O0(n){const t=await hR(n),e=t.eventManager;return e.onListen=i3.bind(null,t.syncEngine),e.onUnlisten=a3.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=s3.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=o3.bind(null,t.syncEngine),e}function b3(n,t,e,i){const r=new uR(i),o=new eR(t,r,e);return n.asyncQueue.enqueueAndForget((async()=>J2(await O0(n),o))),()=>{r.Nu(),n.asyncQueue.enqueueAndForget((async()=>tR(await O0(n),o)))}}function x3(n,t,e={}){const i=new ra;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,f,d){const g=new uR({next:v=>{g.Nu(),l.enqueueAndForget((()=>tR(o,_)));const T=v.docs.has(u);!T&&v.fromCache?d.reject(new dt(st.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&v.fromCache&&f&&f.source==="server"?d.reject(new dt(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),_=new eR($m(u.path),g,{includeMetadataChanges:!0,Ka:!0});return J2(o,_)})(await O0(n),n.asyncQueue,t,e,i))),i.promise}function T3(n,t){const e=new ra;return n.asyncQueue.enqueueAndForget((async()=>l3(await v3(n),t,e))),e.promise}function fR(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const E3="ComponentProvider",nw=new Map;function w3(n,t,e,i,r){return new q4(n,t,e,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,fR(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator,i)}const dR="firestore.googleapis.com",iw=!0;class sw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new dt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dR,this.ssl=iw}else this.host=t.host,this.ssl=t.ssl??iw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=B2;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ZL)throw new dt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}N4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fR(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new dt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new dt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new dt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ip{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new E4;switch(i.type){case"firstParty":return new C4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new dt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=nw.get(e);i&&(pt(E3,"Removing Datastore"),nw.delete(e),i.terminate())})(this),Promise.resolve()}}function S3(n,t,e,i={}){n=bs(n,ip);const r=Jl(t),o=n._getSettings(),l={...o,emulatorOptions:n._getEmulatorOptions()},u=`${t}:${e}`;r&&(sC(`https://${u}`),rC("Firestore",!0)),o.host!==dR&&o.host!==u&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:u,ssl:r,emulatorOptions:i};if(!vo(f,l)&&(n._setSettings(f),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=_n.MOCK_USER;else{d=PN(i.mockUserToken,n._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new dt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new _n(_)}n._authCredentials=new w4(new ZC(d,g))}}class Io{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Io(this.firestore,t,this._query)}}class Me{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Eh(e,Me._jsonSchema))return new Me(t,i||null,new Et(de.fromString(e.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Ke("string",Me._jsonSchemaVersion),referencePath:Ke("string")};class aa extends Io{constructor(t,e,i){super(t,e,$m(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new Et(t))}withConverter(t){return new aa(this.firestore,t,this._path)}}function X_(n,t,...e){if(n=Je(n),JC("collection","path",t),n instanceof ip){const i=de.fromString(t,...e);return yE(i),new aa(n,null,i)}{if(!(n instanceof Me||n instanceof aa))throw new dt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(de.fromString(t,...e));return yE(i),new aa(n.firestore,null,i)}}function oh(n,t,...e){if(n=Je(n),arguments.length===1&&(t=A_.newId()),JC("doc","path",t),n instanceof ip){const i=de.fromString(t,...e);return gE(i),new Me(n,null,new Et(i))}{if(!(n instanceof Me||n instanceof aa))throw new dt(st.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(de.fromString(t,...e));return gE(i),new Me(n.firestore,n instanceof aa?n.converter:null,new Et(i))}}const rw="AsyncQueue";class aw{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new G2(this,"async_queue_retry"),this._c=()=>{const i=Iy();i&&pt(rw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Iy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Iy();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new ra;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!rc(t))throw t;pt(rw,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,nr("INTERNAL UNHANDLED ERROR: ",ow(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=G_.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&Rt(47125,{Pc:ow(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function ow(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class So extends ip{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new aw,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new aw(t),this._firestoreClient=void 0,await t}}}function A3(n,t){const e=typeof n=="object"?n:cC(),i=typeof n=="string"?n:fm,r=g_(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=NN("firestore");o&&S3(r,...o)}return r}function Q_(n){if(n._terminated)throw new dt(st.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||C3(n),n._firestoreClient}function C3(n){const t=n._freezeSettings(),e=w3(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new y3(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}class hi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new hi(mn.fromBase64String(t))}catch(e){throw new dt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new hi(mn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:hi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Eh(t,hi._jsonSchema))return hi.fromBase64String(t.bytes)}}hi._jsonSchemaVersion="firestore/bytes/1.0",hi._jsonSchema={type:Ke("string",hi._jsonSchemaVersion),bytes:Ke("string")};class Z_{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new dt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class J_{constructor(t){this._methodName=t}}class Es{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new dt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new dt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qt(this._lat,t._lat)||qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Es._jsonSchemaVersion}}static fromJSON(t){if(Eh(t,Es._jsonSchema))return new Es(t.latitude,t.longitude)}}Es._jsonSchemaVersion="firestore/geoPoint/1.0",Es._jsonSchema={type:Ke("string",Es._jsonSchemaVersion),latitude:Ke("number"),longitude:Ke("number")};class zi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Eh(t,zi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new zi(t.vectorValues);throw new dt(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zi._jsonSchemaVersion="firestore/vectorValue/1.0",zi._jsonSchema={type:Ke("string",zi._jsonSchemaVersion),vectorValues:Ke("object")};const R3=/^__.*__$/;class k3{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new ba(t,this.data,this.fieldMask,e,this.fieldTransforms):new wh(t,this.data,e,this.fieldTransforms)}}class mR{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new ba(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function pR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{dataSource:n})}}class tv{constructor(t,e,i,r,o,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new tv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return xm(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(pR(this.dataSource)&&R3.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class I3{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||tp(t)}createContext(t,e,i,r=!1){return new tv({dataSource:t,methodName:e,targetDoc:i,path:dn.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ev(n){const t=n._freezeSettings(),e=tp(n._databaseId);return new I3(n._databaseId,!!t.ignoreUndefinedProperties,e)}function D3(n,t,e,i,r,o={}){const l=n.createContext(o.merge||o.mergeFields?2:0,t,e,r);nv("Data must be an object, but it was:",l,i);const u=gR(i,l);let f,d;if(o.merge)f=new Xn(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const v=Wl(t,_,e);if(!l.contains(v))throw new dt(st.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);vR(g,v)||g.push(v)}f=new Xn(g),d=l.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,d=l.fieldTransforms;return new k3(new jn(u),f,d)}class sp extends J_{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof sp}}function M3(n,t,e,i){const r=n.createContext(1,t,e);nv("Data must be an object, but it was:",r,i);const o=[],l=jn.empty();va(i,((f,d)=>{const g=_R(t,f,e);d=Je(d);const _=r.childContextForFieldPath(g);if(d instanceof sp)o.push(g);else{const v=Rh(d,_);v!=null&&(o.push(g),l.set(g,v))}}));const u=new Xn(o);return new mR(l,u,r.fieldTransforms)}function N3(n,t,e,i,r,o){const l=n.createContext(1,t,e),u=[Wl(t,i,e)],f=[r];if(o.length%2!=0)throw new dt(st.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)u.push(Wl(t,o[v])),f.push(o[v+1]);const d=[],g=jn.empty();for(let v=u.length-1;v>=0;--v)if(!vR(d,u[v])){const T=u[v];let S=f[v];S=Je(S);const R=l.childContextForFieldPath(T);if(S instanceof sp)d.push(T);else{const k=Rh(S,R);k!=null&&(d.push(T),g.set(T,k))}}const _=new Xn(d);return new mR(g,_,l.fieldTransforms)}function O3(n,t,e,i=!1){return Rh(e,n.createContext(i?4:3,t))}function Rh(n,t){if(yR(n=Je(n)))return nv("Unsupported field value:",t,n),gR(n,t);if(n instanceof J_)return(function(i,r){if(!pR(r.dataSource))throw r.createError(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.createError(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(i,r){const o=[];let l=0;for(const u of i){let f=Rh(u,r.childContextForArray(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=Je(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return gL(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=_e.fromDate(i);return{timestampValue:ym(r.serializer,o)}}if(i instanceof _e){const o=new _e(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ym(r.serializer,o)}}if(i instanceof Es)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof hi)return{bytesValue:N2(r.serializer,i._byteString)};if(i instanceof Me){const o=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw r.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:V_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof zi)return(function(l,u){const f=l instanceof zi?l.toArray():l;return{mapValue:{fields:{[l2]:{stringValue:c2},[dm]:{arrayValue:{values:f.map((g=>{if(typeof g!="number")throw u.createError("VectorValues must only contain numeric values.");return M_(u.serializer,g)}))}}}}}})(i,r);if(U2(i))return i._toProto(r.serializer);throw r.createError(`Unsupported field value: ${qm(i)}`)})(n,t)}function gR(n,t){const e={};return n2(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):va(n,((i,r)=>{const o=Rh(r,t.childContextForField(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function yR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _e||n instanceof Es||n instanceof hi||n instanceof Me||n instanceof J_||n instanceof zi||U2(n))}function nv(n,t,e){if(!yR(e)||!t2(e)){const i=qm(e);throw i==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+i)}}function Wl(n,t,e){if((t=Je(t))instanceof Z_)return t._internalPath;if(typeof t=="string")return _R(n,t);throw xm("Field path arguments must be of type string or ",n,!1,void 0,e)}const P3=new RegExp("[~\\*/\\[\\]]");function _R(n,t,e){if(t.search(P3)>=0)throw xm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Z_(...t.split("."))._internalPath}catch{throw xm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function xm(n,t,e,i,r){const o=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${i}`),l&&(f+=` in document ${r}`),f+=")"),new dt(st.INVALID_ARGUMENT,u+n+f)}function vR(n,t){return n.some((e=>e.isEqual(t)))}class V3{convertValue(t,e="none"){switch(da(t)){case 0:return null;case 1:return t.booleanValue;case 2:return De(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(fa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Rt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return va(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[dm].arrayValue?.values?.map((i=>De(i.doubleValue)));return new zi(e)}convertGeoPoint(t){return new Es(De(t.latitude),De(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Ym(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(eh(t));default:return null}}convertTimestamp(t){const e=ha(t);return new _e(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=de.fromString(t);te(j2(i),9688,{name:t});const r=new nh(i.get(1),i.get(3)),o=new Et(i.popFirst(5));return r.isEqual(e)||nr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}class bR extends V3{constructor(t){super(),this.firestore=t}convertBytes(t){return new hi(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,e)}}const lw="@firebase/firestore",cw="4.11.0";function uw(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1})(n,["next","error","complete"])}class xR{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new L3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(Wl("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class L3 extends xR{data(){return super.data()}}function z3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new dt(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iv{}class TR extends iv{}function ER(n,t,...e){let i=[];t instanceof iv&&i.push(t),i=i.concat(e),(function(o){const l=o.filter((f=>f instanceof rv)).length,u=o.filter((f=>f instanceof sv)).length;if(l>1||l>0&&u>0)throw new dt(st.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class sv extends TR{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new sv(t,e,i)}_apply(t){const e=this._parse(t);return SR(t._query,e),new Io(t.firestore,t.converter,E0(t._query,e))}_parse(t){const e=ev(t.firestore);return(function(o,l,u,f,d,g,_){let v;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new dt(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){fw(_,g);const S=[];for(const R of _)S.push(hw(f,o,R));v={arrayValue:{values:S}}}else v=hw(f,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||fw(_,g),v=O3(u,l,_,g==="in"||g==="not-in");return Ge.create(d,g,v)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class rv extends iv{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new rv(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:Fi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(r,o){let l=r;const u=o.getFlattenedFilters();for(const f of u)SR(l,f),l=E0(l,f)})(t._query,e),new Io(t.firestore,t.converter,E0(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class av extends TR{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new av(t,e)}_apply(t){const e=(function(r,o,l){if(r.startAt!==null)throw new dt(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new dt(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sh(o,l)})(t._query,this._field,this._direction);return new Io(t.firestore,t.converter,lL(t._query,e))}}function wR(n,t="asc"){const e=t,i=Wl("orderBy",n);return av._create(i,e)}function hw(n,t,e){if(typeof(e=Je(e))=="string"){if(e==="")throw new dt(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y2(t)&&e.indexOf("/")!==-1)throw new dt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(de.fromString(e));if(!Et.isDocumentKey(i))throw new dt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return SE(n,new Et(i))}if(e instanceof Me)return SE(n,e._key);throw new dt(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qm(e)}.`)}function fw(n,t){if(!Array.isArray(n)||n.length===0)throw new dt(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function SR(n,t){const e=(function(r,o){for(const l of r)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new dt(st.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new dt(st.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function j3(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class Nu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class po extends xR{constructor(t,e,i,r,o,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Wl("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=po._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}po._jsonSchemaVersion="firestore/documentSnapshot/1.0",po._jsonSchema={type:Ke("string",po._jsonSchemaVersion),bundleSource:Ke("string","DocumentSnapshot"),bundleName:Ke("string"),bundle:Ke("string")};class Gd extends po{data(t={}){return super.data(t)}}class zl{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Nu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new Gd(this._firestore,this._userDataWriter,i.key,i,new Nu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new dt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map((u=>{const f=new Gd(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Nu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const f=new Gd(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Nu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,g=-1;return u.type!==0&&(d=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:U3(u.type),doc:f,oldIndex:d,newIndex:g}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=zl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=A_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function U3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:n})}}zl._jsonSchemaVersion="firestore/querySnapshot/1.0",zl._jsonSchema={type:Ke("string",zl._jsonSchemaVersion),bundleSource:Ke("string","QuerySnapshot"),bundleName:Ke("string"),bundle:Ke("string")};function B3(n){n=bs(n,Me);const t=bs(n.firestore,So),e=Q_(t);return x3(e,n._key).then((i=>RR(t,n,i)))}function AR(n,t,e,...i){n=bs(n,Me);const r=bs(n.firestore,So),o=ev(r);let l;return l=typeof(t=Je(t))=="string"||t instanceof Z_?N3(o,"updateDoc",n._key,t,e,i):M3(o,"updateDoc",n._key,t),ov(r,[l.toMutation(n._key,Li.exists(!0))])}function F3(n){return ov(bs(n.firestore,So),[new N_(n._key,Li.none())])}function H3(n,t){const e=bs(n.firestore,So),i=oh(n),r=j3(n.converter,t),o=ev(n.firestore);return ov(e,[D3(o,"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Li.exists(!1))]).then((()=>i))}function CR(n,...t){n=Je(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||uw(t[i])||(e=t[i++]);const r={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(uw(t[i])){const d=t[i];t[i]=d.next?.bind(d),t[i+1]=d.error?.bind(d),t[i+2]=d.complete?.bind(d)}let o,l,u;if(n instanceof Me)l=bs(n.firestore,So),u=$m(n._key.path),o={next:d=>{t[i]&&t[i](RR(l,n,d))},error:t[i+1],complete:t[i+2]};else{const d=bs(n,Io);l=bs(d.firestore,So),u=d._query;const g=new bR(l);o={next:_=>{t[i]&&t[i](new zl(l,g,d,_))},error:t[i+1],complete:t[i+2]},z3(n._query)}const f=Q_(l);return b3(f,u,r,o)}function ov(n,t){const e=Q_(n);return T3(e,t)}function RR(n,t,e){const i=e.docs.get(t._key),r=new bR(n);return new po(n,r,t._key,i,new Nu(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){T4(tc),Fl(new bo("firestore",((i,{instanceIdentifier:r,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new So(new S4(i.getProvider("auth-internal")),new R4(l,i.getProvider("app-check-internal")),G4(l,r),l);return o={useFetchStreams:e,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),na(lw,cw,t),na(lw,cw,"esm2020")})();var q3="firebase",G3="12.9.0";na(q3,G3,"app");const K3={apiKey:"AIzaSyBXKN57HUdC9NxkiJaR3EZu8eDp-EBGIiM",authDomain:"smart-stock-ece91.firebaseapp.com",projectId:"smart-stock-ece91",storageBucket:"smart-stock-ece91.firebasestorage.app",messagingSenderId:"123846999953",appId:"1:123846999953:web:79feeba6b19af4d0d6a430"},kR=lC(K3),go=A3(kR),lv=b4(kR),IR=Z.createContext({user:null,role:null,loading:!0}),Y3=({children:n})=>{const[t,e]=Z.useState(null),[i,r]=Z.useState(null),[o,l]=Z.useState(!0);return Z.useEffect(()=>{const u=lV(lv,async f=>{try{if(e(f),f){const d=await B3(oh(go,"users",f.uid));d.exists()?r(d.data().role||"user"):r("user")}else r(null)}catch(d){console.error("Auth error fetching role:",d),r("user")}finally{l(!1)}});return()=>u()},[]),C.jsx(IR.Provider,{value:{user:t,role:i,loading:o},children:n})},DR=()=>Z.useContext(IR);let $3={data:""},W3=n=>{if(typeof window=="object"){let t=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(n||document.head).appendChild(t),t.firstChild}return n||$3},X3=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Q3=/\/\*[^]*?\*\/|  +/g,dw=/\n+/g,$r=(n,t)=>{let e="",i="",r="";for(let o in n){let l=n[o];o[0]=="@"?o[1]=="i"?e=o+" "+l+";":i+=o[1]=="f"?$r(l,o):o+"{"+$r(l,o[1]=="k"?"":t)+"}":typeof l=="object"?i+=$r(l,t?t.replace(/([^,])+/g,u=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,u):u?u+" "+f:f)):o):l!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=$r.p?$r.p(o,l):o+":"+l+";")}return e+(t&&r?t+"{"+r+"}":r)+i},Ks={},MR=n=>{if(typeof n=="object"){let t="";for(let e in n)t+=e+MR(n[e]);return t}return n},Z3=(n,t,e,i,r)=>{let o=MR(n),l=Ks[o]||(Ks[o]=(f=>{let d=0,g=11;for(;d<f.length;)g=101*g+f.charCodeAt(d++)>>>0;return"go"+g})(o));if(!Ks[l]){let f=o!==n?n:(d=>{let g,_,v=[{}];for(;g=X3.exec(d.replace(Q3,""));)g[4]?v.shift():g[3]?(_=g[3].replace(dw," ").trim(),v.unshift(v[0][_]=v[0][_]||{})):v[0][g[1]]=g[2].replace(dw," ").trim();return v[0]})(n);Ks[l]=$r(r?{["@keyframes "+l]:f}:f,e?"":"."+l)}let u=e&&Ks.g?Ks.g:null;return e&&(Ks.g=Ks[l]),((f,d,g,_)=>{_?d.data=d.data.replace(_,f):d.data.indexOf(f)===-1&&(d.data=g?f+d.data:d.data+f)})(Ks[l],t,i,u),l},J3=(n,t,e)=>n.reduce((i,r,o)=>{let l=t[o];if(l&&l.call){let u=l(e),f=u&&u.props&&u.props.className||/^go/.test(u)&&u;l=f?"."+f:u&&typeof u=="object"?u.props?"":$r(u,""):u===!1?"":u}return i+r+(l??"")},"");function rp(n){let t=this||{},e=n.call?n(t.p):n;return Z3(e.unshift?e.raw?J3(e,[].slice.call(arguments,1),t.p):e.reduce((i,r)=>Object.assign(i,r&&r.call?r(t.p):r),{}):e,W3(t.target),t.g,t.o,t.k)}let NR,P0,V0;rp.bind({g:1});let sr=rp.bind({k:1});function t6(n,t,e,i){$r.p=t,NR=n,P0=e,V0=i}function xa(n,t){let e=this||{};return function(){let i=arguments;function r(o,l){let u=Object.assign({},o),f=u.className||r.className;e.p=Object.assign({theme:P0&&P0()},u),e.o=/ *go\d+/.test(f),u.className=rp.apply(e,i)+(f?" "+f:"");let d=n;return n[0]&&(d=u.as||n,delete u.as),V0&&d[0]&&V0(u),NR(d,u)}return r}}var e6=n=>typeof n=="function",Tm=(n,t)=>e6(n)?n(t):n,n6=(()=>{let n=0;return()=>(++n).toString()})(),OR=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),i6=20,cv="default",PR=(n,t)=>{let{toastLimit:e}=n.settings;switch(t.type){case 0:return{...n,toasts:[t.toast,...n.toasts].slice(0,e)};case 1:return{...n,toasts:n.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:i}=t;return PR(n,{type:n.toasts.find(l=>l.id===i.id)?1:0,toast:i});case 3:let{toastId:r}=t;return{...n,toasts:n.toasts.map(l=>l.id===r||r===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...n,pausedAt:t.time};case 6:let o=t.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+o}))}}},Kd=[],VR={toasts:[],pausedAt:void 0,settings:{toastLimit:i6}},ys={},LR=(n,t=cv)=>{ys[t]=PR(ys[t]||VR,n),Kd.forEach(([e,i])=>{e===t&&i(ys[t])})},zR=n=>Object.keys(ys).forEach(t=>LR(n,t)),s6=n=>Object.keys(ys).find(t=>ys[t].toasts.some(e=>e.id===n)),ap=(n=cv)=>t=>{LR(t,n)},r6={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},a6=(n={},t=cv)=>{let[e,i]=Z.useState(ys[t]||VR),r=Z.useRef(ys[t]);Z.useEffect(()=>(r.current!==ys[t]&&i(ys[t]),Kd.push([t,i]),()=>{let l=Kd.findIndex(([u])=>u===t);l>-1&&Kd.splice(l,1)}),[t]);let o=e.toasts.map(l=>{var u,f,d;return{...n,...n[l.type],...l,removeDelay:l.removeDelay||((u=n[l.type])==null?void 0:u.removeDelay)||n?.removeDelay,duration:l.duration||((f=n[l.type])==null?void 0:f.duration)||n?.duration||r6[l.type],style:{...n.style,...(d=n[l.type])==null?void 0:d.style,...l.style}}});return{...e,toasts:o}},o6=(n,t="blank",e)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:e?.id||n6()}),kh=n=>(t,e)=>{let i=o6(t,n,e);return ap(i.toasterId||s6(i.id))({type:2,toast:i}),i.id},he=(n,t)=>kh("blank")(n,t);he.error=kh("error");he.success=kh("success");he.loading=kh("loading");he.custom=kh("custom");he.dismiss=(n,t)=>{let e={type:3,toastId:n};t?ap(t)(e):zR(e)};he.dismissAll=n=>he.dismiss(void 0,n);he.remove=(n,t)=>{let e={type:4,toastId:n};t?ap(t)(e):zR(e)};he.removeAll=n=>he.remove(void 0,n);he.promise=(n,t,e)=>{let i=he.loading(t.loading,{...e,...e?.loading});return typeof n=="function"&&(n=n()),n.then(r=>{let o=t.success?Tm(t.success,r):void 0;return o?he.success(o,{id:i,...e,...e?.success}):he.dismiss(i),r}).catch(r=>{let o=t.error?Tm(t.error,r):void 0;o?he.error(o,{id:i,...e,...e?.error}):he.dismiss(i)}),n};var l6=1e3,c6=(n,t="default")=>{let{toasts:e,pausedAt:i}=a6(n,t),r=Z.useRef(new Map).current,o=Z.useCallback((_,v=l6)=>{if(r.has(_))return;let T=setTimeout(()=>{r.delete(_),l({type:4,toastId:_})},v);r.set(_,T)},[]);Z.useEffect(()=>{if(i)return;let _=Date.now(),v=e.map(T=>{if(T.duration===1/0)return;let S=(T.duration||0)+T.pauseDuration-(_-T.createdAt);if(S<0){T.visible&&he.dismiss(T.id);return}return setTimeout(()=>he.dismiss(T.id,t),S)});return()=>{v.forEach(T=>T&&clearTimeout(T))}},[e,i,t]);let l=Z.useCallback(ap(t),[t]),u=Z.useCallback(()=>{l({type:5,time:Date.now()})},[l]),f=Z.useCallback((_,v)=>{l({type:1,toast:{id:_,height:v}})},[l]),d=Z.useCallback(()=>{i&&l({type:6,time:Date.now()})},[i,l]),g=Z.useCallback((_,v)=>{let{reverseOrder:T=!1,gutter:S=8,defaultPosition:R}=v||{},k=e.filter(F=>(F.position||R)===(_.position||R)&&F.height),P=k.findIndex(F=>F.id===_.id),B=k.filter((F,Q)=>Q<P&&F.visible).length;return k.filter(F=>F.visible).slice(...T?[B+1]:[0,B]).reduce((F,Q)=>F+(Q.height||0)+S,0)},[e]);return Z.useEffect(()=>{e.forEach(_=>{if(_.dismissed)o(_.id,_.removeDelay);else{let v=r.get(_.id);v&&(clearTimeout(v),r.delete(_.id))}})},[e,o]),{toasts:e,handlers:{updateHeight:f,startPause:u,endPause:d,calculateOffset:g}}},u6=sr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,h6=sr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,f6=sr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,d6=xa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${u6} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${h6} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${f6} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,m6=sr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,p6=xa("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${m6} 1s linear infinite;
`,g6=sr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,y6=sr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,_6=xa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${g6} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${y6} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,v6=xa("div")`
  position: absolute;
`,b6=xa("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,x6=sr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,T6=xa("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${x6} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,E6=({toast:n})=>{let{icon:t,type:e,iconTheme:i}=n;return t!==void 0?typeof t=="string"?Z.createElement(T6,null,t):t:e==="blank"?null:Z.createElement(b6,null,Z.createElement(p6,{...i}),e!=="loading"&&Z.createElement(v6,null,e==="error"?Z.createElement(d6,{...i}):Z.createElement(_6,{...i})))},w6=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,S6=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,A6="0%{opacity:0;} 100%{opacity:1;}",C6="0%{opacity:1;} 100%{opacity:0;}",R6=xa("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,k6=xa("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,I6=(n,t)=>{let e=n.includes("top")?1:-1,[i,r]=OR()?[A6,C6]:[w6(e),S6(e)];return{animation:t?`${sr(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${sr(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},D6=Z.memo(({toast:n,position:t,style:e,children:i})=>{let r=n.height?I6(n.position||t||"top-center",n.visible):{opacity:0},o=Z.createElement(E6,{toast:n}),l=Z.createElement(k6,{...n.ariaProps},Tm(n.message,n));return Z.createElement(R6,{className:n.className,style:{...r,...e,...n.style}},typeof i=="function"?i({icon:o,message:l}):Z.createElement(Z.Fragment,null,o,l))});t6(Z.createElement);var M6=({id:n,className:t,style:e,onHeightUpdate:i,children:r})=>{let o=Z.useCallback(l=>{if(l){let u=()=>{let f=l.getBoundingClientRect().height;i(n,f)};u(),new MutationObserver(u).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[n,i]);return Z.createElement("div",{ref:o,className:t,style:e},r)},N6=(n,t)=>{let e=n.includes("top"),i=e?{top:0}:{bottom:0},r=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:OR()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(e?1:-1)}px)`,...i,...r}},O6=rp`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,yd=16,P6=({reverseOrder:n,position:t="top-center",toastOptions:e,gutter:i,children:r,toasterId:o,containerStyle:l,containerClassName:u})=>{let{toasts:f,handlers:d}=c6(e,o);return Z.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:yd,left:yd,right:yd,bottom:yd,pointerEvents:"none",...l},className:u,onMouseEnter:d.startPause,onMouseLeave:d.endPause},f.map(g=>{let _=g.position||t,v=d.calculateOffset(g,{reverseOrder:n,gutter:i,defaultPosition:t}),T=N6(_,v);return Z.createElement(M6,{id:g.id,key:g.id,onHeightUpdate:d.updateHeight,className:g.visible?O6:"",style:T},g.type==="custom"?Tm(g.message,g):r?r(g):Z.createElement(D6,{toast:g,position:_}))}))};const jR=Z.createContext(void 0),V6=({children:n})=>{const[t,e]=Z.useState([]),i=d=>{if((d.count??0)<=0){he.error("Bu rn tkendi!",{style:{borderRadius:"1rem",background:"#ef4444",color:"#fff",fontWeight:"bold"}});return}e(g=>{const _=g.find(v=>v.id===d.id);return _?_.quantity>=(d.count??0)?(he.error("Stokta daha fazla rn yok!",{style:{borderRadius:"1rem",background:"#f59e0b",color:"#fff",fontWeight:"bold"}}),g):(he.success(`${d.name} says artrld!`,{style:{borderRadius:"1rem",background:"#1e293b",color:"#fff",fontWeight:"bold"}}),g.map(v=>v.id===d.id?{...v,quantity:v.quantity+1}:v)):(he.success(`${d.name} sepete eklendi!`,{style:{borderRadius:"1rem",background:"#1e293b",color:"#fff",fontWeight:"bold"}}),[...g,{...d,quantity:1}])})},r=d=>{e(g=>g.filter(_=>_.id!==d))},o=(d,g)=>{const _=t.find(v=>v.id===d);if(_){if(g<=0){r(d);return}if(g>(_.count??0)){he.error("Stok miktarn aamazsnz!",{style:{borderRadius:"1rem",background:"#f59e0b",color:"#fff",fontWeight:"bold"}});return}e(v=>v.map(T=>T.id===d?{...T,quantity:g}:T))}},l=()=>e([]),u=t.reduce((d,g)=>d+(g.price??0)*g.quantity,0),f=t.reduce((d,g)=>d+g.quantity,0);return C.jsx(jR.Provider,{value:{items:t,addToCart:i,removeFromCart:r,updateQuantity:o,clearCart:l,total:u,count:f},children:n})},uv=()=>{const n=Z.useContext(jR);if(!n)throw new Error("useCart must be used within a CartProvider");return n};const UR=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim();const L6=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const z6=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase());const mw=n=>{const t=z6(n);return t.charAt(0).toUpperCase()+t.slice(1)};var j6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const U6=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const B6=Z.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:r="",children:o,iconNode:l,...u},f)=>Z.createElement("svg",{ref:f,...j6,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:UR("lucide",r),...!o&&!U6(u)&&{"aria-hidden":"true"},...u},[...l.map(([d,g])=>Z.createElement(d,g)),...Array.isArray(o)?o:[o]]));const re=(n,t)=>{const e=Z.forwardRef(({className:i,...r},o)=>Z.createElement(B6,{ref:o,iconNode:t,className:UR(`lucide-${L6(mw(n))}`,`lucide-${n}`,i),...r}));return e.displayName=mw(n),e};const F6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],H6=re("arrow-left",F6);const q6=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],G6=re("award",q6);const K6=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Y6=re("book-open",K6);const $6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],pw=re("clock",$6);const W6=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],op=re("coffee",W6);const X6=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Q6=re("dollar-sign",X6);const Z6=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],J6=re("download",Z6);const tz=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ez=re("eye-off",tz);const nz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iz=re("eye",nz);const sz=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],rz=re("flame",sz);const az=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],oz=re("globe",az);const lz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],cz=re("image",lz);const uz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],hz=re("info",uz);const fz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],dz=re("layout-dashboard",fz);const mz=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],pz=re("log-in",mz);const gz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],yz=re("log-out",gz);const _z=[["path",{d:"M5 12h14",key:"1ays0h"}]],vz=re("minus",_z);const bz=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],BR=re("package",bz);const xz=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Tz=re("pen",xz);const Ez=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],FR=re("plus",Ez);const wz=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Sz=re("save",wz);const Az=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Cz=re("search",Az);const Rz=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],hv=re("shopping-bag",Rz);const kz=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],fv=re("shopping-cart",kz);const Iz=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Dz=re("tag",Iz);const Mz=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],HR=re("trash-2",Mz);const Nz=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],gw=re("triangle-alert",Nz);const Oz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],qR=re("user",Oz);const Pz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],GR=re("x",Pz),Vz=({isOpen:n,onClose:t})=>{const{items:e,updateQuantity:i,removeFromCart:r,total:o}=uv();return C.jsxs(C.Fragment,{children:[C.jsx("div",{className:`fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-[100] transition-opacity duration-300 ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:t}),C.jsx("div",{className:`fixed top-0 right-0 h-full w-full max-w-md bg-white shadow-2xl z-[101] flex flex-col transition-transform duration-500 transform ${n?"translate-x-0":"translate-x-full"}`,children:C.jsxs("div",{className:"h-full flex flex-col bg-crema",children:[C.jsxs("div",{className:"p-8 border-b border-espresso-100 flex justify-between items-center bg-white shadow-sm",children:[C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-black text-espresso-900 italic tracking-tighter",children:"Sipariiniz"}),C.jsx("p",{className:"text-[10px] font-black text-espresso-400 uppercase tracking-widest",children:"zel Sekiler"})]}),C.jsx("button",{onClick:t,className:"p-3 hover:bg-espresso-50 rounded-2xl transition-colors text-espresso-400",children:C.jsx(GR,{size:24})})]}),C.jsx("div",{className:"flex-1 overflow-y-auto p-8 space-y-6",children:e.length===0?C.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-espresso-300 space-y-4",children:[C.jsx("div",{className:"p-8 bg-espresso-50 rounded-[2.5rem]",children:C.jsx(fv,{size:48,className:"opacity-20"})}),C.jsx("p",{className:"font-bold uppercase tracking-widest text-[11px]",children:"Sepetiniz henz bo"})]}):e.map(l=>C.jsxs("div",{className:"flex gap-4 p-5 bg-white rounded-3xl border border-espresso-50 shadow-sm hover:shadow-md transition-shadow",children:[C.jsx("img",{src:l.imageUrl,className:"w-20 h-20 object-cover rounded-2xl bg-crema",alt:""}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsx("h4",{className:"font-black text-espresso-900 truncate tracking-tight",children:l.name}),C.jsxs("p",{className:"text-caramel font-black text-sm mt-1",children:["",l.price]}),C.jsxs("div",{className:"flex items-center space-x-4 mt-3",children:[C.jsxs("div",{className:"flex items-center bg-espresso-50 rounded-xl border border-espresso-100 p-1",children:[C.jsx("button",{onClick:()=>i(l.id,l.quantity-1),className:"p-1 hover:bg-white rounded-lg transition-colors text-espresso-600",children:C.jsx(vz,{size:14})}),C.jsx("span",{className:"w-8 text-center text-xs font-black text-espresso-900",children:l.quantity}),C.jsx("button",{onClick:()=>i(l.id,l.quantity+1),className:"p-1 hover:bg-white rounded-lg transition-colors text-espresso-600",children:C.jsx(FR,{size:14})})]}),C.jsx("button",{onClick:()=>r(l.id),className:"text-red-400 hover:text-red-600 p-2",children:C.jsx(HR,{size:16})})]})]})]},l.id))}),e.length>0&&C.jsxs("div",{className:"p-8 border-t border-espresso-100 bg-white space-y-6",children:[C.jsxs("div",{className:"flex justify-between items-center px-2",children:[C.jsx("span",{className:"text-espresso-400 font-black uppercase tracking-widest text-xs",children:"Toplam Tutar"}),C.jsxs("span",{className:"text-3xl font-black text-espresso-900 tracking-tighter",children:["",o]})]}),C.jsx("button",{className:"w-full bg-espresso-800 text-crema py-6 rounded-[2rem] font-black uppercase tracking-[0.2em] text-xs hover:bg-caramel transition-all duration-500 shadow-xl shadow-espresso-900/10 active:scale-[0.98]",children:"Siparii Onayla"})]})]})})]})};function KR(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(t=0;t<r;t++)n[t]&&(e=KR(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function YR(){for(var n,t,e=0,i="",r=arguments.length;e<r;e++)(n=arguments[e])&&(t=KR(n))&&(i&&(i+=" "),i+=t);return i}const Lz=(n,t)=>{const e=new Array(n.length+t.length);for(let i=0;i<n.length;i++)e[i]=n[i];for(let i=0;i<t.length;i++)e[n.length+i]=t[i];return e},zz=(n,t)=>({classGroupId:n,validator:t}),$R=(n=new Map,t=null,e)=>({nextPart:n,validators:t,classGroupId:e}),Em="-",yw=[],jz="arbitrary..",Uz=n=>{const t=Fz(n),{conflictingClassGroups:e,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return Bz(l);const u=l.split(Em),f=u[0]===""&&u.length>1?1:0;return WR(u,f,t)},getConflictingClassGroupIds:(l,u)=>{if(u){const f=i[l],d=e[l];return f?d?Lz(d,f):f:d||yw}return e[l]||yw}}},WR=(n,t,e)=>{if(n.length-t===0)return e.classGroupId;const r=n[t],o=e.nextPart.get(r);if(o){const d=WR(n,t+1,o);if(d)return d}const l=e.validators;if(l===null)return;const u=t===0?n.join(Em):n.slice(t).join(Em),f=l.length;for(let d=0;d<f;d++){const g=l[d];if(g.validator(u))return g.classGroupId}},Bz=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=n.slice(1,-1),e=t.indexOf(":"),i=t.slice(0,e);return i?jz+i:void 0})(),Fz=n=>{const{theme:t,classGroups:e}=n;return Hz(e,t)},Hz=(n,t)=>{const e=$R();for(const i in n){const r=n[i];dv(r,e,i,t)}return e},dv=(n,t,e,i)=>{const r=n.length;for(let o=0;o<r;o++){const l=n[o];qz(l,t,e,i)}},qz=(n,t,e,i)=>{if(typeof n=="string"){Gz(n,t,e);return}if(typeof n=="function"){Kz(n,t,e,i);return}Yz(n,t,e,i)},Gz=(n,t,e)=>{const i=n===""?t:XR(t,n);i.classGroupId=e},Kz=(n,t,e,i)=>{if($z(n)){dv(n(i),t,e,i);return}t.validators===null&&(t.validators=[]),t.validators.push(zz(e,n))},Yz=(n,t,e,i)=>{const r=Object.entries(n),o=r.length;for(let l=0;l<o;l++){const[u,f]=r[l];dv(f,XR(t,u),e,i)}},XR=(n,t)=>{let e=n;const i=t.split(Em),r=i.length;for(let o=0;o<r;o++){const l=i[o];let u=e.nextPart.get(l);u||(u=$R(),e.nextPart.set(l,u)),e=u}return e},$z=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,Wz=n=>{if(n<1)return{get:()=>{},set:()=>{}};let t=0,e=Object.create(null),i=Object.create(null);const r=(o,l)=>{e[o]=l,t++,t>n&&(t=0,i=e,e=Object.create(null))};return{get(o){let l=e[o];if(l!==void 0)return l;if((l=i[o])!==void 0)return r(o,l),l},set(o,l){o in e?e[o]=l:r(o,l)}}},L0="!",_w=":",Xz=[],vw=(n,t,e,i,r)=>({modifiers:n,hasImportantModifier:t,baseClassName:e,maybePostfixModifierPosition:i,isExternal:r}),Qz=n=>{const{prefix:t,experimentalParseClassName:e}=n;let i=r=>{const o=[];let l=0,u=0,f=0,d;const g=r.length;for(let R=0;R<g;R++){const k=r[R];if(l===0&&u===0){if(k===_w){o.push(r.slice(f,R)),f=R+1;continue}if(k==="/"){d=R;continue}}k==="["?l++:k==="]"?l--:k==="("?u++:k===")"&&u--}const _=o.length===0?r:r.slice(f);let v=_,T=!1;_.endsWith(L0)?(v=_.slice(0,-1),T=!0):_.startsWith(L0)&&(v=_.slice(1),T=!0);const S=d&&d>f?d-f:void 0;return vw(o,T,v,S)};if(t){const r=t+_w,o=i;i=l=>l.startsWith(r)?o(l.slice(r.length)):vw(Xz,!1,l,void 0,!0)}if(e){const r=i;i=o=>e({className:o,parseClassName:r})}return i},Zz=n=>{const t=new Map;return n.orderSensitiveModifiers.forEach((e,i)=>{t.set(e,1e6+i)}),e=>{const i=[];let r=[];for(let o=0;o<e.length;o++){const l=e[o],u=l[0]==="[",f=t.has(l);u||f?(r.length>0&&(r.sort(),i.push(...r),r=[]),i.push(l)):r.push(l)}return r.length>0&&(r.sort(),i.push(...r)),i}},Jz=n=>({cache:Wz(n.cacheSize),parseClassName:Qz(n),sortModifiers:Zz(n),...Uz(n)}),tj=/\s+/,ej=(n,t)=>{const{parseClassName:e,getClassGroupId:i,getConflictingClassGroupIds:r,sortModifiers:o}=t,l=[],u=n.trim().split(tj);let f="";for(let d=u.length-1;d>=0;d-=1){const g=u[d],{isExternal:_,modifiers:v,hasImportantModifier:T,baseClassName:S,maybePostfixModifierPosition:R}=e(g);if(_){f=g+(f.length>0?" "+f:f);continue}let k=!!R,P=i(k?S.substring(0,R):S);if(!P){if(!k){f=g+(f.length>0?" "+f:f);continue}if(P=i(S),!P){f=g+(f.length>0?" "+f:f);continue}k=!1}const B=v.length===0?"":v.length===1?v[0]:o(v).join(":"),F=T?B+L0:B,Q=F+P;if(l.indexOf(Q)>-1)continue;l.push(Q);const W=r(P,k);for(let it=0;it<W.length;++it){const M=W[it];l.push(F+M)}f=g+(f.length>0?" "+f:f)}return f},nj=(...n)=>{let t=0,e,i,r="";for(;t<n.length;)(e=n[t++])&&(i=QR(e))&&(r&&(r+=" "),r+=i);return r},QR=n=>{if(typeof n=="string")return n;let t,e="";for(let i=0;i<n.length;i++)n[i]&&(t=QR(n[i]))&&(e&&(e+=" "),e+=t);return e},ij=(n,...t)=>{let e,i,r,o;const l=f=>{const d=t.reduce((g,_)=>_(g),n());return e=Jz(d),i=e.cache.get,r=e.cache.set,o=u,u(f)},u=f=>{const d=i(f);if(d)return d;const g=ej(f,e);return r(f,g),g};return o=l,(...f)=>o(nj(...f))},sj=[],We=n=>{const t=e=>e[n]||sj;return t.isThemeGetter=!0,t},ZR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,JR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,rj=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,aj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,cj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Br=n=>rj.test(n),zt=n=>!!n&&!Number.isNaN(Number(n)),Fr=n=>!!n&&Number.isInteger(Number(n)),My=n=>n.endsWith("%")&&zt(n.slice(0,-1)),Ys=n=>aj.test(n),tk=()=>!0,hj=n=>oj.test(n)&&!lj.test(n),mv=()=>!1,fj=n=>cj.test(n),dj=n=>uj.test(n),mj=n=>!_t(n)&&!bt(n),pj=n=>Ta(n,ik,mv),_t=n=>ZR.test(n),to=n=>Ta(n,sk,hj),bw=n=>Ta(n,Ej,zt),gj=n=>Ta(n,ak,tk),yj=n=>Ta(n,rk,mv),xw=n=>Ta(n,ek,mv),_j=n=>Ta(n,nk,dj),_d=n=>Ta(n,ok,fj),bt=n=>JR.test(n),xu=n=>Do(n,sk),vj=n=>Do(n,rk),Tw=n=>Do(n,ek),bj=n=>Do(n,ik),xj=n=>Do(n,nk),vd=n=>Do(n,ok,!0),Tj=n=>Do(n,ak,!0),Ta=(n,t,e)=>{const i=ZR.exec(n);return i?i[1]?t(i[1]):e(i[2]):!1},Do=(n,t,e=!1)=>{const i=JR.exec(n);return i?i[1]?t(i[1]):e:!1},ek=n=>n==="position"||n==="percentage",nk=n=>n==="image"||n==="url",ik=n=>n==="length"||n==="size"||n==="bg-size",sk=n=>n==="length",Ej=n=>n==="number",rk=n=>n==="family-name",ak=n=>n==="number"||n==="weight",ok=n=>n==="shadow",wj=()=>{const n=We("color"),t=We("font"),e=We("text"),i=We("font-weight"),r=We("tracking"),o=We("leading"),l=We("breakpoint"),u=We("container"),f=We("spacing"),d=We("radius"),g=We("shadow"),_=We("inset-shadow"),v=We("text-shadow"),T=We("drop-shadow"),S=We("blur"),R=We("perspective"),k=We("aspect"),P=We("ease"),B=We("animate"),F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],W=()=>[...Q(),bt,_t],it=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],w=()=>[bt,_t,f],D=()=>[Br,"full","auto",...w()],V=()=>[Fr,"none","subgrid",bt,_t],O=()=>["auto",{span:["full",Fr,bt,_t]},Fr,bt,_t],z=()=>[Fr,"auto",bt,_t],N=()=>["auto","min","max","fr",bt,_t],Nt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],wt=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...w()],rt=()=>[Br,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...w()],ft=()=>[Br,"screen","full","dvw","lvw","svw","min","max","fit",...w()],At=()=>[Br,"screen","full","lh","dvh","lvh","svh","min","max","fit",...w()],lt=()=>[n,bt,_t],j=()=>[...Q(),Tw,xw,{position:[bt,_t]}],et=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ct=()=>["auto","cover","contain",bj,pj,{size:[bt,_t]}],ht=()=>[My,xu,to],mt=()=>["","none","full",d,bt,_t],gt=()=>["",zt,xu,to],Lt=()=>["solid","dashed","dotted","double"],Ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Mt=()=>[zt,My,Tw,xw],Hi=()=>["","none",S,bt,_t],yi=()=>["none",zt,bt,_t],_i=()=>["none",zt,bt,_t],qi=()=>[zt,bt,_t],wn=()=>[Br,"full",...w()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ys],breakpoint:[Ys],color:[tk],container:[Ys],"drop-shadow":[Ys],ease:["in","out","in-out"],font:[mj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ys],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ys],shadow:[Ys],spacing:["px",zt],text:[Ys],"text-shadow":[Ys],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Br,_t,bt,k]}],container:["container"],columns:[{columns:[zt,_t,bt,u]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:W()}],overflow:[{overflow:it()}],"overflow-x":[{"overflow-x":it()}],"overflow-y":[{"overflow-y":it()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{"inset-s":D(),start:D()}],end:[{"inset-e":D(),end:D()}],"inset-bs":[{"inset-bs":D()}],"inset-be":[{"inset-be":D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[Fr,"auto",bt,_t]}],basis:[{basis:[Br,"full","auto",u,...w()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[zt,Br,"auto","initial","none",_t]}],grow:[{grow:["",zt,bt,_t]}],shrink:[{shrink:["",zt,bt,_t]}],order:[{order:[Fr,"first","last","none",bt,_t]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:w()}],"gap-x":[{"gap-x":w()}],"gap-y":[{"gap-y":w()}],"justify-content":[{justify:[...Nt(),"normal"]}],"justify-items":[{"justify-items":[...wt(),"normal"]}],"justify-self":[{"justify-self":["auto",...wt()]}],"align-content":[{content:["normal",...Nt()]}],"align-items":[{items:[...wt(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...wt(),{baseline:["","last"]}]}],"place-content":[{"place-content":Nt()}],"place-items":[{"place-items":[...wt(),"baseline"]}],"place-self":[{"place-self":["auto",...wt()]}],p:[{p:w()}],px:[{px:w()}],py:[{py:w()}],ps:[{ps:w()}],pe:[{pe:w()}],pbs:[{pbs:w()}],pbe:[{pbe:w()}],pt:[{pt:w()}],pr:[{pr:w()}],pb:[{pb:w()}],pl:[{pl:w()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mbs:[{mbs:Y()}],mbe:[{mbe:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":w()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":w()}],"space-y-reverse":["space-y-reverse"],size:[{size:rt()}],"inline-size":[{inline:["auto",...ft()]}],"min-inline-size":[{"min-inline":["auto",...ft()]}],"max-inline-size":[{"max-inline":["none",...ft()]}],"block-size":[{block:["auto",...At()]}],"min-block-size":[{"min-block":["auto",...At()]}],"max-block-size":[{"max-block":["none",...At()]}],w:[{w:[u,"screen",...rt()]}],"min-w":[{"min-w":[u,"screen","none",...rt()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...rt()]}],h:[{h:["screen","lh",...rt()]}],"min-h":[{"min-h":["screen","lh","none",...rt()]}],"max-h":[{"max-h":["screen","lh",...rt()]}],"font-size":[{text:["base",e,xu,to]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Tj,gj]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",My,_t]}],"font-family":[{font:[vj,yj,t]}],"font-features":[{"font-features":[_t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,bt,_t]}],"line-clamp":[{"line-clamp":[zt,"none",bt,bw]}],leading:[{leading:[o,...w()]}],"list-image":[{"list-image":["none",bt,_t]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",bt,_t]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:lt()}],"text-color":[{text:lt()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Lt(),"wavy"]}],"text-decoration-thickness":[{decoration:[zt,"from-font","auto",bt,to]}],"text-decoration-color":[{decoration:lt()}],"underline-offset":[{"underline-offset":[zt,"auto",bt,_t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",bt,_t]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",bt,_t]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:j()}],"bg-repeat":[{bg:et()}],"bg-size":[{bg:ct()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Fr,bt,_t],radial:["",bt,_t],conic:[Fr,bt,_t]},xj,_j]}],"bg-color":[{bg:lt()}],"gradient-from-pos":[{from:ht()}],"gradient-via-pos":[{via:ht()}],"gradient-to-pos":[{to:ht()}],"gradient-from":[{from:lt()}],"gradient-via":[{via:lt()}],"gradient-to":[{to:lt()}],rounded:[{rounded:mt()}],"rounded-s":[{"rounded-s":mt()}],"rounded-e":[{"rounded-e":mt()}],"rounded-t":[{"rounded-t":mt()}],"rounded-r":[{"rounded-r":mt()}],"rounded-b":[{"rounded-b":mt()}],"rounded-l":[{"rounded-l":mt()}],"rounded-ss":[{"rounded-ss":mt()}],"rounded-se":[{"rounded-se":mt()}],"rounded-ee":[{"rounded-ee":mt()}],"rounded-es":[{"rounded-es":mt()}],"rounded-tl":[{"rounded-tl":mt()}],"rounded-tr":[{"rounded-tr":mt()}],"rounded-br":[{"rounded-br":mt()}],"rounded-bl":[{"rounded-bl":mt()}],"border-w":[{border:gt()}],"border-w-x":[{"border-x":gt()}],"border-w-y":[{"border-y":gt()}],"border-w-s":[{"border-s":gt()}],"border-w-e":[{"border-e":gt()}],"border-w-bs":[{"border-bs":gt()}],"border-w-be":[{"border-be":gt()}],"border-w-t":[{"border-t":gt()}],"border-w-r":[{"border-r":gt()}],"border-w-b":[{"border-b":gt()}],"border-w-l":[{"border-l":gt()}],"divide-x":[{"divide-x":gt()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":gt()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Lt(),"hidden","none"]}],"divide-style":[{divide:[...Lt(),"hidden","none"]}],"border-color":[{border:lt()}],"border-color-x":[{"border-x":lt()}],"border-color-y":[{"border-y":lt()}],"border-color-s":[{"border-s":lt()}],"border-color-e":[{"border-e":lt()}],"border-color-bs":[{"border-bs":lt()}],"border-color-be":[{"border-be":lt()}],"border-color-t":[{"border-t":lt()}],"border-color-r":[{"border-r":lt()}],"border-color-b":[{"border-b":lt()}],"border-color-l":[{"border-l":lt()}],"divide-color":[{divide:lt()}],"outline-style":[{outline:[...Lt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[zt,bt,_t]}],"outline-w":[{outline:["",zt,xu,to]}],"outline-color":[{outline:lt()}],shadow:[{shadow:["","none",g,vd,_d]}],"shadow-color":[{shadow:lt()}],"inset-shadow":[{"inset-shadow":["none",_,vd,_d]}],"inset-shadow-color":[{"inset-shadow":lt()}],"ring-w":[{ring:gt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:lt()}],"ring-offset-w":[{"ring-offset":[zt,to]}],"ring-offset-color":[{"ring-offset":lt()}],"inset-ring-w":[{"inset-ring":gt()}],"inset-ring-color":[{"inset-ring":lt()}],"text-shadow":[{"text-shadow":["none",v,vd,_d]}],"text-shadow-color":[{"text-shadow":lt()}],opacity:[{opacity:[zt,bt,_t]}],"mix-blend":[{"mix-blend":[...Ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[zt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Mt()}],"mask-image-linear-to-pos":[{"mask-linear-to":Mt()}],"mask-image-linear-from-color":[{"mask-linear-from":lt()}],"mask-image-linear-to-color":[{"mask-linear-to":lt()}],"mask-image-t-from-pos":[{"mask-t-from":Mt()}],"mask-image-t-to-pos":[{"mask-t-to":Mt()}],"mask-image-t-from-color":[{"mask-t-from":lt()}],"mask-image-t-to-color":[{"mask-t-to":lt()}],"mask-image-r-from-pos":[{"mask-r-from":Mt()}],"mask-image-r-to-pos":[{"mask-r-to":Mt()}],"mask-image-r-from-color":[{"mask-r-from":lt()}],"mask-image-r-to-color":[{"mask-r-to":lt()}],"mask-image-b-from-pos":[{"mask-b-from":Mt()}],"mask-image-b-to-pos":[{"mask-b-to":Mt()}],"mask-image-b-from-color":[{"mask-b-from":lt()}],"mask-image-b-to-color":[{"mask-b-to":lt()}],"mask-image-l-from-pos":[{"mask-l-from":Mt()}],"mask-image-l-to-pos":[{"mask-l-to":Mt()}],"mask-image-l-from-color":[{"mask-l-from":lt()}],"mask-image-l-to-color":[{"mask-l-to":lt()}],"mask-image-x-from-pos":[{"mask-x-from":Mt()}],"mask-image-x-to-pos":[{"mask-x-to":Mt()}],"mask-image-x-from-color":[{"mask-x-from":lt()}],"mask-image-x-to-color":[{"mask-x-to":lt()}],"mask-image-y-from-pos":[{"mask-y-from":Mt()}],"mask-image-y-to-pos":[{"mask-y-to":Mt()}],"mask-image-y-from-color":[{"mask-y-from":lt()}],"mask-image-y-to-color":[{"mask-y-to":lt()}],"mask-image-radial":[{"mask-radial":[bt,_t]}],"mask-image-radial-from-pos":[{"mask-radial-from":Mt()}],"mask-image-radial-to-pos":[{"mask-radial-to":Mt()}],"mask-image-radial-from-color":[{"mask-radial-from":lt()}],"mask-image-radial-to-color":[{"mask-radial-to":lt()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Q()}],"mask-image-conic-pos":[{"mask-conic":[zt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Mt()}],"mask-image-conic-to-pos":[{"mask-conic-to":Mt()}],"mask-image-conic-from-color":[{"mask-conic-from":lt()}],"mask-image-conic-to-color":[{"mask-conic-to":lt()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:j()}],"mask-repeat":[{mask:et()}],"mask-size":[{mask:ct()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",bt,_t]}],filter:[{filter:["","none",bt,_t]}],blur:[{blur:Hi()}],brightness:[{brightness:[zt,bt,_t]}],contrast:[{contrast:[zt,bt,_t]}],"drop-shadow":[{"drop-shadow":["","none",T,vd,_d]}],"drop-shadow-color":[{"drop-shadow":lt()}],grayscale:[{grayscale:["",zt,bt,_t]}],"hue-rotate":[{"hue-rotate":[zt,bt,_t]}],invert:[{invert:["",zt,bt,_t]}],saturate:[{saturate:[zt,bt,_t]}],sepia:[{sepia:["",zt,bt,_t]}],"backdrop-filter":[{"backdrop-filter":["","none",bt,_t]}],"backdrop-blur":[{"backdrop-blur":Hi()}],"backdrop-brightness":[{"backdrop-brightness":[zt,bt,_t]}],"backdrop-contrast":[{"backdrop-contrast":[zt,bt,_t]}],"backdrop-grayscale":[{"backdrop-grayscale":["",zt,bt,_t]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[zt,bt,_t]}],"backdrop-invert":[{"backdrop-invert":["",zt,bt,_t]}],"backdrop-opacity":[{"backdrop-opacity":[zt,bt,_t]}],"backdrop-saturate":[{"backdrop-saturate":[zt,bt,_t]}],"backdrop-sepia":[{"backdrop-sepia":["",zt,bt,_t]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":w()}],"border-spacing-x":[{"border-spacing-x":w()}],"border-spacing-y":[{"border-spacing-y":w()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",bt,_t]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[zt,"initial",bt,_t]}],ease:[{ease:["linear","initial",P,bt,_t]}],delay:[{delay:[zt,bt,_t]}],animate:[{animate:["none",B,bt,_t]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[R,bt,_t]}],"perspective-origin":[{"perspective-origin":W()}],rotate:[{rotate:yi()}],"rotate-x":[{"rotate-x":yi()}],"rotate-y":[{"rotate-y":yi()}],"rotate-z":[{"rotate-z":yi()}],scale:[{scale:_i()}],"scale-x":[{"scale-x":_i()}],"scale-y":[{"scale-y":_i()}],"scale-z":[{"scale-z":_i()}],"scale-3d":["scale-3d"],skew:[{skew:qi()}],"skew-x":[{"skew-x":qi()}],"skew-y":[{"skew-y":qi()}],transform:[{transform:[bt,_t,"","none","gpu","cpu"]}],"transform-origin":[{origin:W()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:wn()}],"translate-x":[{"translate-x":wn()}],"translate-y":[{"translate-y":wn()}],"translate-z":[{"translate-z":wn()}],"translate-none":["translate-none"],accent:[{accent:lt()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:lt()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",bt,_t]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mbs":[{"scroll-mbs":w()}],"scroll-mbe":[{"scroll-mbe":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pbs":[{"scroll-pbs":w()}],"scroll-pbe":[{"scroll-pbe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",bt,_t]}],fill:[{fill:["none",...lt()]}],"stroke-w":[{stroke:[zt,xu,to,bw]}],stroke:[{stroke:["none",...lt()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},lk=ij(wj);function vl(...n){return lk(YR(n))}const Sj=({children:n,activePage:t,onPageChange:e})=>{const{user:i}=DR(),{count:r}=uv(),[o,l]=Z.useState(!1);return C.jsxs("div",{className:"min-h-screen bg-slate-50 flex",children:[C.jsxs("aside",{className:"w-72 bg-espresso-900 text-crema p-8 flex flex-col h-screen fixed left-0 top-0 z-50",children:[C.jsxs("div",{className:"flex items-center space-x-3 mb-12 px-2",children:[C.jsx("div",{className:"w-12 h-12 bg-caramel rounded-[1.2rem] flex items-center justify-center font-black italic text-2xl shadow-lg shadow-caramel/20",children:"S"}),C.jsx("h1",{className:"text-2xl font-black italic tracking-tighter",children:"SmartStock"})]}),C.jsxs("nav",{className:"flex-1 space-y-3",children:[C.jsxs("button",{onClick:()=>e("dashboard"),className:vl("flex items-center space-x-4 p-5 rounded-3xl w-full text-left transition-all duration-300 group",t==="dashboard"?"bg-caramel text-white shadow-xl shadow-caramel/20":"text-espresso-300 hover:bg-white/5 hover:text-white"),children:[C.jsx(dz,{size:22,className:vl("transition-transform duration-300",t==="dashboard"?"scale-110":"group-hover:scale-110")}),C.jsx("span",{className:"font-black uppercase tracking-widest text-xs",children:"Maaza Paneli"})]}),C.jsxs("button",{onClick:()=>e("market"),className:vl("flex items-center space-x-4 p-5 rounded-3xl w-full text-left transition-all duration-300 group",t==="market"?"bg-caramel text-white shadow-xl shadow-caramel/20":"text-espresso-300 hover:bg-white/5 hover:text-white"),children:[C.jsx(hv,{size:22,className:vl("transition-transform duration-300",t==="market"?"scale-110":"group-hover:scale-110")}),C.jsx("span",{className:"font-black uppercase tracking-widest text-xs",children:"Market"})]}),C.jsxs("button",{onClick:()=>e("blog"),className:vl("flex items-center space-x-4 p-5 rounded-3xl w-full text-left transition-all duration-300 group",t==="blog"?"bg-caramel text-white shadow-xl shadow-caramel/20":"text-espresso-300 hover:bg-white/5 hover:text-white"),children:[C.jsx(Y6,{size:22,className:vl("transition-transform duration-300",t==="blog"?"scale-110":"group-hover:scale-110")}),C.jsx("span",{className:"font-black uppercase tracking-widest text-xs",children:"Blog"})]})]}),C.jsxs("div",{className:"mt-auto space-y-6",children:[C.jsxs("div",{className:"bg-white/5 p-4 rounded-3xl flex items-center space-x-3 border border-white/5",children:[C.jsx("div",{className:"w-10 h-10 bg-espresso-800 rounded-2xl flex items-center justify-center border border-white/10",children:C.jsx(qR,{size:18,className:"text-espresso-400"})}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsx("p",{className:"text-[10px] font-black text-espresso-500 uppercase tracking-widest",children:"Barista"}),C.jsx("p",{className:"text-sm font-bold truncate",children:i?.email?.split("@")[0]})]})]}),C.jsxs("button",{onClick:()=>cV(lv),className:"flex items-center space-x-4 p-5 rounded-3xl text-red-400 hover:bg-red-500/10 w-full font-black uppercase tracking-widest text-xs transition-all duration-300",children:[C.jsx(yz,{size:22}),C.jsx("span",{children:"Vardiyay Bitir"})]})]})]}),C.jsxs("div",{className:"flex flex-col flex-1 ml-72 min-h-screen",children:[C.jsxs("header",{className:"h-24 bg-crema/80 backdrop-blur-md border-b border-espresso-100 flex justify-between items-center px-12 sticky top-0 z-40",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-[10px] font-black text-espresso-400 uppercase tracking-[0.2em] mb-1",children:t==="dashboard"?"Maaza Paneli":t==="blog"?"Haberler & Notlar":"rn Galerisi"}),C.jsx("h2",{className:"text-xl font-black text-espresso-800 tracking-tight",children:t==="dashboard"?"Stok Ynetimi":t==="blog"?"Kahve Notlar":"Taze Seenekler"})]}),C.jsx("div",{className:"flex items-center space-x-6",children:C.jsxs("button",{onClick:()=>l(!0),className:"relative p-4 bg-espresso-50 rounded-[1.2rem] text-espresso-700 hover:bg-crema hover:text-caramel transition-all duration-300 shadow-sm group border border-espresso-100",children:[C.jsx(fv,{size:22,className:"group-hover:scale-110 transition-transform duration-300"}),r>0&&C.jsx("span",{className:"absolute -top-1 -right-1 bg-caramel text-white text-[10px] font-bold w-6 h-6 rounded-full flex items-center justify-center border-2 border-crema animate-in zoom-in duration-300",children:r})]})})]}),C.jsx("main",{className:"p-12 flex-1",children:n})]}),C.jsx(Vz,{isOpen:o,onClose:()=>l(!1)})]})},pv=Z.createContext({});function gv(n){const t=Z.useRef(null);return t.current===null&&(t.current=n()),t.current}const ck=typeof window<"u",uk=ck?Z.useLayoutEffect:Z.useEffect,lp=Z.createContext(null);function yv(n,t){n.indexOf(t)===-1&&n.push(t)}function wm(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const As=(n,t,e)=>e>t?t:e<n?n:e;let _v=()=>{};const rr={},hk=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function fk(n){return typeof n=="object"&&n!==null}const dk=n=>/^0[^.\s]+$/u.test(n);function mk(n){let t;return()=>(t===void 0&&(t=n()),t)}const mi=n=>n,Aj=(n,t)=>e=>t(n(e)),Ih=(...n)=>n.reduce(Aj),lh=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i};class vv{constructor(){this.subscriptions=[]}add(t){return yv(this.subscriptions,t),()=>wm(this.subscriptions,t)}notify(t,e,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,e,i);else for(let o=0;o<r;o++){const l=this.subscriptions[o];l&&l(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ji=n=>n*1e3,fi=n=>n/1e3;function pk(n,t){return t?n*(1e3/t):0}const gk=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,Cj=1e-7,Rj=12;function kj(n,t,e,i,r){let o,l,u=0;do l=t+(e-t)/2,o=gk(l,i,r)-n,o>0?e=l:t=l;while(Math.abs(o)>Cj&&++u<Rj);return l}function Dh(n,t,e,i){if(n===t&&e===i)return mi;const r=o=>kj(o,0,1,n,e);return o=>o===0||o===1?o:gk(r(o),t,i)}const yk=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,_k=n=>t=>1-n(1-t),vk=Dh(.33,1.53,.69,.99),bv=_k(vk),bk=yk(bv),xk=n=>(n*=2)<1?.5*bv(n):.5*(2-Math.pow(2,-10*(n-1))),xv=n=>1-Math.sin(Math.acos(n)),Tk=_k(xv),Ek=yk(xv),Ij=Dh(.42,0,1,1),Dj=Dh(0,0,.58,1),wk=Dh(.42,0,.58,1),Mj=n=>Array.isArray(n)&&typeof n[0]!="number",Sk=n=>Array.isArray(n)&&typeof n[0]=="number",Nj={linear:mi,easeIn:Ij,easeInOut:wk,easeOut:Dj,circIn:xv,circInOut:Ek,circOut:Tk,backIn:bv,backInOut:bk,backOut:vk,anticipate:xk},Oj=n=>typeof n=="string",Ew=n=>{if(Sk(n)){_v(n.length===4);const[t,e,i,r]=n;return Dh(t,e,i,r)}else if(Oj(n))return Nj[n];return n},bd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Pj(n,t){let e=new Set,i=new Set,r=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(g){l.has(g)&&(d.schedule(g),n()),g(u)}const d={schedule:(g,_=!1,v=!1)=>{const S=v&&r?e:i;return _&&l.add(g),S.has(g)||S.add(g),g},cancel:g=>{i.delete(g),l.delete(g)},process:g=>{if(u=g,r){o=!0;return}r=!0,[e,i]=[i,e],e.forEach(f),e.clear(),r=!1,o&&(o=!1,d.process(g))}};return d}const Vj=40;function Ak(n,t){let e=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>e=!0,l=bd.reduce((F,Q)=>(F[Q]=Pj(o),F),{}),{setup:u,read:f,resolveKeyframes:d,preUpdate:g,update:_,preRender:v,render:T,postRender:S}=l,R=()=>{const F=rr.useManualTiming?r.timestamp:performance.now();e=!1,rr.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(F-r.timestamp,Vj),1)),r.timestamp=F,r.isProcessing=!0,u.process(r),f.process(r),d.process(r),g.process(r),_.process(r),v.process(r),T.process(r),S.process(r),r.isProcessing=!1,e&&t&&(i=!1,n(R))},k=()=>{e=!0,i=!0,r.isProcessing||n(R)};return{schedule:bd.reduce((F,Q)=>{const W=l[Q];return F[Q]=(it,M=!1,w=!1)=>(e||k(),W.schedule(it,M,w)),F},{}),cancel:F=>{for(let Q=0;Q<bd.length;Q++)l[bd[Q]].cancel(F)},state:r,steps:l}}const{schedule:me,cancel:ga,state:hn,steps:Ny}=Ak(typeof requestAnimationFrame<"u"?requestAnimationFrame:mi,!0);let Yd;function Lj(){Yd=void 0}const Rn={now:()=>(Yd===void 0&&Rn.set(hn.isProcessing||rr.useManualTiming?hn.timestamp:performance.now()),Yd),set:n=>{Yd=n,queueMicrotask(Lj)}},Ck=n=>t=>typeof t=="string"&&t.startsWith(n),Rk=Ck("--"),zj=Ck("var(--"),Tv=n=>zj(n)?jj.test(n.split("/*")[0].trim()):!1,jj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function ww(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const lc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ch={...lc,transform:n=>As(0,1,n)},xd={...lc,default:1},qu=n=>Math.round(n*1e5)/1e5,Ev=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Uj(n){return n==null}const Bj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wv=(n,t)=>e=>!!(typeof e=="string"&&Bj.test(e)&&e.startsWith(n)||t&&!Uj(e)&&Object.prototype.hasOwnProperty.call(e,t)),kk=(n,t,e)=>i=>{if(typeof i!="string")return i;const[r,o,l,u]=i.match(Ev);return{[n]:parseFloat(r),[t]:parseFloat(o),[e]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},Fj=n=>As(0,255,n),Oy={...lc,transform:n=>Math.round(Fj(n))},ho={test:wv("rgb","red"),parse:kk("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+Oy.transform(n)+", "+Oy.transform(t)+", "+Oy.transform(e)+", "+qu(ch.transform(i))+")"};function Hj(n){let t="",e="",i="",r="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),t+=t,e+=e,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const z0={test:wv("#"),parse:Hj,transform:ho.transform},Mh=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Hr=Mh("deg"),ws=Mh("%"),vt=Mh("px"),qj=Mh("vh"),Gj=Mh("vw"),Sw={...ws,parse:n=>ws.parse(n)/100,transform:n=>ws.transform(n*100)},Cl={test:wv("hsl","hue"),parse:kk("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+ws.transform(qu(t))+", "+ws.transform(qu(e))+", "+qu(ch.transform(i))+")"},qe={test:n=>ho.test(n)||z0.test(n)||Cl.test(n),parse:n=>ho.test(n)?ho.parse(n):Cl.test(n)?Cl.parse(n):z0.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ho.transform(n):Cl.transform(n),getAnimatableNone:n=>{const t=qe.parse(n);return t.alpha=0,qe.transform(t)}},Kj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Yj(n){return isNaN(n)&&typeof n=="string"&&(n.match(Ev)?.length||0)+(n.match(Kj)?.length||0)>0}const Ik="number",Dk="color",$j="var",Wj="var(",Aw="${}",Xj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uh(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},r=[];let o=0;const u=t.replace(Xj,f=>(qe.test(f)?(i.color.push(o),r.push(Dk),e.push(qe.parse(f))):f.startsWith(Wj)?(i.var.push(o),r.push($j),e.push(f)):(i.number.push(o),r.push(Ik),e.push(parseFloat(f))),++o,Aw)).split(Aw);return{values:e,split:u,indexes:i,types:r}}function Mk(n){return uh(n).values}function Nk(n){const{split:t,types:e}=uh(n),i=t.length;return r=>{let o="";for(let l=0;l<i;l++)if(o+=t[l],r[l]!==void 0){const u=e[l];u===Ik?o+=qu(r[l]):u===Dk?o+=qe.transform(r[l]):o+=r[l]}return o}}const Qj=n=>typeof n=="number"?0:qe.test(n)?qe.getAnimatableNone(n):n;function Zj(n){const t=Mk(n);return Nk(n)(t.map(Qj))}const Ui={test:Yj,parse:Mk,createTransformer:Nk,getAnimatableNone:Zj};function Py(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function Jj({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let r=0,o=0,l=0;if(!t)r=o=l=e;else{const u=e<.5?e*(1+t):e+t-e*t,f=2*e-u;r=Py(f,u,n+1/3),o=Py(f,u,n),l=Py(f,u,n-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function Sm(n,t){return e=>e>0?t:n}const xe=(n,t,e)=>n+(t-n)*e,Vy=(n,t,e)=>{const i=n*n,r=e*(t*t-i)+i;return r<0?0:Math.sqrt(r)},t9=[z0,ho,Cl],e9=n=>t9.find(t=>t.test(n));function Cw(n){const t=e9(n);if(!t)return!1;let e=t.parse(n);return t===Cl&&(e=Jj(e)),e}const Rw=(n,t)=>{const e=Cw(n),i=Cw(t);if(!e||!i)return Sm(n,t);const r={...e};return o=>(r.red=Vy(e.red,i.red,o),r.green=Vy(e.green,i.green,o),r.blue=Vy(e.blue,i.blue,o),r.alpha=xe(e.alpha,i.alpha,o),ho.transform(r))},j0=new Set(["none","hidden"]);function n9(n,t){return j0.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function i9(n,t){return e=>xe(n,t,e)}function Sv(n){return typeof n=="number"?i9:typeof n=="string"?Tv(n)?Sm:qe.test(n)?Rw:a9:Array.isArray(n)?Ok:typeof n=="object"?qe.test(n)?Rw:s9:Sm}function Ok(n,t){const e=[...n],i=e.length,r=n.map((o,l)=>Sv(o)(o,t[l]));return o=>{for(let l=0;l<i;l++)e[l]=r[l](o);return e}}function s9(n,t){const e={...n,...t},i={};for(const r in e)n[r]!==void 0&&t[r]!==void 0&&(i[r]=Sv(n[r])(n[r],t[r]));return r=>{for(const o in i)e[o]=i[o](r);return e}}function r9(n,t){const e=[],i={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const o=t.types[r],l=n.indexes[o][i[o]],u=n.values[l]??0;e[r]=u,i[o]++}return e}const a9=(n,t)=>{const e=Ui.createTransformer(t),i=uh(n),r=uh(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?j0.has(n)&&!r.values.length||j0.has(t)&&!i.values.length?n9(n,t):Ih(Ok(r9(i,r),r.values),e):Sm(n,t)};function Pk(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?xe(n,t,e):Sv(n)(n,t)}const o9=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>me.update(t,e),stop:()=>ga(t),now:()=>hn.isProcessing?hn.timestamp:Rn.now()}},Vk=(n,t,e=10)=>{let i="";const r=Math.max(Math.round(t/e),2);for(let o=0;o<r;o++)i+=Math.round(n(o/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Am=2e4;function Av(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<Am;)t+=e,i=n.next(t);return t>=Am?1/0:t}function l9(n,t=100,e){const i=e({...n,keyframes:[0,t]}),r=Math.min(Av(i),Am);return{type:"keyframes",ease:o=>i.next(r*o).value/t,duration:fi(r)}}const c9=5;function Lk(n,t,e){const i=Math.max(t-c9,0);return pk(e-n(i),t-i)}const Ae={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ly=.001;function u9({duration:n=Ae.duration,bounce:t=Ae.bounce,velocity:e=Ae.velocity,mass:i=Ae.mass}){let r,o,l=1-t;l=As(Ae.minDamping,Ae.maxDamping,l),n=As(Ae.minDuration,Ae.maxDuration,fi(n)),l<1?(r=d=>{const g=d*l,_=g*n,v=g-e,T=U0(d,l),S=Math.exp(-_);return Ly-v/T*S},o=d=>{const _=d*l*n,v=_*e+e,T=Math.pow(l,2)*Math.pow(d,2)*n,S=Math.exp(-_),R=U0(Math.pow(d,2),l);return(-r(d)+Ly>0?-1:1)*((v-T)*S)/R}):(r=d=>{const g=Math.exp(-d*n),_=(d-e)*n+1;return-Ly+g*_},o=d=>{const g=Math.exp(-d*n),_=(e-d)*(n*n);return g*_});const u=5/n,f=f9(r,o,u);if(n=ji(n),isNaN(f))return{stiffness:Ae.stiffness,damping:Ae.damping,duration:n};{const d=Math.pow(f,2)*i;return{stiffness:d,damping:l*2*Math.sqrt(i*d),duration:n}}}const h9=12;function f9(n,t,e){let i=e;for(let r=1;r<h9;r++)i=i-n(i)/t(i);return i}function U0(n,t){return n*Math.sqrt(1-t*t)}const d9=["duration","bounce"],m9=["stiffness","damping","mass"];function kw(n,t){return t.some(e=>n[e]!==void 0)}function p9(n){let t={velocity:Ae.velocity,stiffness:Ae.stiffness,damping:Ae.damping,mass:Ae.mass,isResolvedFromDuration:!1,...n};if(!kw(n,m9)&&kw(n,d9))if(t.velocity=0,n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),r=i*i,o=2*As(.05,1,1-(n.bounce||0))*Math.sqrt(r);t={...t,mass:Ae.mass,stiffness:r,damping:o}}else{const e=u9({...n,velocity:0});t={...t,...e,mass:Ae.mass},t.isResolvedFromDuration=!0}return t}function Cm(n=Ae.visualDuration,t=Ae.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:r}=e;const o=e.keyframes[0],l=e.keyframes[e.keyframes.length-1],u={done:!1,value:o},{stiffness:f,damping:d,mass:g,duration:_,velocity:v,isResolvedFromDuration:T}=p9({...e,velocity:-fi(e.velocity||0)}),S=v||0,R=d/(2*Math.sqrt(f*g)),k=l-o,P=fi(Math.sqrt(f/g)),B=Math.abs(k)<5;i||(i=B?Ae.restSpeed.granular:Ae.restSpeed.default),r||(r=B?Ae.restDelta.granular:Ae.restDelta.default);let F;if(R<1){const W=U0(P,R);F=it=>{const M=Math.exp(-R*P*it);return l-M*((S+R*P*k)/W*Math.sin(W*it)+k*Math.cos(W*it))}}else if(R===1)F=W=>l-Math.exp(-P*W)*(k+(S+P*k)*W);else{const W=P*Math.sqrt(R*R-1);F=it=>{const M=Math.exp(-R*P*it),w=Math.min(W*it,300);return l-M*((S+R*P*k)*Math.sinh(w)+W*k*Math.cosh(w))/W}}const Q={calculatedDuration:T&&_||null,next:W=>{const it=F(W);if(T)u.done=W>=_;else{let M=W===0?S:0;R<1&&(M=W===0?ji(S):Lk(F,W,it));const w=Math.abs(M)<=i,D=Math.abs(l-it)<=r;u.done=w&&D}return u.value=u.done?l:it,u},toString:()=>{const W=Math.min(Av(Q),Am),it=Vk(M=>Q.next(W*M).value,W,30);return W+"ms "+it},toTransition:()=>{}};return Q}Cm.applyToOptions=n=>{const t=l9(n,100,Cm);return n.ease=t.ease,n.duration=ji(t.duration),n.type="keyframes",n};function B0({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:f,restDelta:d=.5,restSpeed:g}){const _=n[0],v={done:!1,value:_},T=w=>u!==void 0&&w<u||f!==void 0&&w>f,S=w=>u===void 0?f:f===void 0||Math.abs(u-w)<Math.abs(f-w)?u:f;let R=e*t;const k=_+R,P=l===void 0?k:l(k);P!==k&&(R=P-_);const B=w=>-R*Math.exp(-w/i),F=w=>P+B(w),Q=w=>{const D=B(w),V=F(w);v.done=Math.abs(D)<=d,v.value=v.done?P:V};let W,it;const M=w=>{T(v.value)&&(W=w,it=Cm({keyframes:[v.value,S(v.value)],velocity:Lk(F,w,v.value),damping:r,stiffness:o,restDelta:d,restSpeed:g}))};return M(0),{calculatedDuration:null,next:w=>{let D=!1;return!it&&W===void 0&&(D=!0,Q(w),M(w)),W!==void 0&&w>=W?it.next(w-W):(!D&&Q(w),v)}}}function g9(n,t,e){const i=[],r=e||rr.mix||Pk,o=n.length-1;for(let l=0;l<o;l++){let u=r(n[l],n[l+1]);if(t){const f=Array.isArray(t)?t[l]||mi:t;u=Ih(f,u)}i.push(u)}return i}function y9(n,t,{clamp:e=!0,ease:i,mixer:r}={}){const o=n.length;if(_v(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const l=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),t=[...t].reverse());const u=g9(t,i,r),f=u.length,d=g=>{if(l&&g<n[0])return t[0];let _=0;if(f>1)for(;_<n.length-2&&!(g<n[_+1]);_++);const v=lh(n[_],n[_+1],g);return u[_](v)};return e?g=>d(As(n[0],n[o-1],g)):d}function _9(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const r=lh(0,t,i);n.push(xe(e,1,r))}}function v9(n){const t=[0];return _9(t,n.length-1),t}function b9(n,t){return n.map(e=>e*t)}function x9(n,t){return n.map(()=>t||wk).splice(0,n.length-1)}function Gu({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const r=Mj(i)?i.map(Ew):Ew(i),o={done:!1,value:t[0]},l=b9(e&&e.length===t.length?e:v9(t),n),u=y9(l,t,{ease:Array.isArray(r)?r:x9(t,r)});return{calculatedDuration:n,next:f=>(o.value=u(f),o.done=f>=n,o)}}const T9=n=>n!==null;function Cv(n,{repeat:t,repeatType:e="loop"},i,r=1){const o=n.filter(T9),u=r<0||t&&e!=="loop"&&t%2===1?0:o.length-1;return!u||i===void 0?o[u]:i}const E9={decay:B0,inertia:B0,tween:Gu,keyframes:Gu,spring:Cm};function zk(n){typeof n.type=="string"&&(n.type=E9[n.type])}class Rv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const w9=n=>n/100;class kv extends Rv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Rn.now()&&this.tick(Rn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;zk(t);const{type:e=Gu,repeat:i=0,repeatDelay:r=0,repeatType:o,velocity:l=0}=t;let{keyframes:u}=t;const f=e||Gu;f!==Gu&&typeof u[0]!="number"&&(this.mixKeyframes=Ih(w9,Pk(u[0],u[1])),u=[0,100]);const d=f({...t,keyframes:u});o==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...u].reverse(),velocity:-l})),d.calculatedDuration===null&&(d.calculatedDuration=Av(d));const{calculatedDuration:g}=d;this.calculatedDuration=g,this.resolvedDuration=g+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=d}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:r,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:g,repeat:_,repeatType:v,repeatDelay:T,type:S,onUpdate:R,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const P=this.currentTime-d*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?P<0:P>r;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let F=this.currentTime,Q=i;if(_){const w=Math.min(this.currentTime,r)/u;let D=Math.floor(w),V=w%1;!V&&w>=1&&(V=1),V===1&&D--,D=Math.min(D,_+1),D%2&&(v==="reverse"?(V=1-V,T&&(V-=T/u)):v==="mirror"&&(Q=l)),F=As(0,1,V)*u}const W=B?{done:!1,value:g[0]}:Q.next(F);o&&(W.value=o(W.value));let{done:it}=W;!B&&f!==null&&(it=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&it);return M&&S!==B0&&(W.value=Cv(g,this.options,k,this.speed)),R&&R(W.value),M&&this.finish(),W}then(t,e){return this.finished.then(t,e)}get duration(){return fi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+fi(t)}get time(){return fi(this.currentTime)}set time(t){t=ji(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Rn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=fi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=o9,startTime:e}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Rn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function S9(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const fo=n=>n*180/Math.PI,F0=n=>{const t=fo(Math.atan2(n[1],n[0]));return H0(t)},A9={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:F0,rotateZ:F0,skewX:n=>fo(Math.atan(n[1])),skewY:n=>fo(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},H0=n=>(n=n%360,n<0&&(n+=360),n),Iw=F0,Dw=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Mw=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),C9={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Dw,scaleY:Mw,scale:n=>(Dw(n)+Mw(n))/2,rotateX:n=>H0(fo(Math.atan2(n[6],n[5]))),rotateY:n=>H0(fo(Math.atan2(-n[2],n[0]))),rotateZ:Iw,rotate:Iw,skewX:n=>fo(Math.atan(n[4])),skewY:n=>fo(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function q0(n){return n.includes("scale")?1:0}function G0(n,t){if(!n||n==="none")return q0(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(e)i=C9,r=e;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=A9,r=u}if(!r)return q0(t);const o=i[t],l=r[1].split(",").map(k9);return typeof o=="function"?o(l):l[o]}const R9=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return G0(e,t)};function k9(n){return parseFloat(n.trim())}const cc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],uc=new Set(cc),Nw=n=>n===lc||n===vt,I9=new Set(["x","y","z"]),D9=cc.filter(n=>!I9.has(n));function M9(n){const t=[];return D9.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const Xr={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>G0(t,"x"),y:(n,{transform:t})=>G0(t,"y")};Xr.translateX=Xr.x;Xr.translateY=Xr.y;const yo=new Set;let K0=!1,Y0=!1,$0=!1;function jk(){if(Y0){const n=Array.from(yo).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const r=M9(i);r.length&&(e.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const r=e.get(i);r&&r.forEach(([o,l])=>{i.getValue(o)?.set(l)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Y0=!1,K0=!1,yo.forEach(n=>n.complete($0)),yo.clear()}function Uk(){yo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Y0=!0)})}function N9(){$0=!0,Uk(),jk(),$0=!1}class Iv{constructor(t,e,i,r,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=r,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(yo.add(this),K0||(K0=!0,me.read(Uk),me.resolveKeyframes(jk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:r}=this;if(t[0]===null){const o=r?.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&e){const u=i.readValue(e,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),r&&o===void 0&&r.set(t[0])}S9(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),yo.delete(this)}cancel(){this.state==="scheduled"&&(yo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const O9=n=>n.startsWith("--");function P9(n,t,e){O9(t)?n.style.setProperty(t,e):n.style[t]=e}const V9={};function Bk(n,t){const e=mk(n);return()=>V9[t]??e()}const L9=Bk(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),Fk=Bk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ou=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,Ow={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ou([0,.65,.55,1]),circOut:Ou([.55,0,1,.45]),backIn:Ou([.31,.01,.66,-.59]),backOut:Ou([.33,1.53,.69,.99])};function Hk(n,t){if(n)return typeof n=="function"?Fk()?Vk(n,t):"ease-out":Sk(n)?Ou(n):Array.isArray(n)?n.map(e=>Hk(e,t)||Ow.easeOut):Ow[n]}function z9(n,t,e,{delay:i=0,duration:r=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:f}={},d=void 0){const g={[t]:e};f&&(g.offset=f);const _=Hk(u,r);Array.isArray(_)&&(g.easing=_);const v={delay:i,duration:r,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return d&&(v.pseudoElement=d),n.animate(g,v)}function qk(n){return typeof n=="function"&&"applyToOptions"in n}function j9({type:n,...t}){return qk(n)&&Fk()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Gk extends Rv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:i,keyframes:r,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:f}=t;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=t,_v(typeof t.type!="string");const d=j9(t);this.animation=z9(e,i,r,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=Cv(r,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):P9(e,i,g),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return fi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+fi(t)}get time(){return fi(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ji(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&L9()?(this.animation.timeline=t,mi):e(this)}}const Kk={anticipate:xk,backInOut:bk,circInOut:Ek};function U9(n){return n in Kk}function B9(n){typeof n.ease=="string"&&U9(n.ease)&&(n.ease=Kk[n.ease])}const zy=10;class F9 extends Gk{constructor(t){B9(t),zk(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:r,element:o,...l}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const u=new kv({...l,autoplay:!1}),f=Math.max(zy,Rn.now()-this.startTime),d=As(0,zy,f-zy);e.setWithVelocity(u.sample(Math.max(0,f-d)).value,u.sample(f).value,d),u.stop()}}const Pw=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ui.test(n)||n==="0")&&!n.startsWith("url("));function H9(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function q9(n,t,e,i){const r=n[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const o=n[n.length-1],l=Pw(r,t),u=Pw(o,t);return!l||!u?!1:H9(n)||(e==="spring"||qk(e))&&i}function W0(n){n.duration=0,n.type="keyframes"}const G9=new Set(["opacity","clipPath","filter","transform"]),K9=mk(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Y9(n){const{motionValue:t,name:e,repeatDelay:i,repeatType:r,damping:o,type:l}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:d}=t.owner.getProps();return K9()&&e&&G9.has(e)&&(e!=="transform"||!d)&&!f&&!i&&r!=="mirror"&&o!==0&&l!=="inertia"}const $9=40;class W9 extends Rv{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:f,motionValue:d,element:g,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Rn.now();const v={autoplay:t,delay:e,type:i,repeat:r,repeatDelay:o,repeatType:l,name:f,motionValue:d,element:g,..._},T=g?.KeyframeResolver||Iv;this.keyframeResolver=new T(u,(S,R,k)=>this.onKeyframesResolved(S,R,v,!k),f,d,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,i,r){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:f,isHandoff:d,onUpdate:g}=i;this.resolvedAt=Rn.now(),q9(t,o,l,u)||((rr.instantAnimations||!f)&&g?.(Cv(t,i,e)),t[0]=t[t.length-1],W0(i),i.repeat=0);const v={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>$9?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},T=!d&&Y9(v),S=v.motionValue?.owner?.current,R=T?new F9({...v,element:S}):new kv(v);R.finished.then(()=>{this.notifyFinished()}).catch(mi),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),N9()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function Yk(n,t,e,i=0,r=1){const o=Array.from(n).sort((d,g)=>d.sortNodePosition(g)).indexOf(t),l=n.size,u=(l-1)*i;return typeof e=="function"?e(o,l):r===1?o*i:u-o*i}const X9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Q9(n){const t=X9.exec(n);if(!t)return[,];const[,e,i,r]=t;return[`--${e??i}`,r]}function $k(n,t,e=1){const[i,r]=Q9(n);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const l=o.trim();return hk(l)?parseFloat(l):l}return Tv(r)?$k(r,t,e+1):r}const Z9={type:"spring",stiffness:500,damping:25,restSpeed:10},J9=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),tU={type:"keyframes",duration:.8},eU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nU=(n,{keyframes:t})=>t.length>2?tU:uc.has(n)?n.startsWith("scale")?J9(t[1]):Z9:eU,iU=n=>n!==null;function sU(n,{repeat:t,repeatType:e="loop"},i){const r=n.filter(iU),o=t&&e!=="loop"&&t%2===1?0:r.length-1;return r[o]}function Wk(n,t){if(n?.inherit&&t){const{inherit:e,...i}=n;return{...t,...i}}return n}function Dv(n,t){const e=n?.[t]??n?.default??n;return e!==n?Wk(e,n):e}function rU({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:r,repeat:o,repeatType:l,repeatDelay:u,from:f,elapsed:d,...g}){return!!Object.keys(g).length}const Mv=(n,t,e,i={},r,o)=>l=>{const u=Dv(i,n)||{},f=u.delay||i.delay||0;let{elapsed:d=0}=i;d=d-ji(f);const g={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-d,onUpdate:v=>{t.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:t,element:o?void 0:r};rU(u)||Object.assign(g,nU(n,g)),g.duration&&(g.duration=ji(g.duration)),g.repeatDelay&&(g.repeatDelay=ji(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(W0(g),g.delay===0&&(_=!0)),(rr.instantAnimations||rr.skipAnimations||r?.shouldSkipAnimations)&&(_=!0,W0(g),g.delay=0),g.allowFlatten=!u.type&&!u.ease,_&&!o&&t.get()!==void 0){const v=sU(g.keyframes,u);if(v!==void 0){me.update(()=>{g.onUpdate(v),g.onComplete()});return}}return u.isSync?new kv(g):new W9(g)};function Vw(n){const t=[{},{}];return n?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function Nv(n,t,e,i){if(typeof t=="function"){const[r,o]=Vw(i);t=t(e!==void 0?e:n.custom,r,o)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[r,o]=Vw(i);t=t(e!==void 0?e:n.custom,r,o)}return t}function jl(n,t,e){const i=n.getProps();return Nv(i,t,e!==void 0?e:i.custom,n)}const Xk=new Set(["width","height","top","left","right","bottom",...cc]),Lw=30,aU=n=>!isNaN(parseFloat(n));class oU{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const r=Rn.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Rn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=aU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new vv);const i=this.events[t].add(e);return t==="change"?()=>{i(),me.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Rn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Lw)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,Lw);return pk(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xl(n,t){return new oU(n,t)}const X0=n=>Array.isArray(n);function lU(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Xl(e))}function cU(n){return X0(n)?n[n.length-1]||0:n}function uU(n,t){const e=jl(n,t);let{transitionEnd:i={},transition:r={},...o}=e||{};o={...o,...i};for(const l in o){const u=cU(o[l]);lU(n,l,u)}}const bn=n=>!!(n&&n.getVelocity);function hU(n){return!!(bn(n)&&n.add)}function Q0(n,t){const e=n.getValue("willChange");if(hU(e))return e.add(t);if(!e&&rr.WillChange){const i=new rr.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function Ov(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const fU="framerAppearId",Qk="data-"+Ov(fU);function Zk(n){return n.props[Qk]}function dU({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function Jk(n,t,{delay:e=0,transitionOverride:i,type:r}={}){let{transition:o,transitionEnd:l,...u}=t;const f=n.getDefaultTransition();o=o?Wk(o,f):f;const d=o?.reduceMotion;i&&(o=i);const g=[],_=r&&n.animationState&&n.animationState.getState()[r];for(const v in u){const T=n.getValue(v,n.latestValues[v]??null),S=u[v];if(S===void 0||_&&dU(_,v))continue;const R={delay:e,...Dv(o||{},v)},k=T.get();if(k!==void 0&&!T.isAnimating&&!Array.isArray(S)&&S===k&&!R.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const Q=Zk(n);if(Q){const W=window.MotionHandoffAnimation(Q,v,me);W!==null&&(R.startTime=W,P=!0)}}Q0(n,v);const B=d??n.shouldReduceMotion;T.start(Mv(v,T,S,B&&Xk.has(v)?{type:!1}:R,n,P));const F=T.animation;F&&g.push(F)}if(l){const v=()=>me.update(()=>{l&&uU(n,l)});g.length?Promise.all(g).then(v):v()}return g}function Z0(n,t,e={}){const i=jl(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(r=e.transitionOverride);const o=i?()=>Promise.all(Jk(n,i,e)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:d=0,staggerChildren:g,staggerDirection:_}=r;return mU(n,t,f,d,g,_,e)}:()=>Promise.resolve(),{when:u}=r;if(u){const[f,d]=u==="beforeChildren"?[o,l]:[l,o];return f().then(()=>d())}else return Promise.all([o(),l(e.delay)])}function mU(n,t,e=0,i=0,r=0,o=1,l){const u=[];for(const f of n.variantChildren)f.notify("AnimationStart",t),u.push(Z0(f,t,{...l,delay:e+(typeof i=="function"?0:i)+Yk(n.variantChildren,f,i,r,o)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(u)}function pU(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const r=t.map(o=>Z0(n,o,e));i=Promise.all(r)}else if(typeof t=="string")i=Z0(n,t,e);else{const r=typeof t=="function"?jl(n,t,e.custom):t;i=Promise.all(Jk(n,r,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}const gU={test:n=>n==="auto",parse:n=>n},tI=n=>t=>t.test(n),eI=[lc,vt,ws,Hr,Gj,qj,gU],zw=n=>eI.find(tI(n));function yU(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||dk(n):!0}const _U=new Set(["brightness","contrast","saturate","opacity"]);function vU(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(Ev)||[];if(!i)return n;const r=e.replace(i,"");let o=_U.has(t)?1:0;return i!==e&&(o*=100),t+"("+o+r+")"}const bU=/\b([a-z-]*)\(.*?\)/gu,J0={...Ui,getAnimatableNone:n=>{const t=n.match(bU);return t?t.map(vU).join(" "):n}},t_={...Ui,getAnimatableNone:n=>{const t=Ui.parse(n);return Ui.createTransformer(n)(t.map(i=>typeof i=="number"?0:typeof i=="object"?{...i,alpha:1}:i))}},jw={...lc,transform:Math.round},xU={rotate:Hr,rotateX:Hr,rotateY:Hr,rotateZ:Hr,scale:xd,scaleX:xd,scaleY:xd,scaleZ:xd,skew:Hr,skewX:Hr,skewY:Hr,distance:vt,translateX:vt,translateY:vt,translateZ:vt,x:vt,y:vt,z:vt,perspective:vt,transformPerspective:vt,opacity:ch,originX:Sw,originY:Sw,originZ:vt},Pv={borderWidth:vt,borderTopWidth:vt,borderRightWidth:vt,borderBottomWidth:vt,borderLeftWidth:vt,borderRadius:vt,borderTopLeftRadius:vt,borderTopRightRadius:vt,borderBottomRightRadius:vt,borderBottomLeftRadius:vt,width:vt,maxWidth:vt,height:vt,maxHeight:vt,top:vt,right:vt,bottom:vt,left:vt,inset:vt,insetBlock:vt,insetBlockStart:vt,insetBlockEnd:vt,insetInline:vt,insetInlineStart:vt,insetInlineEnd:vt,padding:vt,paddingTop:vt,paddingRight:vt,paddingBottom:vt,paddingLeft:vt,paddingBlock:vt,paddingBlockStart:vt,paddingBlockEnd:vt,paddingInline:vt,paddingInlineStart:vt,paddingInlineEnd:vt,margin:vt,marginTop:vt,marginRight:vt,marginBottom:vt,marginLeft:vt,marginBlock:vt,marginBlockStart:vt,marginBlockEnd:vt,marginInline:vt,marginInlineStart:vt,marginInlineEnd:vt,fontSize:vt,backgroundPositionX:vt,backgroundPositionY:vt,...xU,zIndex:jw,fillOpacity:ch,strokeOpacity:ch,numOctaves:jw},TU={...Pv,color:qe,backgroundColor:qe,outlineColor:qe,fill:qe,stroke:qe,borderColor:qe,borderTopColor:qe,borderRightColor:qe,borderBottomColor:qe,borderLeftColor:qe,filter:J0,WebkitFilter:J0,mask:t_,WebkitMask:t_},nI=n=>TU[n],EU=new Set([J0,t_]);function iI(n,t){let e=nI(n);return EU.has(e)||(e=Ui),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const wU=new Set(["auto","none","0"]);function SU(n,t,e){let i=0,r;for(;i<n.length&&!r;){const o=n[i];typeof o=="string"&&!wU.has(o)&&uh(o).values.length&&(r=n[i]),i++}if(r&&e)for(const o of t)n[o]=iI(e,r)}class AU extends Iv{constructor(t,e,i,r,o){super(t,e,i,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let g=0;g<t.length;g++){let _=t[g];if(typeof _=="string"&&(_=_.trim(),Tv(_))){const v=$k(_,e.current);v!==void 0&&(t[g]=v),g===t.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!Xk.has(i)||t.length!==2)return;const[r,o]=t,l=zw(r),u=zw(o),f=ww(r),d=ww(o);if(f!==d&&Xr[i]){this.needsMeasurement=!0;return}if(l!==u)if(Nw(l)&&Nw(u))for(let g=0;g<t.length;g++){const _=t[g];typeof _=="string"&&(t[g]=parseFloat(_))}else Xr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let r=0;r<t.length;r++)(t[r]===null||yU(t[r]))&&i.push(r);i.length&&SU(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xr[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const r=e[e.length-1];r!==void 0&&t.getValue(i,r).jump(r,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(e);r&&r.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Xr[e](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,f])=>{t.getValue(u).set(f)}),this.resolveNoneKeyframes()}}const CU=new Set(["opacity","clipPath","filter","transform"]);function sI(n,t,e){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const r=e?.[n]??i.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n).filter(i=>i!=null)}const rI=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function e_(n){return fk(n)&&"offsetHeight"in n}const{schedule:Vv}=Ak(queueMicrotask,!1),Mi={x:!1,y:!1};function aI(){return Mi.x||Mi.y}function RU(n){return n==="x"||n==="y"?Mi[n]?null:(Mi[n]=!0,()=>{Mi[n]=!1}):Mi.x||Mi.y?null:(Mi.x=Mi.y=!0,()=>{Mi.x=Mi.y=!1})}function oI(n,t){const e=sI(n),i=new AbortController,r={passive:!0,...t,signal:i.signal};return[e,r,()=>i.abort()]}function kU(n){return!(n.pointerType==="touch"||aI())}function IU(n,t,e={}){const[i,r,o]=oI(n,e);return i.forEach(l=>{let u=!1,f=!1,d;const g=()=>{l.removeEventListener("pointerleave",S)},_=k=>{d&&(d(k),d=void 0),g()},v=k=>{u=!1,window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",v),f&&(f=!1,_(k))},T=()=>{u=!0,window.addEventListener("pointerup",v,r),window.addEventListener("pointercancel",v,r)},S=k=>{if(k.pointerType!=="touch"){if(u){f=!0;return}_(k)}},R=k=>{if(!kU(k))return;f=!1;const P=t(l,k);typeof P=="function"&&(d=P,l.addEventListener("pointerleave",S,r))};l.addEventListener("pointerenter",R,r),l.addEventListener("pointerdown",T,r)}),o}const lI=(n,t)=>t?n===t?!0:lI(n,t.parentElement):!1,Lv=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,DU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function MU(n){return DU.has(n.tagName)||n.isContentEditable===!0}const NU=new Set(["INPUT","SELECT","TEXTAREA"]);function OU(n){return NU.has(n.tagName)||n.isContentEditable===!0}const $d=new WeakSet;function Uw(n){return t=>{t.key==="Enter"&&n(t)}}function jy(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const PU=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=Uw(()=>{if($d.has(e))return;jy(e,"down");const r=Uw(()=>{jy(e,"up")}),o=()=>jy(e,"cancel");e.addEventListener("keyup",r,t),e.addEventListener("blur",o,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function Bw(n){return Lv(n)&&!aI()}const Fw=new WeakSet;function VU(n,t,e={}){const[i,r,o]=oI(n,e),l=u=>{const f=u.currentTarget;if(!Bw(u)||Fw.has(u))return;$d.add(f),e.stopPropagation&&Fw.add(u);const d=t(f,u),g=(T,S)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",v),$d.has(f)&&$d.delete(f),Bw(T)&&typeof d=="function"&&d(T,{success:S})},_=T=>{g(T,f===window||f===document||e.useGlobalTarget||lI(f,T.target))},v=T=>{g(T,!1)};window.addEventListener("pointerup",_,r),window.addEventListener("pointercancel",v,r)};return i.forEach(u=>{(e.useGlobalTarget?window:u).addEventListener("pointerdown",l,r),e_(u)&&(u.addEventListener("focus",d=>PU(d,r)),!MU(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function zv(n){return fk(n)&&"ownerSVGElement"in n}const Wd=new WeakMap;let Xd;const cI=(n,t,e)=>(i,r)=>r&&r[0]?r[0][n+"Size"]:zv(i)&&"getBBox"in i?i.getBBox()[t]:i[e],LU=cI("inline","width","offsetWidth"),zU=cI("block","height","offsetHeight");function jU({target:n,borderBoxSize:t}){Wd.get(n)?.forEach(e=>{e(n,{get width(){return LU(n,t)},get height(){return zU(n,t)}})})}function UU(n){n.forEach(jU)}function BU(){typeof ResizeObserver>"u"||(Xd=new ResizeObserver(UU))}function FU(n,t){Xd||BU();const e=sI(n);return e.forEach(i=>{let r=Wd.get(i);r||(r=new Set,Wd.set(i,r)),r.add(t),Xd?.observe(i)}),()=>{e.forEach(i=>{const r=Wd.get(i);r?.delete(t),r?.size||Xd?.unobserve(i)})}}const Qd=new Set;let Rl;function HU(){Rl=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};Qd.forEach(t=>t(n))},window.addEventListener("resize",Rl)}function qU(n){return Qd.add(n),Rl||HU(),()=>{Qd.delete(n),!Qd.size&&typeof Rl=="function"&&(window.removeEventListener("resize",Rl),Rl=void 0)}}function Hw(n,t){return typeof n=="function"?qU(n):FU(n,t)}function GU(n){return zv(n)&&n.tagName==="svg"}const KU=[...eI,qe,Ui],YU=n=>KU.find(tI(n)),qw=()=>({translate:0,scale:1,origin:0,originPoint:0}),kl=()=>({x:qw(),y:qw()}),Gw=()=>({min:0,max:0}),Xe=()=>({x:Gw(),y:Gw()}),$U=new WeakMap;function cp(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function hh(n){return typeof n=="string"||Array.isArray(n)}const jv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Uv=["initial",...jv];function up(n){return cp(n.animate)||Uv.some(t=>hh(n[t]))}function uI(n){return!!(up(n)||n.variants)}function WU(n,t,e){for(const i in t){const r=t[i],o=e[i];if(bn(r))n.addValue(i,r);else if(bn(o))n.addValue(i,Xl(r,{owner:n}));else if(o!==r)if(n.hasValue(i)){const l=n.getValue(i);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=n.getStaticValue(i);n.addValue(i,Xl(l!==void 0?l:r,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const n_={current:null},hI={current:!1},XU=typeof window<"u";function QU(){if(hI.current=!0,!!XU)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>n_.current=n.matches;n.addEventListener("change",t),t()}else n_.current=!1}const Kw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Rm={};function fI(n){Rm=n}function ZU(){return Rm}class JU{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:r,skipAnimations:o,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Iv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Rn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,me.render(this.render,!1,!0))};const{latestValues:d,renderState:g}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=e.initial?{...d}:{},this.renderState=g,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.skipAnimationsConfig=o,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=up(e),this.isVariantNode=uI(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:_,...v}=this.scrapeMotionValuesFromProps(e,{},this);for(const T in v){const S=v[T];d[T]!==void 0&&bn(S)&&S.set(d[T])}}mount(t){if(this.hasBeenMounted)for(const e in this.initialValues)this.values.get(e)?.jump(this.initialValues[e]),this.latestValues[e]=this.initialValues[e];this.current=t,$U.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(hI.current||QU(),this.shouldReduceMotion=n_.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),ga(this.notifyUpdate),ga(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),e.accelerate&&CU.has(t)&&this.current instanceof HTMLElement){const{factory:l,keyframes:u,times:f,ease:d,duration:g}=e.accelerate,_=new Gk({element:this.current,name:t,keyframes:u,times:f,ease:d,duration:ji(g)}),v=l(_);this.valueSubscriptions.set(t,()=>{v(),_.cancel()});return}const i=uc.has(t);i&&this.onBindTransform&&this.onBindTransform();const r=e.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&me.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{r(),o&&o(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Rm){const e=Rm[t];if(!e)continue;const{isEnabled:i,Feature:r}=e;if(!this.features[t]&&r&&i(this.props)&&(this.features[t]=new r(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<Kw.length;i++){const r=Kw[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,l=t[o];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=WU(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=Xl(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(hk(i)||dk(i))?i=parseFloat(i):!YU(i)&&Ui.test(e)&&(i=iI(t,e)),this.setBaseTarget(t,bn(i)?i.get():i)),bn(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const o=Nv(this.props,e,this.presenceContext?.custom);o&&(i=o[t])}if(e&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!bn(r)?r:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new vv),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Vv.render(this.render)}}class dI extends JU{constructor(){super(...arguments),this.KeyframeResolver=AU}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const i=t.style;return i?i[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;bn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class Ea{constructor(t){this.isMounted=!1,this.node=t}update(){}}function mI({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function tB({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function eB(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}function Uy(n){return n===void 0||n===1}function i_({scale:n,scaleX:t,scaleY:e}){return!Uy(n)||!Uy(t)||!Uy(e)}function oo(n){return i_(n)||pI(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function pI(n){return Yw(n.x)||Yw(n.y)}function Yw(n){return n&&n!=="0%"}function km(n,t,e){const i=n-e,r=t*i;return e+r}function $w(n,t,e,i,r){return r!==void 0&&(n=km(n,r,i)),km(n,e,i)+t}function s_(n,t=0,e=1,i,r){n.min=$w(n.min,t,e,i,r),n.max=$w(n.max,t,e,i,r)}function gI(n,{x:t,y:e}){s_(n.x,t.translate,t.scale,t.originPoint),s_(n.y,e.translate,e.scale,e.originPoint)}const Ww=.999999999999,Xw=1.0000000000001;function nB(n,t,e,i=!1){const r=e.length;if(!r)return;t.x=t.y=1;let o,l;for(let u=0;u<r;u++){o=e[u],l=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Dl(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,gI(n,l)),i&&oo(o.latestValues)&&Dl(n,o.latestValues))}t.x<Xw&&t.x>Ww&&(t.x=1),t.y<Xw&&t.y>Ww&&(t.y=1)}function Il(n,t){n.min=n.min+t,n.max=n.max+t}function Qw(n,t,e,i,r=.5){const o=xe(n.min,n.max,r);s_(n,t,e,o,i)}function Dl(n,t){Qw(n.x,t.x,t.scaleX,t.scale,t.originX),Qw(n.y,t.y,t.scaleY,t.scale,t.originY)}function yI(n,t){return mI(eB(n.getBoundingClientRect(),t))}function iB(n,t,e){const i=yI(n,e),{scroll:r}=t;return r&&(Il(i.x,r.offset.x),Il(i.y,r.offset.y)),i}const sB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rB=cc.length;function aB(n,t,e){let i="",r=!0;for(let o=0;o<rB;o++){const l=cc[o],u=n[l];if(u===void 0)continue;let f=!0;if(typeof u=="number")f=u===(l.startsWith("scale")?1:0);else{const d=parseFloat(u);f=l.startsWith("scale")?d===1:d===0}if(!f||e){const d=rI(u,Pv[l]);if(!f){r=!1;const g=sB[l]||l;i+=`${g}(${d}) `}e&&(t[l]=d)}}return i=i.trim(),e?i=e(t,r?"":i):r&&(i="none"),i}function Bv(n,t,e){const{style:i,vars:r,transformOrigin:o}=n;let l=!1,u=!1;for(const f in t){const d=t[f];if(uc.has(f)){l=!0;continue}else if(Rk(f)){r[f]=d;continue}else{const g=rI(d,Pv[f]);f.startsWith("origin")?(u=!0,o[f]=g):i[f]=g}}if(t.transform||(l||e?i.transform=aB(t,n.transform,e):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:d="50%",originZ:g=0}=o;i.transformOrigin=`${f} ${d} ${g}`}}function _I(n,{style:t,vars:e},i,r){const o=n.style;let l;for(l in t)o[l]=t[l];r?.applyProjectionStyles(o,i);for(l in e)o.setProperty(l,e[l])}function Zw(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Tu={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(vt.test(n))n=parseFloat(n);else return n;const e=Zw(n,t.target.x),i=Zw(n,t.target.y);return`${e}% ${i}%`}},oB={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,r=Ui.parse(n);if(r.length>5)return i;const o=Ui.createTransformer(n),l=typeof r[0]!="number"?1:0,u=e.x.scale*t.x,f=e.y.scale*t.y;r[0+l]/=u,r[1+l]/=f;const d=xe(u,f,.5);return typeof r[2+l]=="number"&&(r[2+l]/=d),typeof r[3+l]=="number"&&(r[3+l]/=d),o(r)}},r_={borderRadius:{...Tu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tu,borderTopRightRadius:Tu,borderBottomLeftRadius:Tu,borderBottomRightRadius:Tu,boxShadow:oB};function vI(n,{layout:t,layoutId:e}){return uc.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!r_[n]||n==="opacity")}function Fv(n,t,e){const i=n.style,r=t?.style,o={};if(!i)return o;for(const l in i)(bn(i[l])||r&&bn(r[l])||vI(l,n)||e?.getValue(l)?.liveStyle!==void 0)&&(o[l]=i[l]);return o}function lB(n){return window.getComputedStyle(n)}class cB extends dI{constructor(){super(...arguments),this.type="html",this.renderInstance=_I}readValueFromInstance(t,e){if(uc.has(e))return this.projection?.isProjecting?q0(e):R9(t,e);{const i=lB(t),r=(Rk(e)?i.getPropertyValue(e):i[e])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:e}){return yI(t,e)}build(t,e,i){Bv(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return Fv(t,e,i)}}const uB={offset:"stroke-dashoffset",array:"stroke-dasharray"},hB={offset:"strokeDashoffset",array:"strokeDasharray"};function fB(n,t,e=1,i=0,r=!0){n.pathLength=1;const o=r?uB:hB;n[o.offset]=`${-i}`,n[o.array]=`${t} ${e}`}const dB=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function bI(n,{attrX:t,attrY:e,attrScale:i,pathLength:r,pathSpacing:o=1,pathOffset:l=0,...u},f,d,g){if(Bv(n,u,d),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:v}=n;_.transform&&(v.transform=_.transform,delete _.transform),(v.transform||_.transformOrigin)&&(v.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),v.transform&&(v.transformBox=g?.transformBox??"fill-box",delete _.transformBox);for(const T of dB)_[T]!==void 0&&(v[T]=_[T],delete _[T]);t!==void 0&&(_.x=t),e!==void 0&&(_.y=e),i!==void 0&&(_.scale=i),r!==void 0&&fB(_,r,o,l,!1)}const xI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),TI=n=>typeof n=="string"&&n.toLowerCase()==="svg";function mB(n,t,e,i){_I(n,t,void 0,i);for(const r in t.attrs)n.setAttribute(xI.has(r)?r:Ov(r),t.attrs[r])}function EI(n,t,e){const i=Fv(n,t,e);for(const r in n)if(bn(n[r])||bn(t[r])){const o=cc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[o]=n[r]}return i}class pB extends dI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xe}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(uc.has(e)){const i=nI(e);return i&&i.default||0}return e=xI.has(e)?e:Ov(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return EI(t,e,i)}build(t,e,i){bI(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,r){mB(t,e,i,r)}mount(t){this.isSVGTag=TI(t.tagName),super.mount(t)}}const gB=Uv.length;function wI(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?wI(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<gB;e++){const i=Uv[e],r=n.props[i];(hh(r)||r===!1)&&(t[i]=r)}return t}function SI(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const yB=[...jv].reverse(),_B=jv.length;function vB(n){return t=>Promise.all(t.map(({animation:e,options:i})=>pU(n,e,i)))}function bB(n){let t=vB(n),e=Jw(),i=!0;const r=f=>(d,g)=>{const _=jl(n,g,f==="exit"?n.presenceContext?.custom:void 0);if(_){const{transition:v,transitionEnd:T,...S}=_;d={...d,...S,...T}}return d};function o(f){t=f(n)}function l(f){const{props:d}=n,g=wI(n.parent)||{},_=[],v=new Set;let T={},S=1/0;for(let k=0;k<_B;k++){const P=yB[k],B=e[P],F=d[P]!==void 0?d[P]:g[P],Q=hh(F),W=P===f?B.isActive:null;W===!1&&(S=k);let it=F===g[P]&&F!==d[P]&&Q;if(it&&i&&n.manuallyAnimateOnMount&&(it=!1),B.protectedKeys={...T},!B.isActive&&W===null||!F&&!B.prevProp||cp(F)||typeof F=="boolean")continue;if(P==="exit"&&B.isActive&&W!==!0){B.prevResolvedValues&&(T={...T,...B.prevResolvedValues});continue}const M=xB(B.prevProp,F);let w=M||P===f&&B.isActive&&!it&&Q||k>S&&Q,D=!1;const V=Array.isArray(F)?F:[F];let O=V.reduce(r(P),{});W===!1&&(O={});const{prevResolvedValues:z={}}=B,N={...z,...O},Nt=rt=>{w=!0,v.has(rt)&&(D=!0,v.delete(rt)),B.needsAnimating[rt]=!0;const ft=n.getValue(rt);ft&&(ft.liveStyle=!1)};for(const rt in N){const ft=O[rt],At=z[rt];if(T.hasOwnProperty(rt))continue;let lt=!1;X0(ft)&&X0(At)?lt=!SI(ft,At):lt=ft!==At,lt?ft!=null?Nt(rt):v.add(rt):ft!==void 0&&v.has(rt)?Nt(rt):B.protectedKeys[rt]=!0}B.prevProp=F,B.prevResolvedValues=O,B.isActive&&(T={...T,...O}),i&&n.blockInitialAnimation&&(w=!1);const wt=it&&M;w&&(!wt||D)&&_.push(...V.map(rt=>{const ft={type:P};if(typeof rt=="string"&&i&&!wt&&n.manuallyAnimateOnMount&&n.parent){const{parent:At}=n,lt=jl(At,rt);if(At.enteringChildren&&lt){const{delayChildren:j}=lt.transition||{};ft.delay=Yk(At.enteringChildren,n,j)}}return{animation:rt,options:ft}}))}if(v.size){const k={};if(typeof d.initial!="boolean"){const P=jl(n,Array.isArray(d.initial)?d.initial[0]:d.initial);P&&P.transition&&(k.transition=P.transition)}v.forEach(P=>{const B=n.getBaseTarget(P),F=n.getValue(P);F&&(F.liveStyle=!0),k[P]=B??null}),_.push({animation:k})}let R=!!_.length;return i&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(R=!1),i=!1,R?t(_):Promise.resolve()}function u(f,d){if(e[f].isActive===d)return Promise.resolve();n.variantChildren?.forEach(_=>_.animationState?.setActive(f,d)),e[f].isActive=d;const g=l(f);for(const _ in e)e[_].protectedKeys={};return g}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>e,reset:()=>{e=Jw()}}}function xB(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!SI(t,n):!1}function eo(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Jw(){return{animate:eo(!0),whileInView:eo(),whileHover:eo(),whileTap:eo(),whileDrag:eo(),whileFocus:eo(),exit:eo()}}function tS(n,t){n.min=t.min,n.max=t.max}function Di(n,t){tS(n.x,t.x),tS(n.y,t.y)}function eS(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const AI=1e-4,TB=1-AI,EB=1+AI,CI=.01,wB=0-CI,SB=0+CI;function kn(n){return n.max-n.min}function AB(n,t,e){return Math.abs(n-t)<=e}function nS(n,t,e,i=.5){n.origin=i,n.originPoint=xe(t.min,t.max,n.origin),n.scale=kn(e)/kn(t),n.translate=xe(e.min,e.max,n.origin)-n.originPoint,(n.scale>=TB&&n.scale<=EB||isNaN(n.scale))&&(n.scale=1),(n.translate>=wB&&n.translate<=SB||isNaN(n.translate))&&(n.translate=0)}function Ku(n,t,e,i){nS(n.x,t.x,e.x,i?i.originX:void 0),nS(n.y,t.y,e.y,i?i.originY:void 0)}function iS(n,t,e){n.min=e.min+t.min,n.max=n.min+kn(t)}function CB(n,t,e){iS(n.x,t.x,e.x),iS(n.y,t.y,e.y)}function sS(n,t,e){n.min=t.min-e.min,n.max=n.min+kn(t)}function Im(n,t,e){sS(n.x,t.x,e.x),sS(n.y,t.y,e.y)}function rS(n,t,e,i,r){return n-=t,n=km(n,1/e,i),r!==void 0&&(n=km(n,1/r,i)),n}function RB(n,t=0,e=1,i=.5,r,o=n,l=n){if(ws.test(t)&&(t=parseFloat(t),t=xe(l.min,l.max,t/100)-l.min),typeof t!="number")return;let u=xe(o.min,o.max,i);n===o&&(u-=t),n.min=rS(n.min,t,e,u,r),n.max=rS(n.max,t,e,u,r)}function aS(n,t,[e,i,r],o,l){RB(n,t[e],t[i],t[r],t.scale,o,l)}const kB=["x","scaleX","originX"],IB=["y","scaleY","originY"];function oS(n,t,e,i){aS(n.x,t,kB,e?e.x:void 0,i?i.x:void 0),aS(n.y,t,IB,e?e.y:void 0,i?i.y:void 0)}function lS(n){return n.translate===0&&n.scale===1}function RI(n){return lS(n.x)&&lS(n.y)}function cS(n,t){return n.min===t.min&&n.max===t.max}function DB(n,t){return cS(n.x,t.x)&&cS(n.y,t.y)}function uS(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function kI(n,t){return uS(n.x,t.x)&&uS(n.y,t.y)}function hS(n){return kn(n.x)/kn(n.y)}function fS(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function ms(n){return[n("x"),n("y")]}function MB(n,t,e){let i="";const r=n.x.translate/t.x,o=n.y.translate/t.y,l=e?.z||0;if((r||o||l)&&(i=`translate3d(${r}px, ${o}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:d,rotate:g,rotateX:_,rotateY:v,skewX:T,skewY:S}=e;d&&(i=`perspective(${d}px) ${i}`),g&&(i+=`rotate(${g}deg) `),_&&(i+=`rotateX(${_}deg) `),v&&(i+=`rotateY(${v}deg) `),T&&(i+=`skewX(${T}deg) `),S&&(i+=`skewY(${S}deg) `)}const u=n.x.scale*t.x,f=n.y.scale*t.y;return(u!==1||f!==1)&&(i+=`scale(${u}, ${f})`),i||"none"}const II=["TopLeft","TopRight","BottomLeft","BottomRight"],NB=II.length,dS=n=>typeof n=="string"?parseFloat(n):n,mS=n=>typeof n=="number"||vt.test(n);function OB(n,t,e,i,r,o){r?(n.opacity=xe(0,e.opacity??1,PB(i)),n.opacityExit=xe(t.opacity??1,0,VB(i))):o&&(n.opacity=xe(t.opacity??1,e.opacity??1,i));for(let l=0;l<NB;l++){const u=`border${II[l]}Radius`;let f=pS(t,u),d=pS(e,u);if(f===void 0&&d===void 0)continue;f||(f=0),d||(d=0),f===0||d===0||mS(f)===mS(d)?(n[u]=Math.max(xe(dS(f),dS(d),i),0),(ws.test(d)||ws.test(f))&&(n[u]+="%")):n[u]=d}(t.rotate||e.rotate)&&(n.rotate=xe(t.rotate||0,e.rotate||0,i))}function pS(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const PB=DI(0,.5,Tk),VB=DI(.5,.95,mi);function DI(n,t,e){return i=>i<n?0:i>t?1:e(lh(n,t,i))}function LB(n,t,e){const i=bn(n)?n:Xl(n);return i.start(Mv("",i,t,e)),i.animation}function fh(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}const zB=(n,t)=>n.depth-t.depth;class jB{constructor(){this.children=[],this.isDirty=!1}add(t){yv(this.children,t),this.isDirty=!0}remove(t){wm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(zB),this.isDirty=!1,this.children.forEach(t)}}function UB(n,t){const e=Rn.now(),i=({timestamp:r})=>{const o=r-e;o>=t&&(ga(i),n(o-t))};return me.setup(i,!0),()=>ga(i)}function Zd(n){return bn(n)?n.get():n}class BB{constructor(){this.members=[]}add(t){yv(this.members,t);for(let e=this.members.length-1;e>=0;e--){const i=this.members[e];if(i===t||i===this.lead||i===this.prevLead)continue;const r=i.instance;r&&r.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&wm(this.members,i)}t.scheduleRender()}remove(t){if(wm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(r=>t===r);if(e===0)return!1;let i;for(let r=e;r>=0;r--){const o=this.members[r],l=o.instance;if(o.isPresent!==!1&&(!l||l.isConnected!==!1)){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender();const r=i.options.layoutDependency,o=t.options.layoutDependency;if(!(r!==void 0&&o!==void 0&&r===o)){const f=i.instance;f&&f.isConnected===!1&&!i.snapshot||(t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:u}=t.options;u===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Jd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},By=["","X","Y","Z"],FB=1e3;let HB=0;function Fy(n,t,e,i){const{latestValues:r}=t;r[n]&&(e[n]=r[n],t.setStaticValue(n,0),i&&(i[n]=0))}function MI(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=Zk(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:r,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",me,!(r||o))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&MI(i)}function NI({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(l={},u=t?.()){this.id=HB++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(KB),this.nodes.forEach(XB),this.nodes.forEach(QB),this.nodes.forEach(YB)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new jB)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new vv),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const f=this.eventHandlers.get(l);f&&f.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=zv(l)&&!GU(l),this.instance=l;const{layoutId:u,layout:f,visualElement:d}=this.options;if(d&&!d.current&&d.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||u)&&(this.isLayoutDirty=!0),n){let g,_=0;const v=()=>this.root.updateBlockedByResize=!1;me.read(()=>{_=window.innerWidth}),n(l,()=>{const T=window.innerWidth;T!==_&&(_=T,this.root.updateBlockedByResize=!0,g&&g(),g=UB(v,250),Jd.hasAnimatedSinceResize&&(Jd.hasAnimatedSinceResize=!1,this.nodes.forEach(_S)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:_,hasRelativeLayoutChanged:v,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||d.getDefaultTransition()||nF,{onLayoutAnimationStart:R,onLayoutAnimationComplete:k}=d.getProps(),P=!this.targetLayout||!kI(this.targetLayout,T),B=!_&&v;if(this.options.layoutRoot||this.resumeFrom||B||_&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...Dv(S,"layout"),onPlay:R,onComplete:k};(d.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(g,B)}else _||_S(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ga(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZB),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&MI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(yS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(WB),this.nodes.forEach(qB),this.nodes.forEach(GB)):this.nodes.forEach(yS),this.clearAllSnapshots();const u=Rn.now();hn.delta=As(0,1e3/60,u-hn.timestamp),hn.timestamp=u,hn.isProcessing=!0,Ny.update.process(hn),Ny.preRender.process(hn),Ny.render.process(hn),hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($B),this.sharedNodes.forEach(JB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kn(this.snapshot.measuredBox.x)&&!kn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Xe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!RI(this.projectionDelta),f=this.getTransformTemplate(),d=f?f(this.latestValues,""):void 0,g=d!==this.prevTransformTemplateValue;l&&this.instance&&(u||oo(this.latestValues)||g)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return l&&(f=this.removeTransform(f)),iF(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Xe();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(sF))){const{scroll:d}=this.root;d&&(Il(u.x,d.offset.x),Il(u.y,d.offset.y))}return u}removeElementScroll(l){const u=Xe();if(Di(u,l),this.scroll?.wasRoot)return u;for(let f=0;f<this.path.length;f++){const d=this.path[f],{scroll:g,options:_}=d;d!==this.root&&g&&_.layoutScroll&&(g.wasRoot&&Di(u,l),Il(u.x,g.offset.x),Il(u.y,g.offset.y))}return u}applyTransform(l,u=!1){const f=Xe();Di(f,l);for(let d=0;d<this.path.length;d++){const g=this.path[d];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Dl(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),oo(g.latestValues)&&Dl(f,g.latestValues)}return oo(this.latestValues)&&Dl(f,this.latestValues),f}removeTransform(l){const u=Xe();Di(u,l);for(let f=0;f<this.path.length;f++){const d=this.path[f];if(!d.instance||!oo(d.latestValues))continue;i_(d.latestValues)&&d.updateSnapshot();const g=Xe(),_=d.measurePageBox();Di(g,_),oS(u,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,g)}return oo(this.latestValues)&&oS(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:_}=this.options;if(!this.layout||!(g||_))return;this.resolvedRelativeTargetAt=hn.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Xe(),this.targetWithTransforms=Xe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),CB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Di(this.target,this.layout.layoutBox),gI(this.target,this.targetDelta)):Di(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||i_(this.parent.latestValues)||pI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,u,f){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xe(),this.relativeTargetOrigin=Xe(),Im(this.relativeTargetOrigin,u,f),Di(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===hn.timestamp&&(f=!1),f)return;const{layout:d,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||g))return;Di(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,v=this.treeScale.y;nB(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Xe());const{target:T}=l;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(eS(this.prevProjectionDelta.x,this.projectionDelta.x),eS(this.prevProjectionDelta.y,this.projectionDelta.y)),Ku(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==v||!fS(this.projectionDelta.x,this.prevProjectionDelta.x)||!fS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=kl(),this.projectionDelta=kl(),this.projectionDeltaWithTransform=kl()}setAnimationOrigin(l,u=!1){const f=this.snapshot,d=f?f.latestValues:{},g={...this.latestValues},_=kl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=Xe(),T=f?f.source:void 0,S=this.layout?this.layout.source:void 0,R=T!==S,k=this.getStack(),P=!k||k.members.length<=1,B=!!(R&&!P&&this.options.crossfade===!0&&!this.path.some(eF));this.animationProgress=0;let F;this.mixTargetDelta=Q=>{const W=Q/1e3;vS(_.x,l.x,W),vS(_.y,l.y,W),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Im(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tF(this.relativeTarget,this.relativeTargetOrigin,v,W),F&&DB(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Xe()),Di(F,this.relativeTarget)),R&&(this.animationValues=g,OB(g,d,this.latestValues,W,B,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ga(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=me.update(()=>{Jd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xl(0)),this.motionValue.jump(0,!1),this.currentAnimation=LB(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(FB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:f,layout:d,latestValues:g}=l;if(!(!u||!f||!d)){if(this!==l&&this.layout&&d&&OI(this.options.animationType,this.layout.layoutBox,d.layoutBox)){f=this.target||Xe();const _=kn(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+_;const v=kn(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+v}Di(u,f),Dl(u,g),Ku(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new BB),this.sharedNodes.get(l).add(u);const d=u.options.initialPromotionConfig;u.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:f}={}){const d=this.getStack();d&&d.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const d={};f.z&&Fy("z",l,d,this.animationValues);for(let g=0;g<By.length;g++)Fy(`rotate${By[g]}`,l,d,this.animationValues),Fy(`skew${By[g]}`,l,d,this.animationValues);l.render();for(const g in d)l.setStaticValue(g,d[g]),this.animationValues&&(this.animationValues[g]=d[g]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Zd(u?.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Zd(u?.pointerEvents)||""),this.hasProjected&&!oo(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=d.animationValues||d.latestValues;this.applyTransformsToTarget();let _=MB(this.projectionDeltaWithTransform,this.treeScale,g);f&&(_=f(g,_)),l.transform=_;const{x:v,y:T}=this.projectionDelta;l.transformOrigin=`${v.origin*100}% ${T.origin*100}% 0`,d.animationValues?l.opacity=d===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=d===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const S in r_){if(g[S]===void 0)continue;const{correct:R,applyTo:k,isCSSVariable:P}=r_[S],B=_==="none"?g[S]:R(g[S],d);if(k){const F=k.length;for(let Q=0;Q<F;Q++)l[k[Q]]=B}else P?this.options.visualElement.renderState.vars[S]=B:l[S]=B}this.options.layoutId&&(l.pointerEvents=d===this?Zd(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(gS),this.root.sharedNodes.clear()}}}function qB(n){n.updateLayout()}function GB(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:i}=n.layout,{animationType:r}=n.options,o=t.source!==n.layout.source;r==="size"?ms(g=>{const _=o?t.measuredBox[g]:t.layoutBox[g],v=kn(_);_.min=e[g].min,_.max=_.min+v}):OI(r,t.layoutBox,e)&&ms(g=>{const _=o?t.measuredBox[g]:t.layoutBox[g],v=kn(e[g]);_.max=_.min+v,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+v)});const l=kl();Ku(l,e,t.layoutBox);const u=kl();o?Ku(u,n.applyTransform(i,!0),t.measuredBox):Ku(u,e,t.layoutBox);const f=!RI(l);let d=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:_,layout:v}=g;if(_&&v){const T=Xe();Im(T,t.layoutBox,_.layoutBox);const S=Xe();Im(S,e,v.layoutBox),kI(T,S)||(d=!0),g.options.layoutRoot&&(n.relativeTarget=S,n.relativeTargetOrigin=T,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:u,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:d})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function KB(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function YB(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function $B(n){n.clearSnapshot()}function gS(n){n.clearMeasurements()}function yS(n){n.isLayoutDirty=!1}function WB(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function _S(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function XB(n){n.resolveTargetDelta()}function QB(n){n.calcProjection()}function ZB(n){n.resetSkewAndRotation()}function JB(n){n.removeLeadSnapshot()}function vS(n,t,e){n.translate=xe(t.translate,0,e),n.scale=xe(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function bS(n,t,e,i){n.min=xe(t.min,e.min,i),n.max=xe(t.max,e.max,i)}function tF(n,t,e,i){bS(n.x,t.x,e.x,i),bS(n.y,t.y,e.y,i)}function eF(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const nF={duration:.45,ease:[.4,0,.1,1]},xS=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),TS=xS("applewebkit/")&&!xS("chrome/")?Math.round:mi;function ES(n){n.min=TS(n.min),n.max=TS(n.max)}function iF(n){ES(n.x),ES(n.y)}function OI(n,t,e){return n==="position"||n==="preserve-aspect"&&!AB(hS(t),hS(e),.2)}function sF(n){return n!==n.root&&n.scroll?.wasRoot}const rF=NI({attachResizeListener:(n,t)=>fh(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Hy={current:void 0},PI=NI({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Hy.current){const n=new rF({});n.mount(window),n.setOptions({layoutScroll:!0}),Hy.current=n}return Hy.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Hv=Z.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function wS(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function aF(...n){return t=>{let e=!1;const i=n.map(r=>{const o=wS(r,t);return!e&&typeof o=="function"&&(e=!0),o});if(e)return()=>{for(let r=0;r<i.length;r++){const o=i[r];typeof o=="function"?o():wS(n[r],null)}}}}function oF(...n){return Z.useCallback(aF(...n),n)}class lF extends Z.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=e.offsetParent,r=e_(i)&&i.offsetWidth||0,o=e_(i)&&i.offsetHeight||0,l=this.props.sizeRef.current;l.height=e.offsetHeight||0,l.width=e.offsetWidth||0,l.top=e.offsetTop,l.left=e.offsetLeft,l.right=r-l.width-l.left,l.bottom=o-l.height-l.top}return null}componentDidUpdate(){}render(){return this.props.children}}function cF({children:n,isPresent:t,anchorX:e,anchorY:i,root:r,pop:o}){const l=Z.useId(),u=Z.useRef(null),f=Z.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=Z.useContext(Hv),g=n.props?.ref??n?.ref,_=oF(u,g);return Z.useInsertionEffect(()=>{const{width:v,height:T,top:S,left:R,right:k,bottom:P}=f.current;if(t||o===!1||!u.current||!v||!T)return;const B=e==="left"?`left: ${R}`:`right: ${k}`,F=i==="bottom"?`bottom: ${P}`:`top: ${S}`;u.current.dataset.motionPopId=l;const Q=document.createElement("style");d&&(Q.nonce=d);const W=r??document.head;return W.appendChild(Q),Q.sheet&&Q.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${T}px !important;
            ${B}px !important;
            ${F}px !important;
          }
        `),()=>{W.contains(Q)&&W.removeChild(Q)}},[t]),C.jsx(lF,{isPresent:t,childRef:u,sizeRef:f,pop:o,children:o===!1?n:Z.cloneElement(n,{ref:_})})}const uF=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:r,presenceAffectsLayout:o,mode:l,anchorX:u,anchorY:f,root:d})=>{const g=gv(hF),_=Z.useId();let v=!0,T=Z.useMemo(()=>(v=!1,{id:_,initial:t,isPresent:e,custom:r,onExitComplete:S=>{g.set(S,!0);for(const R of g.values())if(!R)return;i&&i()},register:S=>(g.set(S,!1),()=>g.delete(S))}),[e,g,i]);return o&&v&&(T={...T}),Z.useMemo(()=>{g.forEach((S,R)=>g.set(R,!1))},[e]),Z.useEffect(()=>{!e&&!g.size&&i&&i()},[e]),n=C.jsx(cF,{pop:l==="popLayout",isPresent:e,anchorX:u,anchorY:f,root:d,children:n}),C.jsx(lp.Provider,{value:T,children:n})};function hF(){return new Map}function VI(n=!0){const t=Z.useContext(lp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:r}=t,o=Z.useId();Z.useEffect(()=>{if(n)return r(o)},[n]);const l=Z.useCallback(()=>n&&i&&i(o),[o,i,n]);return!e&&i?[!1,l]:[!0]}const Td=n=>n.key||"";function SS(n){const t=[];return Z.Children.forEach(n,e=>{Z.isValidElement(e)&&t.push(e)}),t}const fF=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:o="sync",propagate:l=!1,anchorX:u="left",anchorY:f="top",root:d})=>{const[g,_]=VI(l),v=Z.useMemo(()=>SS(n),[n]),T=l&&!g?[]:v.map(Td),S=Z.useRef(!0),R=Z.useRef(v),k=gv(()=>new Map),P=Z.useRef(new Set),[B,F]=Z.useState(v),[Q,W]=Z.useState(v);uk(()=>{S.current=!1,R.current=v;for(let w=0;w<Q.length;w++){const D=Td(Q[w]);T.includes(D)?(k.delete(D),P.current.delete(D)):k.get(D)!==!0&&k.set(D,!1)}},[Q,T.length,T.join("-")]);const it=[];if(v!==B){let w=[...v];for(let D=0;D<Q.length;D++){const V=Q[D],O=Td(V);T.includes(O)||(w.splice(D,0,V),it.push(V))}return o==="wait"&&it.length&&(w=it),W(SS(w)),F(v),null}const{forceRender:M}=Z.useContext(pv);return C.jsx(C.Fragment,{children:Q.map(w=>{const D=Td(w),V=l&&!g?!1:v===Q||T.includes(D),O=()=>{if(P.current.has(D))return;if(P.current.add(D),k.has(D))k.set(D,!0);else return;let z=!0;k.forEach(N=>{N||(z=!1)}),z&&(M?.(),W(R.current),l&&_?.(),i&&i())};return C.jsx(uF,{isPresent:V,initial:!S.current||e?void 0:!1,custom:t,presenceAffectsLayout:r,mode:o,root:d,onExitComplete:V?void 0:O,anchorX:u,anchorY:f,children:w},D)})})},LI=Z.createContext({strict:!1}),AS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let CS=!1;function dF(){if(CS)return;const n={};for(const t in AS)n[t]={isEnabled:e=>AS[t].some(i=>!!e[i])};fI(n),CS=!0}function zI(){return dF(),ZU()}function mF(n){const t=zI();for(const e in n)t[e]={...t[e],...n[e]};fI(t)}const pF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Dm(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||pF.has(n)}let jI=n=>!Dm(n);function gF(n){typeof n=="function"&&(jI=t=>t.startsWith("on")?!Dm(t):n(t))}try{gF(require("@emotion/is-prop-valid").default)}catch{}function yF(n,t,e){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(jI(r)||e===!0&&Dm(r)||!t&&!Dm(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}const hp=Z.createContext({});function _F(n,t){if(up(n)){const{initial:e,animate:i}=n;return{initial:e===!1||hh(e)?e:void 0,animate:hh(i)?i:void 0}}return n.inherit!==!1?t:{}}function vF(n){const{initial:t,animate:e}=_F(n,Z.useContext(hp));return Z.useMemo(()=>({initial:t,animate:e}),[RS(t),RS(e)])}function RS(n){return Array.isArray(n)?n.join(" "):n}const qv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function UI(n,t,e){for(const i in t)!bn(t[i])&&!vI(i,e)&&(n[i]=t[i])}function bF({transformTemplate:n},t){return Z.useMemo(()=>{const e=qv();return Bv(e,t,n),Object.assign({},e.vars,e.style)},[t])}function xF(n,t){const e=n.style||{},i={};return UI(i,e,n),Object.assign(i,bF(n,t)),i}function TF(n,t){const e={},i=xF(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const BI=()=>({...qv(),attrs:{}});function EF(n,t,e,i){const r=Z.useMemo(()=>{const o=BI();return bI(o,t,TI(i),n.transformTemplate,n.style),{...o.attrs,style:{...o.style}}},[t]);if(n.style){const o={};UI(o,n.style,n),r.style={...o,...r.style}}return r}const wF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gv(n){return typeof n!="string"||n.includes("-")?!1:!!(wF.indexOf(n)>-1||/[A-Z]/u.test(n))}function SF(n,t,e,{latestValues:i},r,o=!1,l){const f=(l??Gv(n)?EF:TF)(t,i,r,n),d=yF(t,typeof n=="string",o),g=n!==Z.Fragment?{...d,...f,ref:e}:{},{children:_}=t,v=Z.useMemo(()=>bn(_)?_.get():_,[_]);return Z.createElement(n,{...g,children:v})}function AF({scrapeMotionValuesFromProps:n,createRenderState:t},e,i,r){return{latestValues:CF(e,i,r,n),renderState:t()}}function CF(n,t,e,i){const r={},o=i(n,{});for(const v in o)r[v]=Zd(o[v]);let{initial:l,animate:u}=n;const f=up(n),d=uI(n);t&&d&&!f&&n.inherit!==!1&&(l===void 0&&(l=t.initial),u===void 0&&(u=t.animate));let g=e?e.initial===!1:!1;g=g||l===!1;const _=g?u:l;if(_&&typeof _!="boolean"&&!cp(_)){const v=Array.isArray(_)?_:[_];for(let T=0;T<v.length;T++){const S=Nv(n,v[T]);if(S){const{transitionEnd:R,transition:k,...P}=S;for(const B in P){let F=P[B];if(Array.isArray(F)){const Q=g?F.length-1:0;F=F[Q]}F!==null&&(r[B]=F)}for(const B in R)r[B]=R[B]}}}return r}const FI=n=>(t,e)=>{const i=Z.useContext(hp),r=Z.useContext(lp),o=()=>AF(n,t,i,r);return e?o():gv(o)},RF=FI({scrapeMotionValuesFromProps:Fv,createRenderState:qv}),kF=FI({scrapeMotionValuesFromProps:EI,createRenderState:BI}),IF=Symbol.for("motionComponentSymbol");function DF(n,t,e){const i=Z.useRef(e);Z.useInsertionEffect(()=>{i.current=e});const r=Z.useRef(null);return Z.useCallback(o=>{o&&n.onMount?.(o),t&&(o?t.mount(o):t.unmount());const l=i.current;if(typeof l=="function")if(o){const u=l(o);typeof u=="function"&&(r.current=u)}else r.current?(r.current(),r.current=null):l(o);else l&&(l.current=o)},[t])}const HI=Z.createContext({});function Sl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function MF(n,t,e,i,r,o){const{visualElement:l}=Z.useContext(hp),u=Z.useContext(LI),f=Z.useContext(lp),d=Z.useContext(Hv),g=d.reducedMotion,_=d.skipAnimations,v=Z.useRef(null),T=Z.useRef(!1);i=i||u.renderer,!v.current&&i&&(v.current=i(n,{visualState:t,parent:l,props:e,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:g,skipAnimations:_,isSVG:o}),T.current&&v.current&&(v.current.manuallyAnimateOnMount=!0));const S=v.current,R=Z.useContext(HI);S&&!S.projection&&r&&(S.type==="html"||S.type==="svg")&&NF(v.current,e,r,R);const k=Z.useRef(!1);Z.useInsertionEffect(()=>{S&&k.current&&S.update(e,f)});const P=e[Qk],B=Z.useRef(!!P&&!window.MotionHandoffIsComplete?.(P)&&window.MotionHasOptimisedAnimation?.(P));return uk(()=>{T.current=!0,S&&(k.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),S.scheduleRenderMicrotask(),B.current&&S.animationState&&S.animationState.animateChanges())}),Z.useEffect(()=>{S&&(!B.current&&S.animationState&&S.animationState.animateChanges(),B.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(P)}),B.current=!1),S.enteringChildren=void 0)}),S}function NF(n,t,e,i){const{layoutId:r,layout:o,drag:l,dragConstraints:u,layoutScroll:f,layoutRoot:d,layoutCrossfade:g}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:qI(n.parent)),n.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!l||u&&Sl(u),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:f,layoutRoot:d})}function qI(n){if(n)return n.options.allowProjection!==!1?n.projection:qI(n.parent)}function qy(n,{forwardMotionProps:t=!1,type:e}={},i,r){i&&mF(i);const o=e?e==="svg":Gv(n),l=o?kF:RF;function u(d,g){let _;const v={...Z.useContext(Hv),...d,layoutId:OF(d)},{isStatic:T}=v,S=vF(d),R=l(d,T);if(!T&&ck){PF();const k=VF(v);_=k.MeasureLayout,S.visualElement=MF(n,R,v,r,k.ProjectionNode,o)}return C.jsxs(hp.Provider,{value:S,children:[_&&S.visualElement?C.jsx(_,{visualElement:S.visualElement,...v}):null,SF(n,d,DF(R,S.visualElement,g),R,T,t,o)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const f=Z.forwardRef(u);return f[IF]=n,f}function OF({layoutId:n}){const t=Z.useContext(pv).id;return t&&n!==void 0?t+"-"+n:n}function PF(n,t){Z.useContext(LI).strict}function VF(n){const t=zI(),{drag:e,layout:i}=t;if(!e&&!i)return{};const r={...e,...i};return{MeasureLayout:e?.isEnabled(n)||i?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function LF(n,t){if(typeof Proxy>"u")return qy;const e=new Map,i=(o,l)=>qy(o,l,n,t),r=(o,l)=>i(o,l);return new Proxy(r,{get:(o,l)=>l==="create"?i:(e.has(l)||e.set(l,qy(l,void 0,n,t)),e.get(l))})}const zF=(n,t)=>t.isSVG??Gv(n)?new pB(t):new cB(t,{allowProjection:n!==Z.Fragment});class jF extends Ea{constructor(t){super(t),t.animationState||(t.animationState=bB(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();cp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let UF=0;class BF extends Ea{constructor(){super(...arguments),this.id=UF++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const r=this.node.animationState.setActive("exit",!t);e&&!t&&r.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const FF={animation:{Feature:jF},exit:{Feature:BF}};function Nh(n){return{point:{x:n.pageX,y:n.pageY}}}const HF=n=>t=>Lv(t)&&n(t,Nh(t));function Yu(n,t,e,i){return fh(n,t,HF(e),i)}const GI=({current:n})=>n?n.ownerDocument.defaultView:null,kS=(n,t)=>Math.abs(n-t);function qF(n,t){const e=kS(n.x,t.x),i=kS(n.y,t.y);return Math.sqrt(e**2+i**2)}const IS=new Set(["auto","scroll"]);class KI{constructor(t,e,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3,element:u}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=T=>{this.handleScroll(T.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Ky(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,R=qF(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!R)return;const{point:k}=T,{timestamp:P}=hn;this.history.push({...k,timestamp:P});const{onStart:B,onMove:F}=this.handlers;S||(B&&B(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,T)},this.handlePointerMove=(T,S)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Gy(S,this.transformPagePoint),me.update(this.updatePoint,!0)},this.handlePointerUp=(T,S)=>{this.end();const{onEnd:R,onSessionEnd:k,resumeAnimation:P}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=Ky(T.type==="pointercancel"?this.lastMoveEventInfo:Gy(S,this.transformPagePoint),this.history);this.startEvent&&R&&R(T,B),k&&k(T,B)},!Lv(t))return;this.dragSnapToOrigin=o,this.handlers=e,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=r||window;const f=Nh(t),d=Gy(f,this.transformPagePoint),{point:g}=d,{timestamp:_}=hn;this.history=[{...g,timestamp:_}];const{onSessionStart:v}=e;v&&v(t,Ky(d,this.history)),this.removeListeners=Ih(Yu(this.contextWindow,"pointermove",this.handlePointerMove),Yu(this.contextWindow,"pointerup",this.handlePointerUp),Yu(this.contextWindow,"pointercancel",this.handlePointerUp)),u&&this.startScrollTracking(u)}startScrollTracking(t){let e=t.parentElement;for(;e;){const i=getComputedStyle(e);(IS.has(i.overflowX)||IS.has(i.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const i=t===window,r=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:r.x-e.x,y:r.y-e.y};o.x===0&&o.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,r),me.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ga(this.updatePoint)}}function Gy(n,t){return t?{point:t(n.point)}:n}function DS(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Ky({point:n},t){return{point:n,delta:DS(n,YI(t)),offset:DS(n,GF(t)),velocity:KF(t,.1)}}function GF(n){return n[0]}function YI(n){return n[n.length-1]}function KF(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const r=YI(n);for(;e>=0&&(i=n[e],!(r.timestamp-i.timestamp>ji(t)));)e--;if(!i)return{x:0,y:0};i===n[0]&&n.length>2&&r.timestamp-i.timestamp>ji(t)*2&&(i=n[1]);const o=fi(r.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(r.x-i.x)/o,y:(r.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function YF(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?xe(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?xe(e,n,i.max):Math.min(n,e)),n}function MS(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function $F(n,{top:t,left:e,bottom:i,right:r}){return{x:MS(n.x,e,r),y:MS(n.y,t,i)}}function NS(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function WF(n,t){return{x:NS(n.x,t.x),y:NS(n.y,t.y)}}function XF(n,t){let e=.5;const i=kn(n),r=kn(t);return r>i?e=lh(t.min,t.max-i,n.min):i>r&&(e=lh(n.min,n.max-r,t.min)),As(0,1,e)}function QF(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const a_=.35;function ZF(n=a_){return n===!1?n=0:n===!0&&(n=a_),{x:OS(n,"left","right"),y:OS(n,"top","bottom")}}function OS(n,t,e){return{min:PS(n,t),max:PS(n,e)}}function PS(n,t){return typeof n=="number"?n:n[t]||0}const JF=new WeakMap;class t8{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=_=>{e&&this.snapToCursor(Nh(_).point),this.stopAnimation()},l=(_,v)=>{const{drag:T,dragPropagation:S,onDragStart:R}=this.getProps();if(T&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=RU(T),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ms(P=>{let B=this.getAxisMotionValue(P).get()||0;if(ws.test(B)){const{projection:F}=this.visualElement;if(F&&F.layout){const Q=F.layout.layoutBox[P];Q&&(B=kn(Q)*(parseFloat(B)/100))}}this.originPoint[P]=B}),R&&me.update(()=>R(_,v),!1,!0),Q0(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},u=(_,v)=>{this.latestPointerEvent=_,this.latestPanInfo=v;const{dragPropagation:T,dragDirectionLock:S,onDirectionLock:R,onDrag:k}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:P}=v;if(S&&this.currentDirection===null){this.currentDirection=n8(P),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",v.point,P),this.updateAxis("y",v.point,P),this.visualElement.render(),k&&me.update(()=>k(_,v),!1,!0)},f=(_,v)=>{this.latestPointerEvent=_,this.latestPanInfo=v,this.stop(_,v),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>{const{dragSnapToOrigin:_}=this.getProps();(_||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:g}=this.getProps();this.panSession=new KI(t,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:GI(this.visualElement),element:this.visualElement.current})}stop(t,e){const i=t||this.latestPointerEvent,r=e||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!i)return;const{velocity:l}=r;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&me.postRender(()=>u(i,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,i){const{drag:r}=this.getProps();if(!i||!Ed(t,r,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=YF(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;t&&Sl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=$F(i.layoutBox,t):this.constraints=!1,this.elastic=ZF(e),r!==this.constraints&&!Sl(t)&&i&&this.constraints&&!this.hasMutatedConstraints&&ms(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=QF(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Sl(t))return!1;const i=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=iB(i,r.root,this.visualElement.getTransformPagePoint());let l=WF(r.layout.layoutBox,o);if(e){const u=e(tB(l));this.hasMutatedConstraints=!!u,u&&(l=mI(u))}return l}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:r,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},d=ms(g=>{if(!Ed(g,e,this.currentDirection))return;let _=f&&f[g]||{};l&&(_={min:0,max:0});const v=r?200:1e6,T=r?40:1e7,S={type:"inertia",velocity:i?t[g]:0,bounceStiffness:v,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...o,..._};return this.startAxisValueAnimation(g,S)});return Promise.all(d).then(u)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return Q0(this.visualElement,t),i.start(Mv(t,i,0,e,this.visualElement,!1))}stopAnimation(){ms(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),r=i[e];return r||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){ms(e=>{const{drag:i}=this.getProps();if(!Ed(e,i,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(e);if(r&&r.layout){const{min:l,max:u}=r.layout.layoutBox[e],f=o.get()||0;o.set(t[e]-xe(l,u,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Sl(e)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ms(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const f=u.get();r[l]=XF({min:f,max:f},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),ms(l=>{if(!Ed(l,t,null))return;const u=this.getAxisMotionValue(l),{min:f,max:d}=this.constraints[l];u.set(xe(f,d,r[l]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;JF.set(this.visualElement,this);const t=this.visualElement.current,e=Yu(t,"pointerdown",d=>{const{drag:g,dragListener:_=!0}=this.getProps(),v=d.target,T=v!==t&&OU(v);g&&_&&!T&&this.start(d)});let i;const r=()=>{const{dragConstraints:d}=this.getProps();Sl(d)&&d.current&&(this.constraints=this.resolveRefConstraints(),i||(i=e8(t,d.current,()=>this.scalePositionWithinConstraints())))},{projection:o}=this.visualElement,l=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),me.read(r);const u=fh(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:g})=>{this.isDragging&&g&&(ms(_=>{const v=this.getAxisMotionValue(_);v&&(this.originPoint[_]+=d[_].translate,v.set(v.get()+d[_].translate))}),this.visualElement.render())}));return()=>{u(),e(),l(),f&&f(),i&&i()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:l=a_,dragMomentum:u=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:r,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function VS(n){let t=!0;return()=>{if(t){t=!1;return}n()}}function e8(n,t,e){const i=Hw(n,VS(e)),r=Hw(t,VS(e));return()=>{i(),r()}}function Ed(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function n8(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class i8 extends Ea{constructor(t){super(t),this.removeGroupControls=mi,this.removeListeners=mi,this.controls=new t8(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mi}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Yy=n=>(t,e)=>{n&&me.update(()=>n(t,e),!1,!0)};class s8 extends Ea{constructor(){super(...arguments),this.removePointerDownListener=mi}onPointerDown(t){this.session=new KI(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:GI(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:Yy(t),onStart:Yy(e),onMove:Yy(i),onEnd:(o,l)=>{delete this.session,r&&me.postRender(()=>r(o,l))}}}mount(){this.removePointerDownListener=Yu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let $y=!1;class r8 extends Z.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:r}=this.props,{projection:o}=t;o&&(e.group&&e.group.add(o),i&&i.register&&r&&i.register(o),$y&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Jd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:r,isPresent:o}=this.props,{projection:l}=i;return l&&(l.isPresent=o,t.layoutDependency!==e&&l.setOptions({...l.options,layoutDependency:e}),$y=!0,r||t.layoutDependency!==e||e===void 0||t.isPresent!==o?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||me.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Vv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:r}=t;$y=!0,r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function $I(n){const[t,e]=VI(),i=Z.useContext(pv);return C.jsx(r8,{...n,layoutGroup:i,switchLayoutGroup:Z.useContext(HI),isPresent:t,safeToRemove:e})}const a8={pan:{Feature:s8},drag:{Feature:i8,ProjectionNode:PI,MeasureLayout:$I}};function LS(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const r="onHover"+e,o=i[r];o&&me.postRender(()=>o(t,Nh(t)))}class o8 extends Ea{mount(){const{current:t}=this.node;t&&(this.unmount=IU(t,(e,i)=>(LS(this.node,i,"Start"),r=>LS(this.node,r,"End"))))}unmount(){}}class l8 extends Ea{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ih(fh(this.node.current,"focus",()=>this.onFocus()),fh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zS(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const r="onTap"+(e==="End"?"":e),o=i[r];o&&me.postRender(()=>o(t,Nh(t)))}class c8 extends Ea{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:e,propagate:i}=this.node.props;this.unmount=VU(t,(r,o)=>(zS(this.node,o,"Start"),(l,{success:u})=>zS(this.node,l,u?"End":"Cancel")),{useGlobalTarget:e,stopPropagation:i?.tap===!1})}unmount(){}}const o_=new WeakMap,Wy=new WeakMap,u8=n=>{const t=o_.get(n.target);t&&t(n)},h8=n=>{n.forEach(u8)};function f8({root:n,...t}){const e=n||document;Wy.has(e)||Wy.set(e,{});const i=Wy.get(e),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(h8,{root:n,...t})),i[r]}function d8(n,t,e){const i=f8(t);return o_.set(n,e),i.observe(n),()=>{o_.delete(n),i.unobserve(n)}}const m8={some:0,all:1};class p8 extends Ea{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:r="some",once:o}=t,l={root:e?e.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:m8[r]},u=f=>{const{isIntersecting:d}=f;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),v=d?g:_;v&&v(f)};return d8(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(g8(t,e))&&this.startObserver()}unmount(){}}function g8({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const y8={inView:{Feature:p8},tap:{Feature:c8},focus:{Feature:l8},hover:{Feature:o8}},_8={layout:{ProjectionNode:PI,MeasureLayout:$I}},v8={...FF,...y8,...a8,..._8},lo=LF(v8,zF);function Xy(...n){return lk(YR(n))}const b8=({product:n})=>{const{addToCart:t}=uv(),e=()=>{t(n)};return C.jsxs(lo.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"group bg-white rounded-[2.5rem] border border-espresso-50 p-6 hover:shadow-[0_32px_64px_-16px_rgba(61,55,48,0.12)] transition-all duration-700 relative overflow-hidden",children:[C.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-latte/30 rounded-full -mr-12 -mt-12 blur-2xl group-hover:bg-caramel/10 transition-colors duration-700"}),C.jsxs("div",{className:"relative aspect-square mb-8 overflow-hidden rounded-[2rem] bg-crema group-hover:shadow-2xl transition-all duration-700",children:[C.jsx("img",{src:n.imageUrl,alt:n.name,className:"w-full h-full object-cover group-hover:scale-110 transition duration-[2000ms] ease-out"}),!n.count&&C.jsx("div",{className:"absolute inset-0 bg-espresso-900/40 backdrop-blur-[2px] flex items-center justify-center p-4",children:C.jsx("span",{className:"bg-white text-espresso-900 px-6 py-2 rounded-full text-[10px] font-black uppercase tracking-[0.2em] shadow-xl",children:"Tkendi"})})]}),C.jsxs("div",{className:"space-y-4 relative z-10",children:[C.jsxs("div",{className:"flex justify-between items-start gap-3",children:[C.jsx("h3",{className:"text-xl font-black text-espresso-900 tracking-tight leading-snug group-hover:text-caramel transition-colors duration-500",children:n.name}),C.jsx("div",{className:"text-right",children:C.jsxs("p",{className:"text-2xl font-black text-espresso-900",children:["",n.price]})})]}),C.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-espresso-50",children:[C.jsxs("div",{className:"flex flex-col",children:[C.jsx("span",{className:"text-[10px] font-black text-espresso-400 uppercase tracking-widest",children:"Stok Durumu"}),C.jsx("span",{className:Xy("text-xs font-bold",(n.count??0)>10?"text-green-600":(n.count??0)>0?"text-caramel":"text-red-500"),children:(n.count??0)>0?`${n.count} Adet`:"Tkendi"})]}),C.jsx("button",{onClick:e,disabled:!n.count,className:Xy("p-5 rounded-2xl transition-all duration-500 group/btn active:scale-95 shadow-lg",n.count?"bg-espresso-800 text-crema hover:bg-caramel shadow-espresso-900/10 hover:shadow-caramel/20":"bg-espresso-50 text-espresso-200 cursor-not-allowed shadow-none"),children:C.jsx(fv,{size:22,className:Xy("transition-transform duration-500",n.count&&"group-hover/btn:scale-110")})})]})]})]})},x8=()=>{const[n,t]=Z.useState([]),[e,i]=Z.useState(""),[r,o]=Z.useState(!0);Z.useEffect(()=>{const u=ER(X_(go,"products"),wR("name")),f=CR(u,d=>{const g=d.docs.map(_=>({id:_.id,..._.data()}));t(g),o(!1)});return()=>f()},[]);const l=n.filter(u=>u.name.toLowerCase().includes(e.toLowerCase()));return r?C.jsx("div",{className:"h-64 flex items-center justify-center",children:C.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-indigo-600 border-r-transparent"})}):C.jsxs("div",{className:"space-y-12",children:[C.jsx("div",{className:"flex flex-col gap-8",children:C.jsx("div",{className:"flex flex-col md:flex-row gap-6 md:items-center justify-between",children:C.jsxs("div",{className:"relative flex-1 max-w-xl group",children:[C.jsx(Cz,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-espresso-300 group-focus-within:text-caramel transition-colors",size:22}),C.jsx("input",{type:"text",placeholder:"Taze kavrulmu seenekleri kefedin...",value:e,onChange:u=>i(u.target.value),className:"w-full bg-white border border-espresso-100 pl-16 pr-8 py-6 rounded-[2rem] outline-none focus:border-caramel focus:ring-8 focus:ring-caramel/5 transition-all duration-500 font-medium placeholder:text-espresso-300 text-lg shadow-sm shadow-caramel/5"})]})})}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-8",children:[l.map(u=>C.jsx(b8,{product:u},u.id)),l.length===0&&C.jsx("div",{className:"col-span-full py-20 text-center text-slate-400",children:C.jsx("p",{className:"text-lg font-medium",children:"Aradnz kriterlere uygun rn bulunamad."})})]})]})},T8=({isOpen:n,onClose:t,product:e})=>{const[i,r]=Z.useState({name:"",price:"",count:"",imageUrl:""}),[o,l]=Z.useState(!1);Z.useEffect(()=>{r(e?{name:e.name,price:e.price.toString(),count:e.count.toString(),imageUrl:e.imageUrl||""}:{name:"",price:"",count:"",imageUrl:""})},[e,n]);const u=async f=>{f.preventDefault(),l(!0);const d={name:i.name,price:Number(i.price),count:Number(i.count),imageUrl:i.imageUrl||"https://images.unsplash.com/photo-1510972527921-ce03766a1cf1?q=80&w=800"};try{e?(await AR(oh(go,"products",e.id),d),he.success("rn gncellendi!",{style:{borderRadius:"1rem",background:"#3d3730",color:"#fff"}})):(await H3(X_(go,"products"),d),he.success("Maazaya yeni rn eklendi!",{style:{borderRadius:"1rem",background:"#c68e5a",color:"#fff"}})),t()}catch(g){console.error(g),he.error("Balant hatas: Kayt yaplamad.")}finally{l(!1)}};return n?C.jsx("div",{className:"fixed inset-0 bg-espresso-950/70 backdrop-blur-xl z-[200] flex items-center justify-center p-6 animate-in fade-in duration-500",children:C.jsxs("div",{className:"bg-crema w-full max-w-xl rounded-[4rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-500 border border-white/20",children:[C.jsxs("div",{className:"p-12 border-b border-espresso-100 flex justify-between items-center bg-white shadow-sm",children:[C.jsxs("div",{className:"flex items-center space-x-4",children:[C.jsx("div",{className:"p-4 bg-latte text-caramel rounded-3xl",children:C.jsx(op,{size:24})}),C.jsxs("div",{children:[C.jsx("p",{className:"text-[10px] font-black text-espresso-300 uppercase tracking-[0.2em] mb-1",children:"Envanter Formu"}),C.jsx("h2",{className:"text-3xl font-black text-espresso-900 tracking-tighter",children:e?"Reeteyi Gncelle":"Yeni rn Ekle"})]})]}),C.jsx("button",{onClick:t,className:"p-4 hover:bg-espresso-50 rounded-2xl transition-all duration-300 text-espresso-400",children:C.jsx(GR,{size:24})})]}),C.jsxs("form",{onSubmit:u,className:"p-12 space-y-10",children:[C.jsxs("div",{className:"space-y-8",children:[C.jsxs("div",{className:"space-y-3",children:[C.jsxs("label",{className:"text-[10px] font-black text-espresso-400 uppercase tracking-widest ml-2 flex items-center gap-2",children:[C.jsx(Dz,{size:14,className:"text-caramel"})," rn smi"]}),C.jsx("input",{type:"text",required:!0,value:i.name,onChange:f=>r({...i,name:f.target.value}),placeholder:"rn: Espresso Blend No.1",className:"w-full bg-white border border-espresso-100 p-6 rounded-[1.5rem] outline-none focus:border-caramel focus:ring-8 focus:ring-caramel/5 transition-all duration-300 font-bold text-espresso-900"})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[C.jsxs("div",{className:"space-y-3",children:[C.jsxs("label",{className:"text-[10px] font-black text-espresso-400 uppercase tracking-widest ml-2 flex items-center gap-2",children:[C.jsx(Q6,{size:14,className:"text-caramel"})," Fiyat ()"]}),C.jsx("input",{type:"number",required:!0,value:i.price,onChange:f=>r({...i,price:f.target.value}),placeholder:"0.00",className:"w-full bg-white border border-espresso-100 p-6 rounded-[1.5rem] outline-none focus:border-caramel focus:ring-8 focus:ring-caramel/5 transition-all duration-300 font-bold text-espresso-900"})]}),C.jsxs("div",{className:"space-y-3",children:[C.jsxs("label",{className:"text-[10px] font-black text-espresso-400 uppercase tracking-widest ml-2 flex items-center gap-2",children:[C.jsx(BR,{size:14,className:"text-caramel"})," Stok Adedi"]}),C.jsx("input",{type:"number",required:!0,value:i.count,onChange:f=>r({...i,count:f.target.value}),placeholder:"0",className:"w-full bg-white border border-espresso-100 p-6 rounded-[1.5rem] outline-none focus:border-caramel focus:ring-8 focus:ring-caramel/5 transition-all duration-300 font-bold text-espresso-900"})]})]}),C.jsxs("div",{className:"space-y-3",children:[C.jsxs("label",{className:"text-[10px] font-black text-espresso-400 uppercase tracking-widest ml-2 flex items-center gap-2",children:[C.jsx(cz,{size:14,className:"text-caramel"})," Grsel URL"]}),C.jsx("input",{type:"text",value:i.imageUrl,onChange:f=>r({...i,imageUrl:f.target.value}),placeholder:"https://images.unsplash.com/...",className:"w-full bg-white border border-espresso-100 p-6 rounded-[1.5rem] outline-none focus:border-caramel focus:ring-8 focus:ring-caramel/5 transition-all duration-300 font-bold text-espresso-900"})]})]}),C.jsx("button",{type:"submit",disabled:o,className:"w-full bg-espresso-900 text-crema py-7 rounded-[2rem] font-black shadow-2xl shadow-espresso-950/20 hover:bg-caramel transition-all duration-500 flex items-center justify-center space-x-4 active:scale-[0.98] disabled:opacity-50 group",children:o?C.jsx("div",{className:"w-6 h-6 border-3 border-white/30 border-t-white rounded-full animate-spin"}):C.jsxs(C.Fragment,{children:[C.jsx(Sz,{size:24,className:"group-hover:scale-110 transition-transform"}),C.jsx("span",{className:"uppercase tracking-[0.2em] text-xs",children:"Deiiklikleri Kaydet"})]})})]})]})}):null};function Oh(n){return n+.5|0}const Qr=(n,t,e)=>Math.max(Math.min(n,e),t);function Pu(n){return Qr(Oh(n*2.55),0,255)}function oa(n){return Qr(Oh(n*255),0,255)}function Qs(n){return Qr(Oh(n/2.55)/100,0,1)}function jS(n){return Qr(Oh(n*100),0,100)}const ui={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},l_=[..."0123456789ABCDEF"],E8=n=>l_[n&15],w8=n=>l_[(n&240)>>4]+l_[n&15],wd=n=>(n&240)>>4===(n&15),S8=n=>wd(n.r)&&wd(n.g)&&wd(n.b)&&wd(n.a);function A8(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&ui[n[1]]*17,g:255&ui[n[2]]*17,b:255&ui[n[3]]*17,a:t===5?ui[n[4]]*17:255}:(t===7||t===9)&&(e={r:ui[n[1]]<<4|ui[n[2]],g:ui[n[3]]<<4|ui[n[4]],b:ui[n[5]]<<4|ui[n[6]],a:t===9?ui[n[7]]<<4|ui[n[8]]:255})),e}const C8=(n,t)=>n<255?t(n):"";function R8(n){var t=S8(n)?E8:w8;return n?"#"+t(n.r)+t(n.g)+t(n.b)+C8(n.a,t):void 0}const k8=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function WI(n,t,e){const i=t*Math.min(e,1-e),r=(o,l=(o+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function I8(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function D8(n,t,e){const i=WI(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function M8(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function Kv(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),l=Math.min(e,i,r),u=(o+l)/2;let f,d,g;return o!==l&&(g=o-l,d=u>.5?g/(2-o-l):g/(o+l),f=M8(e,i,r,g,o),f=f*60+.5),[f|0,d||0,u]}function Yv(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(oa)}function $v(n,t,e){return Yv(WI,n,t,e)}function N8(n,t,e){return Yv(D8,n,t,e)}function O8(n,t,e){return Yv(I8,n,t,e)}function XI(n){return(n%360+360)%360}function P8(n){const t=k8.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Pu(+t[5]):oa(+t[5]));const r=XI(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=N8(r,o,l):t[1]==="hsv"?i=O8(r,o,l):i=$v(r,o,l),{r:i[0],g:i[1],b:i[2],a:e}}function V8(n,t){var e=Kv(n);e[0]=XI(e[0]+t),e=$v(e),n.r=e[0],n.g=e[1],n.b=e[2]}function L8(n){if(!n)return;const t=Kv(n),e=t[0],i=jS(t[1]),r=jS(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Qs(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const US={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},BS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function z8(){const n={},t=Object.keys(BS),e=Object.keys(US);let i,r,o,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],r=0;r<e.length;r++)o=e[r],u=u.replace(o,US[o]);o=parseInt(BS[l],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let Sd;function j8(n){Sd||(Sd=z8(),Sd.transparent=[0,0,0,0]);const t=Sd[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const U8=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function B8(n){const t=U8.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?Pu(l):Qr(l*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Pu(i):Qr(i,0,255)),r=255&(t[4]?Pu(r):Qr(r,0,255)),o=255&(t[6]?Pu(o):Qr(o,0,255)),{r:i,g:r,b:o,a:e}}}function F8(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Qs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Qy=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,bl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function H8(n,t,e){const i=bl(Qs(n.r)),r=bl(Qs(n.g)),o=bl(Qs(n.b));return{r:oa(Qy(i+e*(bl(Qs(t.r))-i))),g:oa(Qy(r+e*(bl(Qs(t.g))-r))),b:oa(Qy(o+e*(bl(Qs(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Ad(n,t,e){if(n){let i=Kv(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=$v(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function QI(n,t){return n&&Object.assign(t||{},n)}function FS(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=oa(n[3]))):(t=QI(n,{r:0,g:0,b:0,a:1}),t.a=oa(t.a)),t}function q8(n){return n.charAt(0)==="r"?B8(n):P8(n)}class dh{constructor(t){if(t instanceof dh)return t;const e=typeof t;let i;e==="object"?i=FS(t):e==="string"&&(i=A8(t)||j8(t)||q8(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=QI(this._rgb);return t&&(t.a=Qs(t.a)),t}set rgb(t){this._rgb=FS(t)}rgbString(){return this._valid?F8(this._rgb):void 0}hexString(){return this._valid?R8(this._rgb):void 0}hslString(){return this._valid?L8(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const l=e===o?.5:e,u=2*l-1,f=i.a-r.a,d=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;o=1-d,i.r=255&d*i.r+o*r.r+.5,i.g=255&d*i.g+o*r.g+.5,i.b=255&d*i.b+o*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=H8(this._rgb,t._rgb,e)),this}clone(){return new dh(this.rgb)}alpha(t){return this._rgb.a=oa(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Oh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ad(this._rgb,2,t),this}darken(t){return Ad(this._rgb,2,-t),this}saturate(t){return Ad(this._rgb,1,t),this}desaturate(t){return Ad(this._rgb,1,-t),this}rotate(t){return V8(this._rgb,t),this}}function $s(){}const G8=(()=>{let n=0;return()=>n++})();function fe(n){return n==null}function Qe(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Xt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function pi(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function fs(n,t){return pi(n)?n:t}function Jt(n,t){return typeof n>"u"?t:n}const K8=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ye(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function se(n,t,e,i){let r,o,l;if(Qe(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(Xt(n))for(l=Object.keys(n),o=l.length,r=0;r<o;r++)t.call(e,n[l[r]],l[r])}function Mm(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Nm(n){if(Qe(n))return n.map(Nm);if(Xt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Nm(n[e[r]]);return t}return n}function ZI(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Y8(n,t,e,i){if(!ZI(n))return;const r=t[n],o=e[n];Xt(r)&&Xt(o)?mh(r,o,i):t[n]=Nm(o)}function mh(n,t,e){const i=Qe(t)?t:[t],r=i.length;if(!Xt(n))return n;e=e||{};const o=e.merger||Y8;let l;for(let u=0;u<r;++u){if(l=i[u],!Xt(l))continue;const f=Object.keys(l);for(let d=0,g=f.length;d<g;++d)o(f[d],n,l,e)}return n}function $u(n,t){return mh(n,t,{merger:$8})}function $8(n,t,e){if(!ZI(n))return;const i=t[n],r=e[n];Xt(i)&&Xt(r)?$u(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Nm(r))}const HS={"":n=>n,x:n=>n.x,y:n=>n.y};function W8(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function X8(n){const t=W8(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Ql(n,t){return(HS[t]||(HS[t]=X8(t)))(n)}function Wv(n){return n.charAt(0).toUpperCase()+n.slice(1)}const ph=n=>typeof n<"u",ya=n=>typeof n=="function",qS=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function Q8(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Tn=Math.PI,la=2*Tn,Om=Number.POSITIVE_INFINITY,Z8=Tn/180,Pi=Tn/2,no=Tn/4,GS=Tn*2/3,JI=Math.log10,ca=Math.sign;function tm(n,t,e){return Math.abs(n-t)<e}function KS(n){const t=Math.round(n);n=tm(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(JI(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function J8(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function t7(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Pm(n){return!t7(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function e7(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function n7(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function mo(n){return n*(Tn/180)}function i7(n){return n*(180/Tn)}function YS(n){if(!pi(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function s7(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Tn&&(o+=la),{angle:o,distance:r}}function r7(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function io(n){return(n%la+la)%la}function a7(n,t,e,i){const r=io(n),o=io(t),l=io(e),u=io(o-r),f=io(l-r),d=io(r-o),g=io(r-l);return r===o||r===l||i||u>f&&d<g}function Vi(n,t,e){return Math.max(t,Math.min(e,n))}function o7(n){return Vi(n,-32768,32767)}function Ml(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Xv(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const c_=(n,t,e,i)=>Xv(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),l7=(n,t,e)=>Xv(n,e,i=>n[i][t]>=e);function c7(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const tD=["push","pop","shift","splice","unshift"];function u7(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),tD.forEach(e=>{const i="_onData"+Wv(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const l=r.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),l}})})}function $S(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(tD.forEach(o=>{delete n[o]}),delete n._chartjs)}function eD(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const nD=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function iD(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,nD.call(window,()=>{i=!1,n.apply(t,e)}))}}function h7(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Qv=n=>n==="start"?"left":n==="end"?"right":"center",yn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,f7=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,Cd=n=>n===0||n===1,WS=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*la/e)),XS=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*la/e)+1,Wu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Pi)+1,easeOutSine:n=>Math.sin(n*Pi),easeInOutSine:n=>-.5*(Math.cos(Tn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Cd(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Cd(n)?n:WS(n,.075,.3),easeOutElastic:n=>Cd(n)?n:XS(n,.075,.3),easeInOutElastic(n){return Cd(n)?n:n<.5?.5*WS(n*2,.1125,.45):.5+.5*XS(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Wu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Wu.easeInBounce(n*2)*.5:Wu.easeOutBounce(n*2-1)*.5+.5};function sD(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function QS(n){return sD(n)?n:new dh(n)}function Zy(n){return sD(n)?n:new dh(n).saturate(.5).darken(.1).hexString()}const d7=["x","y","borderWidth","radius","tension"],m7=["color","borderColor","backgroundColor"];function p7(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:m7},numbers:{type:"number",properties:d7}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function g7(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ZS=new Map;function y7(n,t){t=t||{};const e=n+JSON.stringify(t);let i=ZS.get(e);return i||(i=new Intl.NumberFormat(n,t),ZS.set(e,i)),i}function rD(n,t,e){return y7(t,e).format(n)}const _7={values(n){return Qe(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),o=v7(n,e)}const l=JI(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),rD(n,i,f)}};function v7(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var aD={formatters:_7};function b7(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:aD.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ao=Object.create(null),u_=Object.create(null);function Xu(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Jy(n,t,e){return typeof t=="string"?mh(Xu(n,t),e):mh(Xu(n,""),t)}class x7{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Zy(r.backgroundColor),this.hoverBorderColor=(i,r)=>Zy(r.borderColor),this.hoverColor=(i,r)=>Zy(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Jy(this,t,e)}get(t){return Xu(this,t)}describe(t,e){return Jy(u_,t,e)}override(t,e){return Jy(Ao,t,e)}route(t,e,i,r){const o=Xu(this,t),l=Xu(this,i),u="_"+e;Object.defineProperties(o,{[u]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[u],d=l[r];return Xt(f)?Object.assign({},d,f):Jt(f,d)},set(f){this[u]=f}}})}apply(t){t.forEach(e=>e(this))}}var Ne=new x7({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[p7,g7,b7]);function T7(n){return!n||fe(n.size)||fe(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function JS(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function so(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function tA(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function eA(n,t,e,i){oD(n,t,e,i,null)}function oD(n,t,e,i,r){let o,l,u,f,d,g,_,v;const T=t.pointStyle,S=t.rotation,R=t.radius;let k=(S||0)*Z8;if(T&&typeof T=="object"&&(o=T.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(k),n.drawImage(T,-T.width/2,-T.height/2,T.width,T.height),n.restore();return}if(!(isNaN(R)||R<=0)){switch(n.beginPath(),T){default:r?n.ellipse(e,i,r/2,R,0,0,la):n.arc(e,i,R,0,la),n.closePath();break;case"triangle":g=r?r/2:R,n.moveTo(e+Math.sin(k)*g,i-Math.cos(k)*R),k+=GS,n.lineTo(e+Math.sin(k)*g,i-Math.cos(k)*R),k+=GS,n.lineTo(e+Math.sin(k)*g,i-Math.cos(k)*R),n.closePath();break;case"rectRounded":d=R*.516,f=R-d,l=Math.cos(k+no)*f,_=Math.cos(k+no)*(r?r/2-d:f),u=Math.sin(k+no)*f,v=Math.sin(k+no)*(r?r/2-d:f),n.arc(e-_,i-u,d,k-Tn,k-Pi),n.arc(e+v,i-l,d,k-Pi,k),n.arc(e+_,i+u,d,k,k+Pi),n.arc(e-v,i+l,d,k+Pi,k+Tn),n.closePath();break;case"rect":if(!S){f=Math.SQRT1_2*R,g=r?r/2:f,n.rect(e-g,i-f,2*g,2*f);break}k+=no;case"rectRot":_=Math.cos(k)*(r?r/2:R),l=Math.cos(k)*R,u=Math.sin(k)*R,v=Math.sin(k)*(r?r/2:R),n.moveTo(e-_,i-u),n.lineTo(e+v,i-l),n.lineTo(e+_,i+u),n.lineTo(e-v,i+l),n.closePath();break;case"crossRot":k+=no;case"cross":_=Math.cos(k)*(r?r/2:R),l=Math.cos(k)*R,u=Math.sin(k)*R,v=Math.sin(k)*(r?r/2:R),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l);break;case"star":_=Math.cos(k)*(r?r/2:R),l=Math.cos(k)*R,u=Math.sin(k)*R,v=Math.sin(k)*(r?r/2:R),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l),k+=no,_=Math.cos(k)*(r?r/2:R),l=Math.cos(k)*R,u=Math.sin(k)*R,v=Math.sin(k)*(r?r/2:R),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l);break;case"line":l=r?r/2:Math.cos(k)*R,u=Math.sin(k)*R,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(k)*(r?r/2:R),i+Math.sin(k)*R);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function lD(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Zv(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Jv(n){n.restore()}function E7(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),fe(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function w7(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),l=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,d=e+o.actualBoundingBoxDescent,g=r.strikethrough?(f+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,g),n.lineTo(u,g),n.stroke()}}function S7(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function gh(n,t,e,i,r,o={}){const l=Qe(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let f,d;for(n.save(),n.font=r.string,E7(n,o),f=0;f<l.length;++f)d=l[f],o.backdrop&&S7(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),fe(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(d,e,i,o.maxWidth)),n.fillText(d,e,i,o.maxWidth),w7(n,e,i,d,o),i+=Number(r.lineHeight);n.restore()}function Vm(n,t){const{x:e,y:i,w:r,h:o,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*Tn,Tn,!0),n.lineTo(e,i+o-l.bottomLeft),n.arc(e+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,Tn,Pi,!0),n.lineTo(e+r-l.bottomRight,i+o),n.arc(e+r-l.bottomRight,i+o-l.bottomRight,l.bottomRight,Pi,0,!0),n.lineTo(e+r,i+l.topRight),n.arc(e+r-l.topRight,i+l.topRight,l.topRight,0,-Pi,!0),n.lineTo(e+l.topLeft,i)}const A7=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,C7=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function R7(n,t){const e=(""+n).match(A7);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const k7=n=>+n||0;function cD(n,t){const e={},i=Xt(t),r=i?Object.keys(t):t,o=Xt(n)?i?l=>Jt(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of r)e[l]=k7(o(l));return e}function uD(n){return cD(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ul(n){return cD(n,["topLeft","topRight","bottomLeft","bottomRight"])}function gi(n){const t=uD(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function xn(n,t){n=n||{},t=t||Ne.font;let e=Jt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Jt(n.style,t.style);i&&!(""+i).match(C7)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Jt(n.family,t.family),lineHeight:R7(Jt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Jt(n.weight,t.weight),string:""};return r.string=T7(r),r}function Rd(n,t,e,i){let r,o,l;for(r=0,o=n.length;r<o;++r)if(l=n[r],l!==void 0&&l!==void 0)return l}function I7(n,t,e){const{min:i,max:r}=n,o=K8(t,(r-i)/2),l=(u,f)=>e&&u===0?0:u+f;return{min:l(i,-Math.abs(o)),max:l(r,o)}}function hc(n,t){return Object.assign(Object.create(n),t)}function tb(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=mD("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:u=>tb([u,...n],t,o,i)};return new Proxy(l,{deleteProperty(u,f){return delete u[f],delete u._keys,delete n[0][f],!0},get(u,f){return fD(u,f,()=>z7(f,t,n,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,f){return iA(u).includes(f)},ownKeys(u){return iA(u)},set(u,f,d){const g=u._storage||(u._storage=r());return u[f]=g[f]=d,delete u._keys,!0}})}function Zl(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:hD(n,i),setContext:o=>Zl(n,o,e,i),override:o=>Zl(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,u){return fD(o,l,()=>M7(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,u){return n[l]=u,delete o[l],!0}})}function hD(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:ya(e)?e:()=>e,isIndexable:ya(i)?i:()=>i}}const D7=(n,t)=>n?n+Wv(t):t,eb=(n,t)=>Xt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function fD(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function M7(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:l}=n;let u=i[t];return ya(u)&&l.isScriptable(t)&&(u=N7(t,u,n,e)),Qe(u)&&u.length&&(u=O7(t,u,n,l.isIndexable)),eb(t,u)&&(u=Zl(u,r,o&&o[t],l)),u}function N7(n,t,e,i){const{_proxy:r,_context:o,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let f=t(o,l||i);return u.delete(n),eb(n,f)&&(f=nb(r._scopes,r,n,f)),f}function O7(n,t,e,i){const{_proxy:r,_context:o,_subProxy:l,_descriptors:u}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Xt(t[0])){const f=t,d=r._scopes.filter(g=>g!==f);t=[];for(const g of f){const _=nb(d,r,n,g);t.push(Zl(_,o,l&&l[n],u))}}return t}function dD(n,t,e){return ya(n)?n(t,e):n}const P7=(n,t)=>n===!0?t:typeof n=="string"?Ql(t,n):void 0;function V7(n,t,e,i,r){for(const o of t){const l=P7(e,o);if(l){n.add(l);const u=dD(l._fallback,e,r);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function nb(n,t,e,i){const r=t._rootScopes,o=dD(t._fallback,e,i),l=[...n,...r],u=new Set;u.add(i);let f=nA(u,l,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=nA(u,l,o,f,i),f===null)?!1:tb(Array.from(u),[""],r,o,()=>L7(t,e,i))}function nA(n,t,e,i,r){for(;e;)e=V7(n,t,e,i,r);return e}function L7(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Qe(r)&&Xt(e)?e:r||{}}function z7(n,t,e,i){let r;for(const o of t)if(r=mD(D7(o,n),e),typeof r<"u")return eb(n,r)?nb(e,i,n,r):r}function mD(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function iA(n){let t=n._keys;return t||(t=n._keys=j7(n._scopes)),t}function j7(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function ib(){return typeof window<"u"&&typeof document<"u"}function sb(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Lm(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const fp=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function U7(n,t){return fp(n).getPropertyValue(t)}const B7=["top","right","bottom","left"];function _o(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=B7[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const F7=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function H7(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let l=!1,u,f;if(F7(r,o,n.target))u=r,f=o;else{const d=t.getBoundingClientRect();u=i.clientX-d.left,f=i.clientY-d.top,l=!0}return{x:u,y:f,box:l}}function co(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=fp(e),o=r.boxSizing==="border-box",l=_o(r,"padding"),u=_o(r,"border","width"),{x:f,y:d,box:g}=H7(n,e),_=l.left+(g&&u.left),v=l.top+(g&&u.top);let{width:T,height:S}=t;return o&&(T-=l.width+u.width,S-=l.height+u.height),{x:Math.round((f-_)/T*e.width/i),y:Math.round((d-v)/S*e.height/i)}}function q7(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&sb(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const l=o.getBoundingClientRect(),u=fp(o),f=_o(u,"border","width"),d=_o(u,"padding");t=l.width-d.width-f.width,e=l.height-d.height-f.height,i=Lm(u.maxWidth,o,"clientWidth"),r=Lm(u.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Om,maxHeight:r||Om}}const Zr=n=>Math.round(n*10)/10;function G7(n,t,e,i){const r=fp(n),o=_o(r,"margin"),l=Lm(r.maxWidth,n,"clientWidth")||Om,u=Lm(r.maxHeight,n,"clientHeight")||Om,f=q7(n,t,e);let{width:d,height:g}=f;if(r.boxSizing==="content-box"){const v=_o(r,"border","width"),T=_o(r,"padding");d-=T.width+v.width,g-=T.height+v.height}return d=Math.max(0,d-o.width),g=Math.max(0,i?d/i:g-o.height),d=Zr(Math.min(d,l,f.maxWidth)),g=Zr(Math.min(g,u,f.maxHeight)),d&&!g&&(g=Zr(d/2)),(t!==void 0||e!==void 0)&&i&&f.height&&g>f.height&&(g=f.height,d=Zr(Math.floor(g*i))),{width:d,height:g}}function sA(n,t,e){const i=t||1,r=Zr(n.height*i),o=Zr(n.width*i);n.height=Zr(n.height),n.width=Zr(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==r||l.width!==o?(n.currentDevicePixelRatio=i,l.height=r,l.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const K7=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};ib()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function rA(n,t){const e=U7(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const Y7=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},$7=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Bl(n,t,e){return n?Y7(t,e):$7()}function pD(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function gD(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function kd(n,t,e){return n.options.clip?n[e]:t[e]}function W7(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:kd(e,t,"left"),right:kd(e,t,"right"),top:kd(i,t,"top"),bottom:kd(i,t,"bottom")}:t}function X7(n,t){const e=t._clip;if(e.disabled)return!1;const i=W7(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class Q7{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],l=e.duration;o.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=nD.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,u=!1,f;for(;l>=0;--l)f=o[l],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),u=!0):(o[l]=o[o.length-1],o.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ws=new Q7;const aA="transparent",Z7={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=QS(n||aA),r=i.valid&&QS(t||aA);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class J7{constructor(t,e,i,r){const o=e[i];r=Rd([t.to,r,o,t.from]);const l=Rd([t.from,o,r]);this._active=!0,this._fn=t.fn||Z7[t.type||typeof l],this._easing=Wu[t.easing]||Wu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Rd([t.to,e,r,t.from]),this._from=Rd([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,l=this._loop,u=this._to;let f;if(this._active=o!==u&&(l||e<i),!this._active){this._target[r]=u,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,u,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class yD{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Xt(t))return;const e=Object.keys(Ne.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Xt(o))return;const l={};for(const u of e)l[u]=o[u];(Qe(o.properties)&&o.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,r=eH(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&tH(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let f;for(f=l.length-1;f>=0;--f){const d=l[f];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(t,e));continue}const g=e[d];let _=o[d];const v=i.get(d);if(_)if(v&&_.active()){_.update(v,g,u);continue}else _.cancel();if(!v||!v.duration){t[d]=g;continue}o[d]=_=new J7(v,t,d,g),r.push(_)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Ws.add(this._chart,i),!0}}function tH(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function eH(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function oA(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function nH(n,t,e){if(e===!1)return!1;const i=oA(n,e),r=oA(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function iH(n){let t,e,i,r;return Xt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function _D(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function lA(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let l,u,f,d;if(t===null)return;let g=!1;for(l=0,u=r.length;l<u;++l){if(f=+r[l],f===e){if(g=!0,i.all)continue;break}d=n.values[f],pi(d)&&(o||t===0||ca(t)===ca(d))&&(t+=d)}return!g&&!i.all?0:t}function sH(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let f,d,g;for(f=0,d=l.length;f<d;++f)g=l[f],u[f]={[r]:g,[o]:n[g]};return u}function t0(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function rH(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function aH(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function oH(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function cA(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function uA(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:l,index:u}=i,f=o.axis,d=l.axis,g=rH(o,l,i),_=t.length;let v;for(let T=0;T<_;++T){const S=t[T],{[f]:R,[d]:k}=S,P=S._stacks||(S._stacks={});v=P[d]=oH(r,g,R),v[u]=k,v._top=cA(v,l,!0,i.type),v._bottom=cA(v,l,!1,i.type);const B=v._visualValues||(v._visualValues={});B[u]=k}}function e0(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function lH(n,t){return hc(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function cH(n,t,e){return hc(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Eu(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const n0=n=>n==="reset"||n==="none",hA=(n,t)=>t?n:Object.assign({},n),uH=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:_D(e,!0),values:null};class vD{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=t0(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Eu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(_,v,T,S)=>_==="x"?v:_==="r"?S:T,o=e.xAxisID=Jt(i.xAxisID,e0(t,"x")),l=e.yAxisID=Jt(i.yAxisID,e0(t,"y")),u=e.rAxisID=Jt(i.rAxisID,e0(t,"r")),f=e.indexAxis,d=e.iAxisID=r(f,o,l,u),g=e.vAxisID=r(f,l,o,u);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&$S(this._data,this),t._stacked&&Eu(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Xt(e)){const r=this._cachedMeta;this._data=sH(e,r)}else if(i!==e){if(i){$S(i,this);const r=this._cachedMeta;Eu(r),r._parsed=[]}e&&Object.isExtensible(e)&&u7(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=t0(e.vScale,e),e.stack!==i.stack&&(r=!0,Eu(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(uA(this,e._parsed),e._stacked=t0(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:l}=i,u=o.axis;let f=t===0&&e===r.length?!0:i._sorted,d=t>0&&i._parsed[t-1],g,_,v;if(this._parsing===!1)i._parsed=r,i._sorted=!0,v=r;else{Qe(r[t])?v=this.parseArrayData(i,r,t,e):Xt(r[t])?v=this.parseObjectData(i,r,t,e):v=this.parsePrimitiveData(i,r,t,e);const T=()=>_[u]===null||d&&_[u]<d[u];for(g=0;g<e;++g)i._parsed[g+t]=_=v[g],f&&(T()&&(f=!1),d=_);i._sorted=f}l&&uA(this,v)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:l}=t,u=o.axis,f=l.axis,d=o.getLabels(),g=o===l,_=new Array(r);let v,T,S;for(v=0,T=r;v<T;++v)S=v+i,_[v]={[u]:g||o.parse(d[S],S),[f]:l.parse(e[S],S)};return _}parseArrayData(t,e,i,r){const{xScale:o,yScale:l}=t,u=new Array(r);let f,d,g,_;for(f=0,d=r;f<d;++f)g=f+i,_=e[g],u[f]={x:o.parse(_[0],g),y:l.parse(_[1],g)};return u}parseObjectData(t,e,i,r){const{xScale:o,yScale:l}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=new Array(r);let g,_,v,T;for(g=0,_=r;g<_;++g)v=g+i,T=e[v],d[g]={x:o.parse(Ql(T,u),v),y:l.parse(Ql(T,f),v)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,l=e[t.axis],u={keys:_D(r,!0),values:e._stacks[t.axis]._visualValues};return lA(u,l,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let l=o===null?NaN:o;const u=r&&i._stacks[e.axis];r&&u&&(r.values=u,l=lA(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,l=r.length,u=this._getOtherScale(t),f=uH(e,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:_}=aH(u);let v,T;function S(){T=r[v];const R=T[u.axis];return!pi(T[t.axis])||g>R||_<R}for(v=0;v<l&&!(!S()&&(this.updateRangeFromParsed(d,t,T,f),o));++v);if(o){for(v=l-1;v>=0;--v)if(!S()){this.updateRangeFromParsed(d,t,T,f);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,l;for(r=0,o=e.length;r<o;++r)l=e[r][t.axis],pi(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=iH(Jt(this.options.clip,nH(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,l=[],u=this._drawStart||0,f=this._drawCount||r.length-u,d=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(t,o,u,f),g=u;g<u+f;++g){const _=r[g];_.hidden||(_.active&&d?l.push(_):_.draw(t,o))}for(g=0;g<l.length;++g)l[g].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=cH(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=lH(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,l=t+"-"+e,u=o[l],f=this.enableOptionSharing&&ph(i);if(u)return hA(u,f);const d=this.chart.config,g=d.datasetElementScopeKeys(this._type,t),_=r?[`${t}Hover`,"hover",t,""]:[t,""],v=d.getOptionScopes(this.getDataset(),g),T=Object.keys(Ne.elements[t]),S=()=>this.getContext(i,r,e),R=d.resolveNamedOptions(v,T,S,_);return R.$shared&&(R.$shared=f,o[l]=Object.freeze(hA(R,f))),R}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,l=`animation-${e}`,u=o[l];if(u)return u;let f;if(r.options.animation!==!1){const g=this.chart.config,_=g.datasetAnimationScopeKeys(this._type,e),v=g.getOptionScopes(this.getDataset(),_);f=g.createResolver(v,this.getContext(t,i,e))}const d=new yD(r,f&&f.animations);return f&&f._cacheable&&(o[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||n0(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:l}}updateElement(t,e,i,r){n0(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!n0(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,f,d]of this._syncList)this[u](f,d);this._syncList=[];const r=i.length,o=e.length,l=Math.min(o,r);l&&this.parse(0,l),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,l=t+e;let u;const f=d=>{for(d.length+=e,u=d.length-1;u>=l;u--)d[u]=d[u-e]};for(f(o),u=t;u<l;++u)o[u]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Eu(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function hH(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=eD(i.sort((r,o)=>r-o))}return n._cache.$bar}function fH(n){const t=n.iScale,e=hH(t,n.type);let i=t._length,r,o,l,u;const f=()=>{l===32767||l===-32768||(ph(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(r=0,o=e.length;r<o;++r)l=t.getPixelForValue(e[r]),f();for(u=void 0,r=0,o=t.ticks.length;r<o;++r)l=t.getPixelForTick(r),f();return i}function dH(n,t,e,i){const r=e.barThickness;let o,l;return fe(r)?(o=t.min*e.categoryPercentage,l=e.barPercentage):(o=r*i,l=1),{chunk:o/i,ratio:l,start:t.pixels[n]-o/2}}function mH(n,t,e,i){const r=t.pixels,o=r[n];let l=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;l===null&&(l=o-(u===null?t.end-t.start:u-o)),u===null&&(u=o+o-l);const d=o-(o-Math.min(l,u))/2*f;return{chunk:Math.abs(u-l)/2*f/i,ratio:e.barPercentage,start:d}}function pH(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),l=Math.min(r,o),u=Math.max(r,o);let f=l,d=u;Math.abs(l)>Math.abs(u)&&(f=u,d=l),t[e.axis]=d,t._custom={barStart:f,barEnd:d,start:r,end:o,min:l,max:u}}function bD(n,t,e,i){return Qe(n)?pH(n,t,e,i):t[e.axis]=e.parse(n,i),t}function fA(n,t,e,i){const r=n.iScale,o=n.vScale,l=r.getLabels(),u=r===o,f=[];let d,g,_,v;for(d=e,g=e+i;d<g;++d)v=t[d],_={},_[r.axis]=u||r.parse(l[d],d),f.push(bD(v,_,o,d));return f}function i0(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function gH(n,t,e){return n!==0?ca(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function yH(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function _H(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:f,top:d,bottom:g}=yH(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=d:(e._bottom||0)===i?r=g:(o[dA(g,l,u,f)]=!0,r=d)),o[dA(r,l,u,f)]=!0,n.borderSkipped=o}function dA(n,t,e,i){return i?(n=vH(n,t,e),n=mA(n,e,t)):n=mA(n,t,e),n}function vH(n,t,e){return n===t?e:n===e?t:n}function mA(n,t,e){return n==="start"?t:n==="end"?e:n}function bH(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class xH extends vD{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return fA(t,e,i,r)}parseArrayData(t,e,i,r){return fA(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:l}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=o.axis==="x"?u:f,g=l.axis==="x"?u:f,_=[];let v,T,S,R;for(v=i,T=i+r;v<T;++v)R=e[v],S={},S[o.axis]=o.parse(Ql(R,d),v),_.push(bD(Ql(R,g),S,l,v));return _}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),l=o._custom,u=i0(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:l,_cachedMeta:{vScale:u}}=this,f=u.getBasePixel(),d=u.isHorizontal(),g=this._getRuler(),{sharedOptions:_,includeOptions:v}=this._getSharedOptions(e,r);for(let T=e;T<e+i;T++){const S=this.getParsed(T),R=o||fe(S[u.axis])?{base:f,head:f}:this._calculateBarValuePixels(T),k=this._calculateBarIndexPixels(T,g),P=(S._stacks||{})[u.axis],B={horizontal:d,base:R.base,enableBorderRadius:!P||i0(S._custom)||l===P._top||l===P._bottom,x:d?R.head:k.center,y:d?k.center:R.head,height:d?k.size:Math.abs(R.size),width:d?Math.abs(R.size):k.size};v&&(B.options=_||this.resolveDataElementOptions(T,t[T].active?"active":r));const F=B.options||t[T].options;_H(B,F,P,l),bH(B,F,g.ratio),this.updateElement(t[T],T,B,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),o=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(e),f=u&&u[i.axis],d=g=>{const _=g._parsed.find(T=>T[i.axis]===f),v=_&&_[g.vScale.axis];if(fe(v)||isNaN(v))return!0};for(const g of r)if(!(e!==void 0&&d(g))&&((o===!1||l.indexOf(g.stack)===-1||o===void 0&&g.stack===void 0)&&l.push(g.stack),g.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Jt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,l;for(o=0,l=e.data.length;o<l;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=t.barThickness;return{min:u||fH(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:l}}=this,u=o||0,f=this.getParsed(t),d=f._custom,g=i0(d);let _=f[e.axis],v=0,T=i?this.applyStack(e,f,i):_,S,R;T!==_&&(v=T-_,T=_),g&&(_=d.barStart,T=d.barEnd-d.barStart,_!==0&&ca(_)!==ca(d.barEnd)&&(v=0),v+=_);const k=!fe(o)&&!g?o:v;let P=e.getPixelForValue(k);if(this.chart.getDataVisibility(t)?S=e.getPixelForValue(v+T):S=P,R=S-P,Math.abs(R)<l){R=gH(R,e,u)*l,_===u&&(P-=R/2);const B=e.getPixelForDecimal(0),F=e.getPixelForDecimal(1),Q=Math.min(B,F),W=Math.max(B,F);P=Math.max(Math.min(P,W),Q),S=P+R,i&&!g&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(S)-e.getValueForPixel(P))}if(P===e.getPixelForValue(u)){const B=ca(R)*e.getLineWidthForValue(u)/2;P+=B,R-=B}return{size:R,base:P,head:S,center:S+R/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,l=Jt(r.maxBarThickness,1/0);let u,f;const d=this._getAxisCount();if(e.grouped){const g=o?this._getStackCount(t):e.stackCount,_=r.barThickness==="flex"?mH(t,e,r,g*d):dH(t,e,r,g*d),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,T=this._getAxis().indexOf(Jt(v,this.getFirstScaleIdForIndexAxis())),S=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+T;u=_.start+_.chunk*S+_.chunk/2,f=Math.min(l,_.chunk*_.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(l,e.min*e.ratio);return{base:u-f/2,head:u+f/2,center:u,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function ro(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class rb{static override(t){Object.assign(rb.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ro()}parse(){return ro()}format(){return ro()}add(){return ro()}diff(){return ro()}startOf(){return ro()}endOf(){return ro()}}var TH={_date:rb};function EH(n,t,e,i){const{controller:r,data:o,_sorted:l}=n,u=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&o.length){const d=u._reversePixels?l7:c_;if(i){if(r._sharedOptions){const g=o[0],_=typeof g.getRange=="function"&&g.getRange(t);if(_){const v=d(o,t,e-_),T=d(o,t,e+_);return{lo:v.lo,hi:T.hi}}}}else{const g=d(o,t,e);if(f){const{vScale:_}=r._cachedMeta,{_parsed:v}=n,T=v.slice(0,g.lo+1).reverse().findIndex(R=>!fe(R[_.axis]));g.lo-=Math.max(0,T);const S=v.slice(g.hi).findIndex(R=>!fe(R[_.axis]));g.hi+=Math.max(0,S)}return g}}return{lo:0,hi:o.length-1}}function dp(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,f=o.length;u<f;++u){const{index:d,data:g}=o[u],{lo:_,hi:v}=EH(o[u],t,l,r);for(let T=_;T<=v;++T){const S=g[T];S.skip||i(S,d,T)}}}function wH(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,l=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function s0(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||dp(n,e,t,function(u,f,d){!r&&!lD(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&o.push({element:u,datasetIndex:f,index:d})},!0),o}function SH(n,t,e,i){let r=[];function o(l,u,f){const{startAngle:d,endAngle:g}=l.getProps(["startAngle","endAngle"],i),{angle:_}=s7(l,{x:t.x,y:t.y});a7(_,d,g)&&r.push({element:l,datasetIndex:u,index:f})}return dp(n,e,t,o),r}function AH(n,t,e,i,r,o){let l=[];const u=wH(e);let f=Number.POSITIVE_INFINITY;function d(g,_,v){const T=g.inRange(t.x,t.y,r);if(i&&!T)return;const S=g.getCenterPoint(r);if(!(!!o||n.isPointInArea(S))&&!T)return;const k=u(t,S);k<f?(l=[{element:g,datasetIndex:_,index:v}],f=k):k===f&&l.push({element:g,datasetIndex:_,index:v})}return dp(n,e,t,d),l}function r0(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?SH(n,t,e,r):AH(n,t,e,i,r,o)}function pA(n,t,e,i,r){const o=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return dp(n,e,t,(f,d,g)=>{f[l]&&f[l](t[e],r)&&(o.push({element:f,datasetIndex:d,index:g}),u=u||f.inRange(t.x,t.y,r))}),i&&!u?[]:o}var CH={modes:{index(n,t,e,i){const r=co(t,n),o=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?s0(n,r,o,i,l):r0(n,r,o,!1,i,l),f=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const g=u[0].index,_=d.data[g];_&&!_.skip&&f.push({element:_,datasetIndex:d.index,index:g})}),f):[]},dataset(n,t,e,i){const r=co(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?s0(n,r,o,i,l):r0(n,r,o,!1,i,l);if(u.length>0){const f=u[0].datasetIndex,d=n.getDatasetMeta(f).data;u=[];for(let g=0;g<d.length;++g)u.push({element:d[g],datasetIndex:f,index:g})}return u},point(n,t,e,i){const r=co(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return s0(n,r,o,i,l)},nearest(n,t,e,i){const r=co(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return r0(n,r,o,e.intersect,i,l)},x(n,t,e,i){const r=co(t,n);return pA(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=co(t,n);return pA(n,r,"y",e.intersect,i)}}};const xD=["left","top","right","bottom"];function wu(n,t){return n.filter(e=>e.pos===t)}function gA(n,t){return n.filter(e=>xD.indexOf(e.pos)===-1&&e.box.axis===t)}function Su(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function RH(n){const t=[];let e,i,r,o,l,u;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:l,stackWeight:u=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&o+l,stackWeight:u});return t}function kH(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!xD.includes(r))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function IH(n,t){const e=kH(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,l,u;for(o=0,l=n.length;o<l;++o){u=n[o];const{fullSize:f}=u.box,d=e[u.stack],g=d&&u.stackWeight/d.weight;u.horizontal?(u.width=g?g*i:f&&t.availableWidth,u.height=r):(u.width=i,u.height=g?g*r:f&&t.availableHeight)}return e}function DH(n){const t=RH(n),e=Su(t.filter(d=>d.box.fullSize),!0),i=Su(wu(t,"left"),!0),r=Su(wu(t,"right")),o=Su(wu(t,"top"),!0),l=Su(wu(t,"bottom")),u=gA(t,"x"),f=gA(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(l).concat(u),chartArea:wu(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(l).concat(u)}}function yA(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function TD(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function MH(n,t,e,i){const{pos:r,box:o}=e,l=n.maxPadding;if(!Xt(r)){e.size&&(n[r]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,n[r]+=e.size}o.getPadding&&TD(l,o.getPadding());const u=Math.max(0,t.outerWidth-yA(l,n,"left","right")),f=Math.max(0,t.outerHeight-yA(l,n,"top","bottom")),d=u!==n.w,g=f!==n.h;return n.w=u,n.h=f,e.horizontal?{same:d,other:g}:{same:g,other:d}}function NH(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function OH(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{o[l]=Math.max(t[l],e[l])}),o}return i(n?["left","right"]:["top","bottom"])}function Vu(n,t,e,i){const r=[];let o,l,u,f,d,g;for(o=0,l=n.length,d=0;o<l;++o){u=n[o],f=u.box,f.update(u.width||t.w,u.height||t.h,OH(u.horizontal,t));const{same:_,other:v}=MH(t,e,u,i);d|=_&&r.length,g=g||v,f.fullSize||r.push(u)}return d&&Vu(r,t,e,i)||g}function Id(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function _A(n,t,e,i){const r=e.padding;let{x:o,y:l}=t;for(const u of n){const f=u.box,d=i[u.stack]||{placed:0,weight:1},g=u.stackWeight/d.weight||1;if(u.horizontal){const _=t.w*g,v=d.size||f.height;ph(d.start)&&(l=d.start),f.fullSize?Id(f,r.left,l,e.outerWidth-r.right-r.left,v):Id(f,t.left+d.placed,l,_,v),d.start=l,d.placed+=_,l=f.bottom}else{const _=t.h*g,v=d.size||f.width;ph(d.start)&&(o=d.start),f.fullSize?Id(f,o,r.top,v,e.outerHeight-r.bottom-r.top):Id(f,o,t.top+d.placed,v,_),d.start=o,d.placed+=_,o=f.right}}t.x=o,t.y=l}var di={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=gi(n.options.layout.padding),o=Math.max(t-r.width,0),l=Math.max(e-r.height,0),u=DH(n.boxes),f=u.vertical,d=u.horizontal;se(n.boxes,R=>{typeof R.beforeLayout=="function"&&R.beforeLayout()});const g=f.reduce((R,k)=>k.box.options&&k.box.options.display===!1?R:R+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/g,hBoxMaxHeight:l/2}),v=Object.assign({},r);TD(v,gi(i));const T=Object.assign({maxPadding:v,w:o,h:l,x:r.left,y:r.top},r),S=IH(f.concat(d),_);Vu(u.fullSize,T,_,S),Vu(f,T,_,S),Vu(d,T,_,S)&&Vu(f,T,_,S),NH(T),_A(u.leftAndTop,T,_,S),T.x+=T.w,T.y+=T.h,_A(u.rightAndBottom,T,_,S),n.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},se(u.chartArea,R=>{const k=R.box;Object.assign(k,n.chartArea),k.update(T.w,T.h,{left:0,top:0,right:0,bottom:0})})}};class ED{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class PH extends ED{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const em="$chartjs",VH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},vA=n=>n===null||n==="";function LH(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[em]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",vA(r)){const o=rA(n,"width");o!==void 0&&(n.width=o)}if(vA(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=rA(n,"height");o!==void 0&&(n.height=o)}return n}const wD=K7?{passive:!0}:!1;function zH(n,t,e){n&&n.addEventListener(t,e,wD)}function jH(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,wD)}function UH(n,t){const e=VH[n.type]||n.type,{x:i,y:r}=co(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function zm(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function BH(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||zm(u.addedNodes,i),l=l&&!zm(u.removedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function FH(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||zm(u.removedNodes,i),l=l&&!zm(u.addedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const yh=new Map;let bA=0;function SD(){const n=window.devicePixelRatio;n!==bA&&(bA=n,yh.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function HH(n,t){yh.size||window.addEventListener("resize",SD),yh.set(n,t)}function qH(n){yh.delete(n),yh.size||window.removeEventListener("resize",SD)}function GH(n,t,e){const i=n.canvas,r=i&&sb(i);if(!r)return;const o=iD((u,f)=>{const d=r.clientWidth;e(u,f),d<r.clientWidth&&e()},window),l=new ResizeObserver(u=>{const f=u[0],d=f.contentRect.width,g=f.contentRect.height;d===0&&g===0||o(d,g)});return l.observe(r),HH(n,o),l}function a0(n,t,e){e&&e.disconnect(),t==="resize"&&qH(n)}function KH(n,t,e){const i=n.canvas,r=iD(o=>{n.ctx!==null&&e(UH(o,n))},n);return zH(i,t,r),r}class YH extends ED{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(LH(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[em])return!1;const i=e[em].initial;["height","width"].forEach(o=>{const l=i[o];fe(l)?e.removeAttribute(o):e.setAttribute(o,l)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[em],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),l={attach:BH,detach:FH,resize:GH}[e]||KH;r[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:a0,detach:a0,resize:a0}[e]||jH)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return G7(t,e,i,r)}isAttached(t){const e=t&&sb(t);return!!(e&&e.isConnected)}}function $H(n){return!ib()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?PH:YH}let fc=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Pm(this.x)&&Pm(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}};function WH(n,t){const e=n.options.ticks,i=XH(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?ZH(t):[],l=o.length,u=o[0],f=o[l-1],d=[];if(l>r)return JH(t,d,o,l/r),d;const g=QH(o,t,r);if(l>0){let _,v;const T=l>1?Math.round((f-u)/(l-1)):null;for(Dd(t,d,g,fe(T)?0:u-T,u),_=0,v=l-1;_<v;_++)Dd(t,d,g,o[_],o[_+1]);return Dd(t,d,g,f,fe(T)?t.length:f+T),d}return Dd(t,d,g),d}function XH(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function QH(n,t,e){const i=tq(n),r=t.length/e;if(!i)return Math.max(r,1);const o=J8(i);for(let l=0,u=o.length-1;l<u;l++){const f=o[l];if(f>r)return f}return Math.max(r,1)}function ZH(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function JH(n,t,e,i){let r=0,o=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===o&&(t.push(n[l]),r++,o=e[r*i])}function Dd(n,t,e,i,r){const o=Jt(i,0),l=Math.min(Jt(r,n.length),n.length);let u=0,f,d,g;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),g=o;g<0;)u++,g=Math.round(o+u*e);for(d=Math.max(o,0);d<l;d++)d===g&&(t.push(n[d]),u++,g=Math.round(o+u*e))}function tq(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const eq=n=>n==="left"?"right":n==="right"?"left":n,xA=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,TA=(n,t)=>Math.min(t||n,n);function EA(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function nq(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,l=n._endPixel,u=1e-6;let f=n.getPixelForTick(r),d;if(!(e&&(i===1?d=Math.max(f-o,l-f):t===0?d=(n.getPixelForTick(1)-f)/2:d=(f-n.getPixelForTick(r-1))/2,f+=r<t?d:-d,f<o-u||f>l+u)))return f}function iq(n,t){se(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function Au(n){return n.drawTicks?n.tickLength:0}function wA(n,t){if(!n.display)return 0;const e=xn(n.font,t),i=gi(n.padding);return(Qe(n.text)?n.text.length:1)*e.lineHeight+i.height}function sq(n,t){return hc(n,{scale:t,type:"scale"})}function rq(n,t,e){return hc(n,{tick:e,index:t,type:"tick"})}function aq(n,t,e){let i=Qv(n);return(e&&t!=="right"||!e&&t==="right")&&(i=eq(i)),i}function oq(n,t,e,i){const{top:r,left:o,bottom:l,right:u,chart:f}=n,{chartArea:d,scales:g}=f;let _=0,v,T,S;const R=l-r,k=u-o;if(n.isHorizontal()){if(T=yn(i,o,u),Xt(e)){const P=Object.keys(e)[0],B=e[P];S=g[P].getPixelForValue(B)+R-t}else e==="center"?S=(d.bottom+d.top)/2+R-t:S=xA(n,e,t);v=u-o}else{if(Xt(e)){const P=Object.keys(e)[0],B=e[P];T=g[P].getPixelForValue(B)-k+t}else e==="center"?T=(d.left+d.right)/2-k+t:T=xA(n,e,t);S=yn(i,l,r),_=e==="left"?-Pi:Pi}return{titleX:T,titleY:S,maxWidth:v,rotation:_}}class dc extends fc{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=fs(t,Number.POSITIVE_INFINITY),e=fs(e,Number.NEGATIVE_INFINITY),i=fs(i,Number.POSITIVE_INFINITY),r=fs(r,Number.NEGATIVE_INFINITY),{min:fs(t,i),max:fs(e,r),minDefined:pi(t),maxDefined:pi(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),l;if(r&&o)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let f=0,d=u.length;f<d;++f)l=u[f].controller.getMinMax(this,t),r||(e=Math.min(e,l.min)),o||(i=Math.max(i,l.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:fs(e,fs(i,e)),max:fs(i,fs(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ye(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=I7(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?EA(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=WH(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ye(this.options.afterUpdate,[this])}beforeSetDimensions(){ye(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ye(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ye(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ye(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=ye(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){ye(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ye(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=TA(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let l=r,u,f,d;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const g=this._getLabelSizes(),_=g.widest.width,v=g.highest.height,T=Vi(this.chart.width-_,0,this.maxWidth);u=t.offset?this.maxWidth/i:T/(i-1),_+6>u&&(u=T/(i-(t.offset?.5:1)),f=this.maxHeight-Au(t.grid)-e.padding-wA(t.title,this.chart.options.font),d=Math.sqrt(_*_+v*v),l=i7(Math.min(Math.asin(Vi((g.highest.height+6)/u,-1,1)),Math.asin(Vi(f/d,-1,1))-Math.asin(Vi(v/d,-1,1)))),l=Math.max(r,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){ye(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ye(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const f=wA(r,e.options.font);if(u?(t.width=this.maxWidth,t.height=Au(o)+f):(t.height=this.maxHeight,t.width=Au(o)+f),i.display&&this.ticks.length){const{first:d,last:g,widest:_,highest:v}=this._getLabelSizes(),T=i.padding*2,S=mo(this.labelRotation),R=Math.cos(S),k=Math.sin(S);if(u){const P=i.mirror?0:k*_.width+R*v.height;t.height=Math.min(this.maxHeight,t.height+P+T)}else{const P=i.mirror?0:R*_.width+k*v.height;t.width=Math.min(this.maxWidth,t.width+P+T)}this._calculatePadding(d,g,k,R)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:l},position:u}=this.options,f=this.labelRotation!==0,d=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,T=0;f?d?(v=r*t.width,T=i*e.height):(v=i*t.height,T=r*e.width):o==="start"?T=e.width:o==="end"?v=t.width:o!=="inner"&&(v=t.width/2,T=e.width/2),this.paddingLeft=Math.max((v-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((T-_+l)*this.width/(this.width-_),0)}else{let g=e.height/2,_=t.height/2;o==="start"?(g=0,_=t.height):o==="end"&&(g=e.height,_=0),this.paddingTop=g+l,this.paddingBottom=_+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ye(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)fe(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=EA(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,l=[],u=[],f=Math.floor(e/TA(e,i));let d=0,g=0,_,v,T,S,R,k,P,B,F,Q,W;for(_=0;_<e;_+=f){if(S=t[_].label,R=this._resolveTickFontOptions(_),r.font=k=R.string,P=o[k]=o[k]||{data:{},gc:[]},B=R.lineHeight,F=Q=0,!fe(S)&&!Qe(S))F=JS(r,P.data,P.gc,F,S),Q=B;else if(Qe(S))for(v=0,T=S.length;v<T;++v)W=S[v],!fe(W)&&!Qe(W)&&(F=JS(r,P.data,P.gc,F,W),Q+=B);l.push(F),u.push(Q),d=Math.max(F,d),g=Math.max(Q,g)}iq(o,e);const it=l.indexOf(d),M=u.indexOf(g),w=D=>({width:l[D]||0,height:u[D]||0});return{first:w(0),last:w(e-1),widest:w(it),highest:w(M),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return o7(this._alignToPixels?so(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=rq(this.getContext(),t,i))}return this.$context||(this.$context=sq(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=mo(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,u=o?o.widest.width+l:0,f=o?o.highest.height+l:0;return this.isHorizontal()?f*i>u*r?u/i:f/r:f*r<u*i?f/i:u/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:l,border:u}=r,f=o.offset,d=this.isHorizontal(),_=this.ticks.length+(f?1:0),v=Au(o),T=[],S=u.setContext(this.getContext()),R=S.display?S.width:0,k=R/2,P=function(Y){return so(i,Y,R)};let B,F,Q,W,it,M,w,D,V,O,z,N;if(l==="top")B=P(this.bottom),M=this.bottom-v,D=B-k,O=P(t.top)+k,N=t.bottom;else if(l==="bottom")B=P(this.top),O=t.top,N=P(t.bottom)-k,M=B+k,D=this.top+v;else if(l==="left")B=P(this.right),it=this.right-v,w=B-k,V=P(t.left)+k,z=t.right;else if(l==="right")B=P(this.left),V=t.left,z=P(t.right)-k,it=B+k,w=this.left+v;else if(e==="x"){if(l==="center")B=P((t.top+t.bottom)/2+.5);else if(Xt(l)){const Y=Object.keys(l)[0],rt=l[Y];B=P(this.chart.scales[Y].getPixelForValue(rt))}O=t.top,N=t.bottom,M=B+k,D=M+v}else if(e==="y"){if(l==="center")B=P((t.left+t.right)/2);else if(Xt(l)){const Y=Object.keys(l)[0],rt=l[Y];B=P(this.chart.scales[Y].getPixelForValue(rt))}it=B-k,w=it-v,V=t.left,z=t.right}const Nt=Jt(r.ticks.maxTicksLimit,_),wt=Math.max(1,Math.ceil(_/Nt));for(F=0;F<_;F+=wt){const Y=this.getContext(F),rt=o.setContext(Y),ft=u.setContext(Y),At=rt.lineWidth,lt=rt.color,j=ft.dash||[],et=ft.dashOffset,ct=rt.tickWidth,ht=rt.tickColor,mt=rt.tickBorderDash||[],gt=rt.tickBorderDashOffset;Q=nq(this,F,f),Q!==void 0&&(W=so(i,Q,At),d?it=w=V=z=W:M=D=O=N=W,T.push({tx1:it,ty1:M,tx2:w,ty2:D,x1:V,y1:O,x2:z,y2:N,width:At,color:lt,borderDash:j,borderDashOffset:et,tickWidth:ct,tickColor:ht,tickBorderDash:mt,tickBorderDashOffset:gt}))}return this._ticksLength=_,this._borderValue=B,T}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,l=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:d,padding:g,mirror:_}=o,v=Au(i.grid),T=v+g,S=_?-g:T,R=-mo(this.labelRotation),k=[];let P,B,F,Q,W,it,M,w,D,V,O,z,N="middle";if(r==="top")it=this.bottom-S,M=this._getXAxisLabelAlignment();else if(r==="bottom")it=this.top+S,M=this._getXAxisLabelAlignment();else if(r==="left"){const wt=this._getYAxisLabelAlignment(v);M=wt.textAlign,W=wt.x}else if(r==="right"){const wt=this._getYAxisLabelAlignment(v);M=wt.textAlign,W=wt.x}else if(e==="x"){if(r==="center")it=(t.top+t.bottom)/2+T;else if(Xt(r)){const wt=Object.keys(r)[0],Y=r[wt];it=this.chart.scales[wt].getPixelForValue(Y)+T}M=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")W=(t.left+t.right)/2-T;else if(Xt(r)){const wt=Object.keys(r)[0],Y=r[wt];W=this.chart.scales[wt].getPixelForValue(Y)}M=this._getYAxisLabelAlignment(v).textAlign}e==="y"&&(f==="start"?N="top":f==="end"&&(N="bottom"));const Nt=this._getLabelSizes();for(P=0,B=u.length;P<B;++P){F=u[P],Q=F.label;const wt=o.setContext(this.getContext(P));w=this.getPixelForTick(P)+o.labelOffset,D=this._resolveTickFontOptions(P),V=D.lineHeight,O=Qe(Q)?Q.length:1;const Y=O/2,rt=wt.color,ft=wt.textStrokeColor,At=wt.textStrokeWidth;let lt=M;l?(W=w,M==="inner"&&(P===B-1?lt=this.options.reverse?"left":"right":P===0?lt=this.options.reverse?"right":"left":lt="center"),r==="top"?d==="near"||R!==0?z=-O*V+V/2:d==="center"?z=-Nt.highest.height/2-Y*V+V:z=-Nt.highest.height+V/2:d==="near"||R!==0?z=V/2:d==="center"?z=Nt.highest.height/2-Y*V:z=Nt.highest.height-O*V,_&&(z*=-1),R!==0&&!wt.showLabelBackdrop&&(W+=V/2*Math.sin(R))):(it=w,z=(1-O)*V/2);let j;if(wt.showLabelBackdrop){const et=gi(wt.backdropPadding),ct=Nt.heights[P],ht=Nt.widths[P];let mt=z-et.top,gt=0-et.left;switch(N){case"middle":mt-=ct/2;break;case"bottom":mt-=ct;break}switch(M){case"center":gt-=ht/2;break;case"right":gt-=ht;break;case"inner":P===B-1?gt-=ht:P>0&&(gt-=ht/2);break}j={left:gt,top:mt,width:ht+et.width,height:ct+et.height,color:wt.backdropColor}}k.push({label:Q,font:D,textOffset:z,options:{rotation:R,color:rt,strokeColor:ft,strokeWidth:At,textAlign:lt,textBaseline:N,translation:[W,it],backdrop:j}})}return k}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-mo(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,l=this._getLabelSizes(),u=t+o,f=l.widest.width;let d,g;return e==="left"?r?(g=this.right+o,i==="near"?d="left":i==="center"?(d="center",g+=f/2):(d="right",g+=f)):(g=this.right-u,i==="near"?d="right":i==="center"?(d="center",g-=f/2):(d="left",g=this.left)):e==="right"?r?(g=this.left+o,i==="near"?d="right":i==="center"?(d="center",g-=f/2):(d="left",g-=f)):(g=this.left+u,i==="near"?d="left":i==="center"?(d="center",g+=f/2):(d="right",g=this.right)):d="right",{textAlign:d,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const u=(f,d,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(e.display)for(o=0,l=r.length;o<l;++o){const f=r[o];e.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const u=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let d,g,_,v;this.isHorizontal()?(d=so(t,this.left,l)-l/2,g=so(t,this.right,u)+u/2,_=v=f):(_=so(t,this.top,l)-l/2,v=so(t,this.bottom,u)+u/2,d=g=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(d,_),e.lineTo(g,v),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Zv(i,r);const o=this.getLabelItems(t);for(const l of o){const u=l.options,f=l.font,d=l.label,g=l.textOffset;gh(i,d,0,g,f,u)}r&&Jv(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=xn(i.font),l=gi(i.padding),u=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||Xt(e)?(f+=l.bottom,Qe(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=l.top;const{titleX:d,titleY:g,maxWidth:_,rotation:v}=oq(this,f,e,u);gh(t,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:v,textAlign:aq(u,e,r),textBaseline:"middle",translation:[d,g]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Jt(t.grid&&t.grid.z,-1),r=Jt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==dc.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,l;for(o=0,l=e.length;o<l;++o){const u=e[o];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return xn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Md{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;uq(e)&&(i=this.register(e));const r=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,lq(t,l,i),this.override&&Ne.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Ne[r]&&(delete Ne[r][i],this.override&&delete Ao[i])}}function lq(n,t,e){const i=mh(Object.create(null),[e?Ne.get(e):{},Ne.get(t),n.defaults]);Ne.set(t,i),n.defaultRoutes&&cq(t,n.defaultRoutes),n.descriptors&&Ne.describe(t,n.descriptors)}function cq(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),f=l.join(".");Ne.route(o,r,f,u)})}function uq(n){return"id"in n&&"defaults"in n}class hq{constructor(){this.controllers=new Md(vD,"datasets",!0),this.elements=new Md(fc,"elements"),this.plugins=new Md(Object,"plugins"),this.scales=new Md(dc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):se(r,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const r=Wv(t);ye(i["before"+r],[],i),e[t](i),ye(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var ps=new hq;class fq{constructor(){this._init=void 0}notify(t,e,i,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=r?this._descriptors(t).filter(r):this._descriptors(t),l=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),l}_notify(t,e,i,r){r=r||{};for(const o of t){const l=o.plugin,u=l[i],f=[e,r,o.options];if(ye(u,f,l)===!1&&r.cancelable)return!1}return!0}invalidate(){fe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Jt(i.options&&i.options.plugins,{}),o=dq(i);return r===!1&&!e?[]:pq(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,l)=>o.filter(u=>!l.some(f=>u.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function dq(n){const t={},e=[],i=Object.keys(ps.plugins.items);for(let o=0;o<i.length;o++)e.push(ps.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const l=r[o];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function mq(n,t){return!t&&n===!1?null:n===!0?{}:n}function pq(n,{plugins:t,localIds:e},i,r){const o=[],l=n.getContext();for(const u of t){const f=u.id,d=mq(i[f],r);d!==null&&o.push({plugin:u,options:gq(n.config,{plugin:u,local:e[f]},d,l)})}return o}function gq(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),l=n.getOptionScopes(i,o);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function h_(n,t){const e=Ne.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function yq(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function _q(n,t){return n===t?"_index_":"_value_"}function SA(n){if(n==="x"||n==="y"||n==="r")return n}function vq(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function f_(n,...t){if(SA(n))return n;for(const e of t){const i=e.axis||vq(e.position)||n.length>1&&SA(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function AA(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function bq(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return AA(n,"x",e[0])||AA(n,"y",e[0])}return{}}function xq(n,t){const e=Ao[n.type]||{scales:{}},i=t.scales||{},r=h_(n.type,t),o=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Xt(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=f_(l,u,bq(l,n),Ne.scales[u.type]),d=_q(f,r),g=e.scales||{};o[l]=$u(Object.create(null),[{axis:f},u,g[f],g[d]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,f=l.indexAxis||h_(u,t),g=(Ao[u]||{}).scales||{};Object.keys(g).forEach(_=>{const v=yq(_,f),T=l[v+"AxisID"]||v;o[T]=o[T]||Object.create(null),$u(o[T],[{axis:v},i[T],g[_]])})}),Object.keys(o).forEach(l=>{const u=o[l];$u(u,[Ne.scales[u.type],Ne.scale])}),o}function AD(n){const t=n.options||(n.options={});t.plugins=Jt(t.plugins,{}),t.scales=xq(n,t)}function CD(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function Tq(n){return n=n||{},n.data=CD(n.data),AD(n),n}const CA=new Map,RD=new Set;function Nd(n,t){let e=CA.get(n);return e||(e=t(),CA.set(n,e),RD.add(e)),e}const Cu=(n,t,e)=>{const i=Ql(t,e);i!==void 0&&n.add(i)};class Eq{constructor(t){this._config=Tq(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=CD(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),AD(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Nd(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Nd(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Nd(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Nd(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const f=new Set;e.forEach(g=>{t&&(f.add(t),g.forEach(_=>Cu(f,t,_))),g.forEach(_=>Cu(f,r,_)),g.forEach(_=>Cu(f,Ao[o]||{},_)),g.forEach(_=>Cu(f,Ne,_)),g.forEach(_=>Cu(f,u_,_))});const d=Array.from(f);return d.length===0&&d.push(Object.create(null)),RD.has(e)&&l.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ao[e]||{},Ne.datasets[e]||{},{type:e},Ne,u_]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=RA(this._resolverCache,t,r);let f=l;if(Sq(l,e)){o.$shared=!1,i=ya(i)?i():i;const d=this.createResolver(t,i,u);f=Zl(l,i,d)}for(const d of e)o[d]=f[d];return o}createResolver(t,e,i=[""],r){const{resolver:o}=RA(this._resolverCache,t,i);return Xt(e)?Zl(o,e,void 0,r):o}}function RA(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:tb(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,o)),o}const wq=n=>Xt(n)&&Object.getOwnPropertyNames(n).some(t=>ya(n[t]));function Sq(n,t){const{isScriptable:e,isIndexable:i}=hD(n);for(const r of t){const o=e(r),l=i(r),u=(l||o)&&n[r];if(o&&(ya(u)||wq(u))||l&&Qe(u))return!0}return!1}var Aq="4.5.1";const Cq=["top","bottom","left","right","chartArea"];function kA(n,t){return n==="top"||n==="bottom"||Cq.indexOf(n)===-1&&t==="x"}function IA(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function DA(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ye(e&&e.onComplete,[n],t)}function Rq(n){const t=n.chart,e=t.options.animation;ye(e&&e.onProgress,[n],t)}function kD(n){return ib()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const nm={},MA=n=>{const t=kD(n);return Object.values(nm).filter(e=>e.canvas===t).pop()};function kq(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const l=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=l)}}}function Iq(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let mp=class{static defaults=Ne;static instances=nm;static overrides=Ao;static registry=ps;static version=Aq;static getChart=MA;static register(...t){ps.add(...t),NA()}static unregister(...t){ps.remove(...t),NA()}constructor(t,e){const i=this.config=new Eq(e),r=kD(t),o=MA(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||$H(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,l.aspectRatio),f=u&&u.canvas,d=f&&f.height,g=f&&f.width;if(this.id=G8(),this.ctx=u,this.canvas=f,this.width=g,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new fq,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=h7(_=>this.update(_),l.resizeDelay||0),this._dataChanges=[],nm[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Ws.listen(this,"complete",DA),Ws.listen(this,"progress",Rq),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return fe(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ps}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():sA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return tA(this.canvas,this.ctx),this}stop(){return Ws.stop(this),this}resize(t,e){Ws.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,t,e,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,sA(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),ye(i.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};se(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let o=[];e&&(o=o.concat(Object.keys(e).map(l=>{const u=e[l],f=f_(l,u),d=f==="r",g=f==="x";return{options:u,dposition:d?"chartArea":g?"bottom":"left",dtype:d?"radialLinear":g?"category":"linear"}}))),se(o,l=>{const u=l.options,f=u.id,d=f_(f,u),g=Jt(u.type,l.dtype);(u.position===void 0||kA(u.position,d)!==kA(l.dposition))&&(u.position=l.dposition),r[f]=!0;let _=null;if(f in i&&i[f].type===g)_=i[f];else{const v=ps.getScale(g);_=new v({id:f,type:g,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(u,t)}),se(r,(l,u)=>{l||delete i[u]}),se(i,l=>{di.configure(this,l,l.options),di.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(IA("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let l=this.getDatasetMeta(i);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=o.indexAxis||h_(u,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const f=ps.getController(u),{datasetElementType:d,dataElementType:g}=Ne.datasets[u];Object.assign(f,{dataElementType:ps.getElement(g),datasetElementType:d&&ps.getElement(d)}),l.controller=new f(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){se(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,g=this.data.datasets.length;d<g;d++){const{controller:_}=this.getDatasetMeta(d),v=!r&&o.indexOf(_)===-1;_.buildOrUpdateElements(v),l=Math.max(+_.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||se(o,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(IA("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){se(this.scales,t=>{di.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!qS(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const l=i==="_removeElements"?-o:o;kq(t,r,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!qS(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;di.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],se(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,ya(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ws.has(this)?this.attached&&!Ws.running(this)&&Ws.start(this):(this.draw(),DA({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const l=e[r];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=X7(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Zv(e,r),t.controller.draw(),r&&Jv(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return lD(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=CH.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=hc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,r);ph(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(o,{visible:i}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Ws.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),tA(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete nm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,l)=>{e.addEventListener(this,o,l),t[o]=l},r=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};se(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,d)=>{e.addEventListener(this,f,d),t[f]=d},r=(f,d)=>{t[f]&&(e.removeEventListener(this,f,d),delete t[f])},o=(f,d)=>{this.canvas&&this.resize(f,d)};let l;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){se(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},se(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,l,u,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),u=0,f=t.length;u<f;++u){l=t[u];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!Mm(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,d)=>f.filter(g=>!d.some(_=>g.datasetIndex===_.datasetIndex&&g.index===_.index)),l=o(e,t),u=i?t:o(t,e);l.length&&this.updateHoverStyle(l,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,l=e,u=this._getActiveElements(t,r,i,l),f=Q8(t),d=Iq(t,this._lastEvent,i,f);i&&(this._lastEvent=null,ye(o.onHover,[t,u,this],this),f&&ye(o.onClick,[t,u,this],this));const g=!Mm(u,r);return(g||e)&&(this._active=u,this._updateHoverStyles(u,r,e)),this._lastEvent=d,g}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function NA(){return se(mp.instances,n=>n._plugins.invalidate())}function ID(n,t){const{x:e,y:i,base:r,width:o,height:l}=n.getProps(["x","y","base","width","height"],t);let u,f,d,g,_;return n.horizontal?(_=l/2,u=Math.min(e,r),f=Math.max(e,r),d=i-_,g=i+_):(_=o/2,u=e-_,f=e+_,d=Math.min(i,r),g=Math.max(i,r)),{left:u,top:d,right:f,bottom:g}}function Jr(n,t,e,i){return n?0:Vi(t,e,i)}function Dq(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=uD(i);return{t:Jr(r.top,o.top,0,e),r:Jr(r.right,o.right,0,t),b:Jr(r.bottom,o.bottom,0,e),l:Jr(r.left,o.left,0,t)}}function Mq(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=Ul(r),l=Math.min(t,e),u=n.borderSkipped,f=i||Xt(r);return{topLeft:Jr(!f||u.top||u.left,o.topLeft,0,l),topRight:Jr(!f||u.top||u.right,o.topRight,0,l),bottomLeft:Jr(!f||u.bottom||u.left,o.bottomLeft,0,l),bottomRight:Jr(!f||u.bottom||u.right,o.bottomRight,0,l)}}function Nq(n){const t=ID(n),e=t.right-t.left,i=t.bottom-t.top,r=Dq(n,e/2,i/2),o=Mq(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function o0(n,t,e,i){const r=t===null,o=e===null,u=n&&!(r&&o)&&ID(n,i);return u&&(r||Ml(t,u.left,u.right))&&(o||Ml(e,u.top,u.bottom))}function Oq(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Pq(n,t){n.rect(t.x,t.y,t.w,t.h)}function l0(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,l=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+l,radius:n.radius}}class Vq extends fc{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:l}=Nq(this),u=Oq(l.radius)?Vm:Pq;t.save(),(l.w!==o.w||l.h!==o.h)&&(t.beginPath(),u(t,l0(l,e,o)),t.clip(),u(t,l0(o,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,l0(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return o0(this,t,e,i)}inXRange(t,e){return o0(this,t,null,e)}inYRange(t,e){return o0(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const OA=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},Lq=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class PA extends fc{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ye(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=xn(i.font),o=r.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=OA(i,o);let d,g;e.font=r.string,this.isHorizontal()?(d=this.maxWidth,g=this._fitRows(l,o,u,f)+10):(g=this.maxHeight,d=this._fitCols(l,r,u,f)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(g,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.lineWidths=[0],g=r+u;let _=t;o.textAlign="left",o.textBaseline="middle";let v=-1,T=-g;return this.legendItems.forEach((S,R)=>{const k=i+e/2+o.measureText(S.text).width;(R===0||d[d.length-1]+k+2*u>l)&&(_+=g,d[d.length-(R>0?0:1)]=0,T+=g,v++),f[R]={left:0,top:T,row:v,width:k,height:r},d[d.length-1]+=k+u}),_}_fitCols(t,e,i,r){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.columnSizes=[],g=l-t;let _=u,v=0,T=0,S=0,R=0;return this.legendItems.forEach((k,P)=>{const{itemWidth:B,itemHeight:F}=zq(i,e,o,k,r);P>0&&T+F+2*u>g&&(_+=v+u,d.push({width:v,height:T}),S+=v+u,R++,v=T=0),f[P]={left:S,top:T,col:R,width:B,height:F},v=Math.max(v,B),T+=F+u}),_+=v,d.push({width:v,height:T}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,l=Bl(o,this.left,this.width);if(this.isHorizontal()){let u=0,f=yn(i,this.left+r,this.right-this.lineWidths[u]);for(const d of e)u!==d.row&&(u=d.row,f=yn(i,this.left+r,this.right-this.lineWidths[u])),d.top+=this.top+t+r,d.left=l.leftForLtr(l.x(f),d.width),f+=d.width+r}else{let u=0,f=yn(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const d of e)d.col!==u&&(u=d.col,f=yn(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),d.top=f,d.left+=this.left+r,d.left=l.leftForLtr(l.x(d.left),d.width),f+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Zv(t,this),this._draw(),Jv(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:l}=t,u=Ne.color,f=Bl(t.rtl,this.left,this.width),d=xn(l.font),{padding:g}=l,_=d.size,v=_/2;let T;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:S,boxHeight:R,itemHeight:k}=OA(l,_),P=function(it,M,w){if(isNaN(S)||S<=0||isNaN(R)||R<0)return;r.save();const D=Jt(w.lineWidth,1);if(r.fillStyle=Jt(w.fillStyle,u),r.lineCap=Jt(w.lineCap,"butt"),r.lineDashOffset=Jt(w.lineDashOffset,0),r.lineJoin=Jt(w.lineJoin,"miter"),r.lineWidth=D,r.strokeStyle=Jt(w.strokeStyle,u),r.setLineDash(Jt(w.lineDash,[])),l.usePointStyle){const V={radius:R*Math.SQRT2/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:D},O=f.xPlus(it,S/2),z=M+v;oD(r,V,O,z,l.pointStyleWidth&&S)}else{const V=M+Math.max((_-R)/2,0),O=f.leftForLtr(it,S),z=Ul(w.borderRadius);r.beginPath(),Object.values(z).some(N=>N!==0)?Vm(r,{x:O,y:V,w:S,h:R,radius:z}):r.rect(O,V,S,R),r.fill(),D!==0&&r.stroke()}r.restore()},B=function(it,M,w){gh(r,w.text,it,M+k/2,d,{strikethrough:w.hidden,textAlign:f.textAlign(w.textAlign)})},F=this.isHorizontal(),Q=this._computeTitleHeight();F?T={x:yn(o,this.left+g,this.right-i[0]),y:this.top+g+Q,line:0}:T={x:this.left+g,y:yn(o,this.top+Q+g,this.bottom-e[0].height),line:0},pD(this.ctx,t.textDirection);const W=k+g;this.legendItems.forEach((it,M)=>{r.strokeStyle=it.fontColor,r.fillStyle=it.fontColor;const w=r.measureText(it.text).width,D=f.textAlign(it.textAlign||(it.textAlign=l.textAlign)),V=S+v+w;let O=T.x,z=T.y;f.setWidth(this.width),F?M>0&&O+V+g>this.right&&(z=T.y+=W,T.line++,O=T.x=yn(o,this.left+g,this.right-i[T.line])):M>0&&z+W>this.bottom&&(O=T.x=O+e[T.line].width+g,T.line++,z=T.y=yn(o,this.top+Q+g,this.bottom-e[T.line].height));const N=f.x(O);if(P(N,z,it),O=f7(D,O+S+v,F?O+V:this.right,t.rtl),B(f.x(O),z,it),F)T.x+=V+g;else if(typeof it.text!="string"){const Nt=d.lineHeight;T.y+=DD(it,Nt)+g}else T.y+=W}),gD(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=xn(e.font),r=gi(e.padding);if(!e.display)return;const o=Bl(t.rtl,this.left,this.width),l=this.ctx,u=e.position,f=i.size/2,d=r.top+f;let g,_=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),g=this.top+d,_=yn(t.align,_,this.right-v);else{const S=this.columnSizes.reduce((R,k)=>Math.max(R,k.height),0);g=d+yn(t.align,this.top,this.bottom-S-t.labels.padding-this._computeTitleHeight())}const T=yn(u,_,_+v);l.textAlign=o.textAlign(Qv(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,gh(l,e.text,T,g,i)}_computeTitleHeight(){const t=this.options.title,e=xn(t.font),i=gi(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Ml(t,this.left,this.right)&&Ml(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Ml(t,r.left,r.left+r.width)&&Ml(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!Bq(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=Lq(r,i);r&&!o&&ye(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&ye(e.onHover,[t,i,this],this)}else i&&ye(e.onClick,[t,i,this],this)}}function zq(n,t,e,i,r){const o=jq(i,n,t,e),l=Uq(r,i,t.lineHeight);return{itemWidth:o,itemHeight:l}}function jq(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,l)=>o.length>l.length?o:l)),t+e.size/2+i.measureText(r).width}function Uq(n,t,e){let i=n;return typeof t.text!="string"&&(i=DD(t,e)),i}function DD(n,t){const e=n.text?n.text.length:0;return t*e}function Bq(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var Fq={id:"legend",_element:PA,start(n,t,e){const i=n.legend=new PA({ctx:n.ctx,options:e,chart:n});di.configure(n,i,e),di.addBox(n,i)},stop(n){di.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;di.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const d=f.controller.getStyle(e?0:void 0),g=gi(d.borderWidth);return{text:t[f.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:l&&(u||d.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class MD extends fc{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Qe(i.text)?i.text.length:1;this._padding=gi(i.padding);const o=r*xn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:l}=this,u=l.align;let f=0,d,g,_;return this.isHorizontal()?(g=yn(u,i,o),_=e+t,d=o-i):(l.position==="left"?(g=i+t,_=yn(u,r,e),f=Tn*-.5):(g=o-t,_=yn(u,e,r),f=Tn*.5),d=r-e),{titleX:g,titleY:_,maxWidth:d,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=xn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:f,rotation:d}=this._drawArgs(o);gh(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:d,textAlign:Qv(e.align),textBaseline:"middle",translation:[l,u]})}}function Hq(n,t){const e=new MD({ctx:n.ctx,options:t,chart:n});di.configure(n,e,t),di.addBox(n,e),n.titleBlock=e}var qq={id:"title",_element:MD,start(n,t,e){Hq(n,e)},stop(n){const t=n.titleBlock;di.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;di.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Lu={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const f=u.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,f)=>u+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=n.length;o<l;++o){const f=n[o].element;if(f&&f.hasValue()){const d=f.getCenterPoint(),g=r7(t,d);g<r&&(r=g,u=f)}}if(u){const f=u.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function ds(n,t){return t&&(Qe(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Xs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function Gq(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:l,value:u}=o.getLabelAndValue(r);return{chart:n,label:l,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function VA(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:l,boxHeight:u}=t,f=xn(t.bodyFont),d=xn(t.titleFont),g=xn(t.footerFont),_=o.length,v=r.length,T=i.length,S=gi(t.padding);let R=S.height,k=0,P=i.reduce((Q,W)=>Q+W.before.length+W.lines.length+W.after.length,0);if(P+=n.beforeBody.length+n.afterBody.length,_&&(R+=_*d.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),P){const Q=t.displayColors?Math.max(u,f.lineHeight):f.lineHeight;R+=T*Q+(P-T)*f.lineHeight+(P-1)*t.bodySpacing}v&&(R+=t.footerMarginTop+v*g.lineHeight+(v-1)*t.footerSpacing);let B=0;const F=function(Q){k=Math.max(k,e.measureText(Q).width+B)};return e.save(),e.font=d.string,se(n.title,F),e.font=f.string,se(n.beforeBody.concat(n.afterBody),F),B=t.displayColors?l+2+t.boxPadding:0,se(i,Q=>{se(Q.before,F),se(Q.lines,F),se(Q.after,F)}),B=0,e.font=g.string,se(n.footer,F),e.restore(),k+=S.width,{width:k,height:R}}function Kq(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function Yq(n,t,e,i){const{x:r,width:o}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&r+o+l>t.width||n==="right"&&r-o-l<0)return!0}function $q(n,t,e,i){const{x:r,width:o}=e,{width:l,chartArea:{left:u,right:f}}=n;let d="center";return i==="center"?d=r<=(u+f)/2?"left":"right":r<=o/2?d="left":r>=l-o/2&&(d="right"),Yq(d,n,t,e)&&(d="center"),d}function LA(n,t,e){const i=e.yAlign||t.yAlign||Kq(n,e);return{xAlign:e.xAlign||t.xAlign||$q(n,t,e,i),yAlign:i}}function Wq(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function Xq(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function zA(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:l}=n,{xAlign:u,yAlign:f}=e,d=r+o,{topLeft:g,topRight:_,bottomLeft:v,bottomRight:T}=Ul(l);let S=Wq(t,u);const R=Xq(t,f,d);return f==="center"?u==="left"?S+=d:u==="right"&&(S-=d):u==="left"?S-=Math.max(g,v)+r:u==="right"&&(S+=Math.max(_,T)+r),{x:Vi(S,0,i.width-t.width),y:Vi(R,0,i.height-t.height)}}function Od(n,t,e){const i=gi(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function jA(n){return ds([],Xs(n))}function Qq(n,t,e){return hc(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function UA(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const ND={beforeTitle:$s,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:$s,beforeBody:$s,beforeLabel:$s,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return fe(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:$s,afterBody:$s,beforeFooter:$s,footer:$s,afterFooter:$s};function Ln(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?ND[t].call(e,i):r}class BA extends fc{static positioners=Lu;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new yD(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Qq(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Ln(i,"beforeTitle",this,t),o=Ln(i,"title",this,t),l=Ln(i,"afterTitle",this,t);let u=[];return u=ds(u,Xs(r)),u=ds(u,Xs(o)),u=ds(u,Xs(l)),u}getBeforeBody(t,e){return jA(Ln(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return se(t,o=>{const l={before:[],lines:[],after:[]},u=UA(i,o);ds(l.before,Xs(Ln(u,"beforeLabel",this,o))),ds(l.lines,Ln(u,"label",this,o)),ds(l.after,Xs(Ln(u,"afterLabel",this,o))),r.push(l)}),r}getAfterBody(t,e){return jA(Ln(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Ln(i,"beforeFooter",this,t),o=Ln(i,"footer",this,t),l=Ln(i,"afterFooter",this,t);let u=[];return u=ds(u,Xs(r)),u=ds(u,Xs(o)),u=ds(u,Xs(l)),u}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],l=[];let u=[],f,d;for(f=0,d=e.length;f<d;++f)u.push(Gq(this.chart,e[f]));return t.filter&&(u=u.filter((g,_,v)=>t.filter(g,_,v,i))),t.itemSort&&(u=u.sort((g,_)=>t.itemSort(g,_,i))),se(u,g=>{const _=UA(t.callbacks,g);r.push(Ln(_,"labelColor",this,g)),o.push(Ln(_,"labelPointStyle",this,g)),l.push(Ln(_,"labelTextColor",this,g))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,l=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const u=Lu[i.position].call(this,r,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const f=this._size=VA(this,i),d=Object.assign({},u,f),g=LA(this.chart,i,d),_=zA(i,d,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,o={opacity:1,x:_.x,y:_.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:f,topRight:d,bottomLeft:g,bottomRight:_}=Ul(u),{x:v,y:T}=t,{width:S,height:R}=e;let k,P,B,F,Q,W;return o==="center"?(Q=T+R/2,r==="left"?(k=v,P=k-l,F=Q+l,W=Q-l):(k=v+S,P=k+l,F=Q-l,W=Q+l),B=k):(r==="left"?P=v+Math.max(f,g)+l:r==="right"?P=v+S-Math.max(d,_)-l:P=this.caretX,o==="top"?(F=T,Q=F-l,k=P-l,B=P+l):(F=T+R,Q=F+l,k=P+l,B=P-l),W=F),{x1:k,x2:P,x3:B,y1:F,y2:Q,y3:W}}drawTitle(t,e,i){const r=this.title,o=r.length;let l,u,f;if(o){const d=Bl(i.rtl,this.x,this.width);for(t.x=Od(this,i.titleAlign,i),e.textAlign=d.textAlign(i.titleAlign),e.textBaseline="middle",l=xn(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,f=0;f<o;++f)e.fillText(r[f],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,f+1===o&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,r,o){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:f,boxWidth:d}=o,g=xn(o.bodyFont),_=Od(this,"left",o),v=r.x(_),T=f<g.lineHeight?(g.lineHeight-f)/2:0,S=e.y+T;if(o.usePointStyle){const R={radius:Math.min(d,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},k=r.leftForLtr(v,d)+d/2,P=S+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,eA(t,R,k,P),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,eA(t,R,k,P)}else{t.lineWidth=Xt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const R=r.leftForLtr(v,d),k=r.leftForLtr(r.xPlus(v,1),d-2),P=Ul(l.borderRadius);Object.values(P).some(B=>B!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Vm(t,{x:R,y:S,w:d,h:f,radius:P}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Vm(t,{x:k,y:S+1,w:d-2,h:f-2,radius:P}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(R,S,d,f),t.strokeRect(R,S,d,f),t.fillStyle=l.backgroundColor,t.fillRect(k,S+1,d-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:f,boxWidth:d,boxPadding:g}=i,_=xn(i.bodyFont);let v=_.lineHeight,T=0;const S=Bl(i.rtl,this.x,this.width),R=function(w){e.fillText(w,S.x(t.x+T),t.y+v/2),t.y+=v+o},k=S.textAlign(l);let P,B,F,Q,W,it,M;for(e.textAlign=l,e.textBaseline="middle",e.font=_.string,t.x=Od(this,k,i),e.fillStyle=i.bodyColor,se(this.beforeBody,R),T=u&&k!=="right"?l==="center"?d/2+g:d+2+g:0,Q=0,it=r.length;Q<it;++Q){for(P=r[Q],B=this.labelTextColors[Q],e.fillStyle=B,se(P.before,R),F=P.lines,u&&F.length&&(this._drawColorBox(e,t,Q,S,i),v=Math.max(_.lineHeight,f)),W=0,M=F.length;W<M;++W)R(F[W]),v=_.lineHeight;se(P.after,R)}T=0,v=_.lineHeight,se(this.afterBody,R),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let l,u;if(o){const f=Bl(i.rtl,this.x,this.width);for(t.x=Od(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",l=xn(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<o;++u)e.fillText(r[u],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:l}=this,{x:u,y:f}=t,{width:d,height:g}=i,{topLeft:_,topRight:v,bottomLeft:T,bottomRight:S}=Ul(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(u+_,f),l==="top"&&this.drawCaret(t,e,i,r),e.lineTo(u+d-v,f),e.quadraticCurveTo(u+d,f,u+d,f+v),l==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(u+d,f+g-S),e.quadraticCurveTo(u+d,f+g,u+d-S,f+g),l==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(u+T,f+g),e.quadraticCurveTo(u,f+g,u,f+g-T),l==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(u,f+_),e.quadraticCurveTo(u,f,u+_,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const l=Lu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=VA(this,t),f=Object.assign({},l,this._size),d=LA(e,t,f),g=zA(t,f,d,e);(r._to!==g.x||o._to!==g.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=gi(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),pD(t,e.textDirection),o.y+=l.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),gD(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:u,index:f})=>{const d=this.chart.getDatasetMeta(u);if(!d)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:d.data[f],index:f}}),o=!Mm(i,r),l=this._positionChanged(r,e);(o||l)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],l=this._getActiveElements(t,o,e,i),u=this._positionChanged(l,t),f=e||!Mm(l,o)||u;return f&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,l=Lu[o.position].call(this,t,e);return l!==!1&&(i!==l.x||r!==l.y)}}var Zq={id:"tooltip",_element:BA,positioners:Lu,afterInit(n,t,e){e&&(n.tooltip=new BA({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ND},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Jq=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function tG(n,t,e,i){const r=n.indexOf(t);if(r===-1)return Jq(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const eG=(n,t)=>n===null?null:Vi(Math.round(n),0,t);function FA(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class nG extends dc{static id="category";static defaults={ticks:{callback:FA}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(fe(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:tG(i,t,Jt(e,t),this._addedLabels),eG(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)r.push({value:l});return r}getLabelForValue(t){return FA.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function iG(n,t){const e=[],{bounds:r,step:o,min:l,max:u,precision:f,count:d,maxTicks:g,maxDigits:_,includeBounds:v}=n,T=o||1,S=g-1,{min:R,max:k}=t,P=!fe(l),B=!fe(u),F=!fe(d),Q=(k-R)/(_+1);let W=KS((k-R)/S/T)*T,it,M,w,D;if(W<1e-14&&!P&&!B)return[{value:R},{value:k}];D=Math.ceil(k/W)-Math.floor(R/W),D>S&&(W=KS(D*W/S/T)*T),fe(f)||(it=Math.pow(10,f),W=Math.ceil(W*it)/it),r==="ticks"?(M=Math.floor(R/W)*W,w=Math.ceil(k/W)*W):(M=R,w=k),P&&B&&o&&e7((u-l)/o,W/1e3)?(D=Math.round(Math.min((u-l)/W,g)),W=(u-l)/D,M=l,w=u):F?(M=P?l:M,w=B?u:w,D=d-1,W=(w-M)/D):(D=(w-M)/W,tm(D,Math.round(D),W/1e3)?D=Math.round(D):D=Math.ceil(D));const V=Math.max(YS(W),YS(M));it=Math.pow(10,fe(f)?V:f),M=Math.round(M*it)/it,w=Math.round(w*it)/it;let O=0;for(P&&(v&&M!==l?(e.push({value:l}),M<l&&O++,tm(Math.round((M+O*W)*it)/it,l,HA(l,Q,n))&&O++):M<l&&O++);O<D;++O){const z=Math.round((M+O*W)*it)/it;if(B&&z>u)break;e.push({value:z})}return B&&v&&w!==u?e.length&&tm(e[e.length-1].value,u,HA(u,Q,n))?e[e.length-1].value=u:e.push({value:u}):(!B||w===u)&&e.push({value:w}),e}function HA(n,t,{horizontal:e,minRotation:i}){const r=mo(i),o=(e?Math.sin(r):Math.cos(r))||.001,l=.75*t*(""+n).length;return Math.min(t/o,l)}class sG extends dc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return fe(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const l=f=>r=e?r:f,u=f=>o=i?o:f;if(t){const f=ca(r),d=ca(o);f<0&&d<0?u(0):f>0&&d>0&&l(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);u(o+f),t||l(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,l=iG(r,o);return t.bounds==="ticks"&&n7(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return rD(t,this.chart.options.locale,this.options.ticks.format)}}class rG extends sG{static id="linear";static defaults={ticks:{callback:aD.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=pi(t)?t:0,this.max=pi(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=mo(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const pp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Un=Object.keys(pp);function qA(n,t){return n-t}function GA(n,t){if(fe(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),pi(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(r&&(l=r==="week"&&(Pm(o)||o===!0)?e.startOf(l,"isoWeek",o):e.startOf(l,r)),+l)}function KA(n,t,e,i){const r=Un.length;for(let o=Un.indexOf(n);o<r-1;++o){const l=pp[Un[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return Un[o]}return Un[r-1]}function aG(n,t,e,i,r){for(let o=Un.length-1;o>=Un.indexOf(e);o--){const l=Un[o];if(pp[l].common&&n._adapter.diff(r,i,l)>=t-1)return l}return Un[e?Un.indexOf(e):0]}function oG(n){for(let t=Un.indexOf(n)+1,e=Un.length;t<e;++t)if(pp[Un[t]].common)return Un[t]}function YA(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=Xv(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function lG(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),l=t[t.length-1].value;let u,f;for(u=o;u<=l;u=+r.add(u,1,i))f=e[u],f>=0&&(t[f].major=!0);return t}function $A(n,t,e){const i=[],r={},o=t.length;let l,u;for(l=0;l<o;++l)u=t[l],r[u]=l,i.push({value:u,major:!1});return o===0||!e?i:lG(n,i,r,e)}class WA extends dc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new TH._date(t.adapters.date);r.init(e),$u(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:GA(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function f(d){!l&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!u&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!l||!u)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=pi(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=pi(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,l=this.max,u=c7(r,o,l);return this._unit=e.unit||(i.autoSkip?KA(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):aG(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:oG(this._unit),this.initOffsets(r),t.reverse&&u.reverse(),$A(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=Vi(e,0,l),i=Vi(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,l=o.unit||KA(o.minUnit,e,i,this._getLabelCapacity(e)),u=Jt(r.ticks.stepSize,1),f=l==="week"?o.isoWeekday:!1,d=Pm(f)||f===!0,g={};let _=e,v,T;if(d&&(_=+t.startOf(_,"isoWeek",f)),_=+t.startOf(_,d?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const S=r.ticks.source==="data"&&this.getDataTimestamps();for(v=_,T=0;v<i;v=+t.add(v,u,l),T++)YA(g,v,S);return(v===i||r.bounds==="ticks"||T===1)&&YA(g,v,S),Object.keys(g).sort(qA).map(R=>+R)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,l=e||r[o];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,r){const o=this.options,l=o.ticks.callback;if(l)return ye(l,[t,e,i],this);const u=o.time.displayFormats,f=this._unit,d=this._majorUnit,g=f&&u[f],_=d&&u[d],v=i[e],T=d&&_&&v&&v.major;return this._adapter.format(t,r||(T?_:g))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=mo(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),l=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*l,h:i*l+u*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,$A(this,[t],this._majorUnit),r),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(GA(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return eD(t.sort(qA))}}function Pd(n,t,e){let i=0,r=n.length-1,o,l,u,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=c_(n,"pos",t)),{pos:o,time:u}=n[i],{pos:l,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=c_(n,"time",t)),{time:o,pos:u}=n[i],{time:l,pos:f}=n[r]);const d=l-o;return d?u+(f-u)*(t-o)/d:u}class CG extends WA{static id="timeseries";static defaults=WA.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Pd(e,this.min),this._tableRange=Pd(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let l,u,f,d,g;for(l=0,u=t.length;l<u;++l)d=t[l],d>=e&&d<=i&&r.push(d);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=r.length;l<u;++l)g=r[l+1],f=r[l-1],d=r[l],Math.round((g+f)/2)!==d&&o.push({time:d,pos:l/(u-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Pd(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Pd(this._table,i*this._tableRange+this._minPos,!0)}}const OD="label";function XA(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function cG(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function PD(n,t){n.labels=t}function VD(n,t,e=OD){const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(l=>l[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function uG(n,t=OD){const e={labels:[],datasets:[]};return PD(e,n.labels),VD(e,n.datasets,t),e}function hG(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:l,data:u,options:f,plugins:d=[],fallbackContent:g,updateMode:_,...v}=n,T=Z.useRef(null),S=Z.useRef(null),R=()=>{T.current&&(S.current=new mp(T.current,{type:l,data:uG(u,o),options:f&&{...f},plugins:d}),XA(t,S.current))},k=()=>{XA(t,null),S.current&&(S.current.destroy(),S.current=null)};return Z.useEffect(()=>{!r&&S.current&&f&&cG(S.current,f)},[r,f]),Z.useEffect(()=>{!r&&S.current&&PD(S.current.config.data,u.labels)},[r,u.labels]),Z.useEffect(()=>{!r&&S.current&&u.datasets&&VD(S.current.config.data,u.datasets,o)},[r,u.datasets]),Z.useEffect(()=>{S.current&&(r?(k(),setTimeout(R)):S.current.update(_))},[r,f,u.labels,u.datasets,_]),Z.useEffect(()=>{S.current&&(k(),setTimeout(R))},[l]),Z.useEffect(()=>(R(),()=>k()),[]),C.jsx("canvas",{ref:T,role:"img",height:e,width:i,...v,children:g})}const fG=Z.forwardRef(hG);function dG(n,t){return mp.register(t),Z.forwardRef((e,i)=>C.jsx(fG,{...e,ref:i,type:n}))}const mG=dG("bar",xH);mp.register(nG,rG,Vq,qq,Zq,Fq);const pG=()=>{const[n,t]=Z.useState([]),[e,i]=Z.useState(!0),[r,o]=Z.useState(!1),[l,u]=Z.useState(null);Z.useEffect(()=>{const S=ER(X_(go,"products"),wR("name")),R=CR(S,k=>{const P=k.docs.map(B=>({id:B.id,...B.data()}));t(P),i(!1)});return()=>R()},[]);const f=async(S,R)=>{const k=n.find(P=>P.id===S);if(k){const P=Math.max(0,k.count+R);await AR(oh(go,"products",S),{count:P})}},d=async S=>{confirm("Bu rn envanterden silmek istediinize emin misiniz?")&&await F3(oh(go,"products",S))},g=S=>{u(S),o(!0)},_=()=>{u(null),o(!0)},v={labels:n.map(S=>S.name),datasets:[{label:"Stok Miktar",data:n.map(S=>S.count),backgroundColor:"#c68e5a",borderRadius:20,hoverBackgroundColor:"#3d3730"}]},T={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#3d3730",padding:16,titleFont:{size:14,weight:"bold"},bodyFont:{size:13},cornerRadius:15,displayColors:!1}},scales:{y:{beginAtZero:!0,grid:{color:"#f8f1e7"},ticks:{font:{weight:"bold",size:11},color:"#a7a195"}},x:{grid:{display:!1},ticks:{font:{weight:"bold",size:11},color:"#a7a195",maxRotation:45,minRotation:45}}}};return e?null:C.jsxs("div",{className:"space-y-12 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[C.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[C.jsxs("div",{className:"xl:col-span-2 bg-white p-10 rounded-[4rem] border border-espresso-50 shadow-sm shadow-espresso-900/5",children:[C.jsxs("div",{className:"flex justify-between items-center mb-10",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-[10px] font-black text-espresso-300 uppercase tracking-widest mb-1",children:"Stok Analizi"}),C.jsx("h3",{className:"text-2xl font-black text-espresso-900 tracking-tighter",children:"Mevcut Kavrumlar"})]}),C.jsx("div",{className:"p-4 bg-latte text-caramel rounded-3xl",children:C.jsx(op,{size:24})})]}),C.jsx("div",{className:"h-80",children:C.jsx(mG,{data:v,options:T})})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"bg-espresso-900 p-10 rounded-[4rem] text-crema shadow-[0_20px_40px_-10px_rgba(61,55,48,0.3)] relative overflow-hidden group",children:[C.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-caramel opacity-10 rounded-full -mr-16 -mt-16 blur-3xl group-hover:opacity-20 transition-opacity"}),C.jsx(BR,{className:"mb-6 opacity-30 text-caramel",size:40}),C.jsx("p",{className:"text-espresso-300 text-[10px] font-black uppercase tracking-widest mb-1",children:"Toplam eit"}),C.jsx("h4",{className:"text-5xl font-black italic tracking-tighter",children:n.length})]}),C.jsxs("div",{className:"bg-white p-10 rounded-[4rem] border border-espresso-50 shadow-sm border-l-[12px] border-l-caramel",children:[C.jsx(gw,{className:"text-caramel mb-6",size:40}),C.jsx("p",{className:"text-espresso-300 text-[10px] font-black uppercase tracking-widest mb-1",children:"Eksik Stok"}),C.jsx("h4",{className:"text-5xl font-black text-espresso-900 italic tracking-tighter",children:n.filter(S=>S.count<10).length})]})]})]}),C.jsxs("div",{className:"bg-white rounded-[4rem] border border-espresso-50 shadow-sm overflow-hidden",children:[C.jsxs("div",{className:"p-12 border-b flex flex-col md:flex-row justify-between items-center gap-6 bg-crema/20",children:[C.jsxs("div",{className:"flex items-center space-x-4",children:[C.jsx("div",{className:"w-2 h-8 bg-caramel rounded-full"}),C.jsx("h3",{className:"text-2xl font-black text-espresso-900 tracking-tighter",children:"Envanter Arivi"})]}),C.jsxs("div",{className:"flex items-center space-x-4",children:[C.jsxs("button",{onClick:()=>{const S=`data:text/csv;charset=utf-8,rn Ad,Fiyat,Stok
`+n.map(P=>`${P.name},${P.price??0},${P.count??0}`).join(`
`),R=encodeURI(S),k=document.createElement("a");k.setAttribute("href",R),k.setAttribute("download","kahve_stok_raporu.csv"),document.body.appendChild(k),k.click(),he.success("Stok raporu hazrland!",{style:{borderRadius:"1rem",background:"#3d3730",color:"#fff",fontWeight:"bold"}})},className:"text-espresso-500 hover:text-caramel font-black text-[10px] uppercase tracking-[0.2em] flex items-center space-x-3 bg-white px-8 py-5 rounded-[1.5rem] border border-espresso-100 shadow-sm transition-all hover:shadow-lg",children:[C.jsx(J6,{size:16}),C.jsx("span",{children:"Rapor Al"})]}),C.jsxs("button",{onClick:_,className:"bg-espresso-800 text-crema px-10 py-5 rounded-[1.5rem] font-black text-xs uppercase tracking-[0.2em] shadow-xl shadow-espresso-900/10 hover:bg-caramel transition-all flex items-center space-x-3 active:scale-95",children:[C.jsx(FR,{size:18}),C.jsx("span",{children:"Yeni rn"})]})]})]}),C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"w-full text-left",children:[C.jsx("thead",{className:"bg-espresso-50/30 text-espresso-400 text-[10px] font-black uppercase tracking-[0.2em] border-b border-espresso-50",children:C.jsxs("tr",{children:[C.jsx("th",{className:"p-10",children:"Katalog Detay"}),C.jsx("th",{className:"p-10 text-center",children:"Birim Fiyat"}),C.jsx("th",{className:"p-10 text-center",children:"Stok Adedi"}),C.jsx("th",{className:"p-10 text-right",children:"lemler"})]})}),C.jsx("tbody",{className:"divide-y divide-espresso-50",children:n.map(S=>C.jsxs("tr",{className:"hover:bg-crema/40 transition-colors group",children:[C.jsx("td",{className:"p-10",children:C.jsxs("div",{className:"flex items-center space-x-6",children:[C.jsxs("div",{className:"relative",children:[C.jsx("img",{src:S.imageUrl,className:"w-20 h-20 rounded-[1.8rem] object-cover shadow-md group-hover:scale-110 transition-transform duration-500"}),S.count<10&&C.jsx("div",{className:"absolute -top-3 -right-3 bg-caramel text-white w-8 h-8 rounded-full flex items-center justify-center border-4 border-white shadow-xl animate-pulse",children:C.jsx(gw,{size:14})})]}),C.jsxs("div",{className:"flex flex-col",children:[C.jsx("span",{className:"font-black text-espresso-900 tracking-tight text-lg",children:S.name}),C.jsx("span",{className:"text-[10px] font-black text-espresso-300 uppercase tracking-widest mt-1",children:"Sektr: Gurme Kahve"})]})]})}),C.jsx("td",{className:"p-10 text-center",children:C.jsxs("span",{className:"font-black text-caramel italic text-xl",children:["",(S.price??0).toLocaleString()]})}),C.jsx("td",{className:"p-10",children:C.jsxs("div",{className:"flex items-center justify-center space-x-5",children:[C.jsx("button",{onClick:()=>f(S.id,-1),className:"w-12 h-12 bg-espresso-50 rounded-2xl flex items-center justify-center text-espresso-400 hover:bg-espresso-900 hover:text-crema transition shadow-sm font-black text-lg",children:"-"}),C.jsx("div",{className:"w-16 h-16 bg-white border border-espresso-100 rounded-[1.2rem] flex items-center justify-center shadow-inner",children:C.jsx("span",{className:`font-black text-2xl ${(S.count??0)<10?"text-caramel":"text-espresso-800"}`,children:S.count})}),C.jsx("button",{onClick:()=>f(S.id,1),className:"w-12 h-12 bg-espresso-50 rounded-2xl flex items-center justify-center text-espresso-400 hover:bg-espresso-900 hover:text-crema transition shadow-sm font-black text-lg",children:"+"})]})}),C.jsx("td",{className:"p-10 text-right",children:C.jsxs("div",{className:"flex items-center justify-end space-x-4 opacity-0 group-hover:opacity-100 transition-all duration-300 translate-x-4 group-hover:translate-x-0",children:[C.jsx("button",{onClick:()=>g(S),className:"p-5 bg-latte rounded-2xl text-caramel hover:bg-caramel hover:text-white transition shadow-sm",children:C.jsx(Tz,{size:20})}),C.jsx("button",{onClick:()=>d(S.id),className:"p-5 bg-espresso-50 rounded-2xl text-espresso-300 hover:bg-red-500 hover:text-white transition shadow-sm",children:C.jsx(HR,{size:20})})]})})]},S.id))})]})})]}),C.jsx(T8,{isOpen:r,onClose:()=>o(!1),product:l})]})},gG=[{id:1,title:"Kusursuz V60 Demleme Rehberi: Bilim ve Sanat",category:"Demleme Yntemleri",image:"https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?auto=format&fit=crop&q=80&w=800",excerpt:"Hario V60 ile berrak, asidik ve aromatik bir kupa elde etmenin tm detaylar. Dk tekniklerinden su kimyasna yolculuk.",content:`
            Hario V60, dnya apnda en popler manuel demleme yntemlerinden biridir. smini gvdesinin 60 derecelik asndan alan bu yntem, doru uygulandnda kahvenin en ince aromalarn ortaya karr.

            **1. Hazrlk ve Malzemeler**
            yi bir demleme iin sadece kahve ve su yetmez. Bir tart (hassas terazi), zamanlayc ve ince ulu bir dk kettle' (gooseneck) hayati nem tar. Kahveniz "orta-ince" tlm olmaldr (deniz tuzu kvamndan biraz daha ince).

            **2. Su ve Scaklk Dengesi**
            Kullandnz suyun kalitesi, kupanzn %98'ini oluturur. Musluk suyu yerine yumuak iimli bir kaynak suyu tavsiye edilir. deal scaklk 92C - 94C arasdr. ok scak su acla (over-extraction), ok souk su ise ekilie (under-extraction) neden olur.

            **3. Demleme Rutini (15g Kahve / 250ml Su)**
            *   **n Islatma (Blooming):** 30-45 gram su dkerek kahvenin iindeki CO2 gaznn kmasn bekleyin. 30 saniye boyunca kahvenin "kprmesini" izlemek, asl demlenme iin yolu aar.
            *   **Dairesek Dk:** Dtan ie deil, merkezden da doru yava ve dairesel hareketlerle suyu ekleyin. Kat filtreye asla dorudan su dkmeyin, bu suyun kahveye temas etmeden aa gemesine neden olur.
            *   **Biti:** Toplam demleme sreniz 2:30 ile 3:00 dakika arasnda bitmelidir. Eer daha uzun sryorsa kahveyi biraz daha kaln tmeyi deneyin.

            Hario V60, sabr ve pratik gerektiren bir disiplindir. Her denemede asidite ve gvde dengesini biraz daha iyi anlayacaksnz.
        `,author:"Barista Emre",date:"12 Mart 2024",readTime:"8 dk",icon:C.jsx(op,{className:"text-caramel",size:24})},{id:2,title:"Kahve ekirdeklerinin DNA's: Arabica vs Robusta",category:"Kahve Bilimi",image:"https://images.unsplash.com/photo-1447933601403-0c6688de566e?auto=format&fit=crop&q=80&w=800",excerpt:"tiiniz kahvenin karakterini belirleyen genetik miras. Ykseklik, iklim ve ilem yntemlerinin lezzet zerindeki etkisi.",content:`
            Kahve dnyasnda binlerce tr olsa da ticari olarak iki ana tr baskndr. Ancak bir gurme iin bu iki tr arasndaki fark gece ve gndz gibidir.

            **Arabica (Coffea Arabica): Sofistike ve Hassas**
            Dnya retiminin %60-70'ini oluturur. Arabica bitkileri genellikle deniz seviyesinden 800 - 2200 metre ykseklikte yetiir. Ykseklik arttka oksijen azalr, meyve daha yava olgunlar ve bu da ekirdein iine daha kompleks asitler, ekerler ve aromatik yalar dolmasn salar. Arabica, 44 kromozomlu yapsyla genetik olarak ok daha "lezzet odakldr".

            **Robusta (Coffea Canephora): Gl ve Direnli**
            Daha dk rakmlarda yetiebilir ve hastalklara kar ok direnlidir. 22 kromozomludur. Robusta'nn en belirgin fark kafein orandr. Arabica'nn yaklak iki kat kafein ierir. Bu yksek kafein aslnda bitkinin kendisini bceklerden korumak iin kulland bir zehirdir. Lezzet olarak daha topraks, odunsu ve bazen lastii andran notalara sahiptir. Genellikle kaliteli krema verdii iin espresso karmlarnda (blend) gvde artrc olarak kullanlr.

            **Yetime Blgesinin nemi**
            *   **Afrika (Etiyopya, Kenya):** Floral, meyvemsi ve yksek asidite.
            *   **Gney Amerika (Brezilya, Kolombiya):** ikolatal, fndks ve dengeli.
            *   **Asya (Endonezya, Vietnam):** Baharatl, ar gvdeli ve isli notalar.

            Bir sonraki fincannzda paketin zerindeki rakm kontrol edin; 1500 metrenin zerindeki ekirdekler sizi artacak aromalar saklyor olabilir.
        `,author:"Zeynep Aras",date:"14 Mart 2024",readTime:"10 dk",icon:C.jsx(oz,{className:"text-espresso-400",size:24})},{id:3,title:"Kavurma Dereceleri ve Tat Profilleri",category:"retim",image:"https://images.unsplash.com/photo-1511537190424-bbbab87ac5eb?auto=format&fit=crop&q=80&w=800",excerpt:"i yeil ekirdekten aromatik kahveye dnm. Light, Medium ve Dark roast arasndaki kimyasal farklar.",content:`
            Kahve kavurma, bir kimya deneyidir. Yeil ekirdeklerin iindeki hcre yaps stldnda milyarlarca aromatik bileik serbest kalr.

            **Light Roast (Hafif Kavrum)**
            Bu kavrum trnde ekirdein orijinal karakteri korunur. "First crack" (ilk tlama) sonras hemen sonlandrlr. Asidite ok yksektir, meyve ve iek notalar baskndr. Eer kaliteli bir tek kkenli (single origin) kahve iiyorsanz, asl lezzeti buradan alrsnz.

            **Medium Roast (Orta Kavrum)**
            ekerlerin karamelize olmaya balad aamadr. Asidite biraz azalrken gvde artar. ikolata ve tatl notalar daha belirgindir. "Her damak tadna uygun" denilen profil genellikle budur.

            **Dark Roast (Koyu Kavrum)**
            "Second crack" aamasna kadar devam edilir. ekirdeklerin d yzeyinde yalar belirir. Artk ekirdein zgn lezzeti deil, kavurma makinesinin (is, kl, bitter) lezzeti hissedilir. Geleneksel talyan espressolar ve stl iecekler iin idealdir nk stle kartnda kahve tad kaybolmaz.

            Kavurma sreci kahvenin gvdesini ve dokusunu belirleyen en kritik admdr.
        `,author:"Mert Kavruk",date:"15 Mart 2024",readTime:"9 dk",icon:C.jsx(rz,{className:"text-caramel",size:24})}],yG=()=>{const[n,t]=Z.useState(null);return C.jsxs("div",{className:"space-y-10 pb-20 max-w-7xl mx-auto",children:[C.jsxs(lo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative overflow-hidden rounded-[3rem] bg-espresso-900 p-10 lg:p-16 border border-espresso-800 shadow-xl",children:[C.jsx("div",{className:"absolute top-0 right-0 w-full h-full bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-caramel/10 via-transparent to-transparent pointer-events-none"}),C.jsxs("div",{className:"relative z-10 max-w-3xl",children:[C.jsxs(lo.span,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"inline-flex items-center space-x-2 bg-caramel/20 text-caramel px-4 py-2 rounded-full text-[9px] font-black uppercase tracking-[0.3em] mb-4 border border-caramel/20",children:[C.jsx(G6,{size:14}),C.jsx("span",{children:"Barista Rehberi"})]}),C.jsxs("h1",{className:"text-4xl lg:text-6xl font-black text-crema tracking-tighter leading-none mb-6 italic",children:["Kahve ",C.jsx("span",{className:"text-caramel",children:"Notlar"})]}),C.jsx("p",{className:"text-espresso-300 text-lg leading-relaxed font-medium max-w-2xl",children:"ekirdeklerin DNA'sndan kusursuz bir demlemenin matematiine kadar; kahve akna dair her ey."})]})]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:gG.map((e,i)=>C.jsxs(lo.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.1},onClick:()=>t(e),className:"group bg-white rounded-[2.5rem] border border-espresso-100 p-6 hover:shadow-2xl transition-all duration-700 cursor-pointer overflow-hidden relative",children:[C.jsxs("div",{className:"relative h-60 overflow-hidden rounded-[2rem] mb-8",children:[C.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover group-hover:scale-110 transition duration-[2000ms] ease-out"}),C.jsx("div",{className:"absolute top-4 left-4 bg-white/90 backdrop-blur-xl px-4 py-2 rounded-full shadow-lg",children:C.jsx("span",{className:"text-[9px] font-black text-espresso-900 uppercase tracking-widest",children:e.category})})]}),C.jsxs("div",{className:"flex items-start space-x-4 mb-6",children:[C.jsx("div",{className:"p-3 bg-espresso-50 rounded-[1.2rem]",children:e.icon}),C.jsxs("div",{children:[C.jsx("h3",{className:"text-xl font-black text-espresso-900 tracking-tight leading-snug group-hover:text-caramel transition-colors duration-500",children:e.title}),C.jsxs("div",{className:"flex items-center space-x-2 mt-2 text-espresso-400 text-[9px] font-black uppercase tracking-widest",children:[C.jsx(pw,{size:10}),C.jsxs("span",{children:[e.readTime," OKUMA SRES"]})]})]})]}),C.jsx("p",{className:"text-espresso-500/80 font-medium leading-relaxed mb-6 line-clamp-2 text-sm italic",children:e.excerpt}),C.jsxs("div",{className:"flex items-center justify-between border-t border-espresso-50 pt-6",children:[C.jsx("div",{className:"flex items-center space-x-2 text-espresso-800",children:C.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:e.author})}),C.jsxs("div",{className:"flex items-center text-caramel font-black text-[10px] uppercase tracking-widest space-x-1 group-hover:translate-x-2 transition-transform duration-500",children:[C.jsx("span",{children:"REHBER NCELE"}),C.jsx(hz,{size:14})]})]})]},e.id))}),C.jsx(lo.div,{whileInView:{opacity:1,scale:1},initial:{opacity:0,scale:.95},className:"bg-espresso-900 rounded-[3rem] p-12 text-center text-crema relative overflow-hidden shadow-2xl",children:C.jsxs("div",{className:"relative z-10 w-full max-w-2xl mx-auto",children:[C.jsx(op,{size:36,className:"text-caramel mx-auto mb-6"}),C.jsx("h2",{className:"text-3xl font-black italic tracking-tighter mb-4",children:'"Fincanndaki her yudum bir hikayedir."'}),C.jsx("p",{className:"text-espresso-300 text-sm font-medium tracking-wide",children:"Kendi demlenme yolculuuna bala. Bilgiyle tazelen."})]})}),C.jsx(fF,{children:n&&C.jsxs(lo.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-6",children:[C.jsx("div",{className:"absolute inset-0 bg-espresso-950/95 backdrop-blur-2xl",onClick:()=>t(null)}),C.jsxs(lo.div,{initial:{scale:.9,y:50,opacity:0},animate:{scale:1,y:0,opacity:1},exit:{scale:.9,y:50,opacity:0},className:"bg-crema w-full max-w-5xl max-h-[90vh] rounded-[4rem] overflow-hidden shadow-2xl relative z-10 flex flex-col md:flex-row border border-white/20",children:[C.jsx("button",{onClick:()=>t(null),className:"absolute top-8 right-8 z-20 bg-espresso-900 text-crema p-4 rounded-full hover:bg-caramel transition-all duration-300 shadow-xl",children:C.jsx(H6,{size:24})}),C.jsx("div",{className:"w-full md:w-[40%] h-64 md:h-auto overflow-hidden",children:C.jsx("img",{src:n.image,className:"w-full h-full object-cover",alt:""})}),C.jsxs("div",{className:"flex-1 p-10 md:p-16 overflow-y-auto custom-scrollbar",children:[C.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[C.jsx("span",{className:"bg-caramel text-white px-4 py-2 rounded-full text-[9px] font-black uppercase tracking-widest shadow-lg shadow-caramel/20",children:n.category}),C.jsx("span",{className:"text-espresso-300 text-[9px] font-black uppercase tracking-widest",children:n.date})]}),C.jsx("h2",{className:"text-4xl md:text-6xl font-black text-espresso-900 tracking-tighter leading-none mb-10",children:n.title}),C.jsxs("div",{className:"flex items-center space-x-10 mb-12 py-6 border-y border-espresso-100/50",children:[C.jsxs("div",{className:"flex items-center space-x-3 text-espresso-600",children:[C.jsx("div",{className:"w-10 h-10 bg-latte rounded-2xl flex items-center justify-center text-caramel",children:C.jsx(qR,{size:18})}),C.jsxs("div",{className:"flex flex-col",children:[C.jsx("span",{className:"text-[10px] font-black text-espresso-300 uppercase tracking-widest leading-none mb-1",children:"Yazar"}),C.jsx("span",{className:"text-sm font-bold",children:n.author})]})]}),C.jsxs("div",{className:"flex items-center space-x-3 text-espresso-600",children:[C.jsx("div",{className:"w-10 h-10 bg-latte rounded-2xl flex items-center justify-center text-caramel",children:C.jsx(pw,{size:18})}),C.jsxs("div",{className:"flex flex-col",children:[C.jsx("span",{className:"text-[10px] font-black text-espresso-300 uppercase tracking-widest leading-none mb-1",children:"Sre"}),C.jsx("span",{className:"text-sm font-bold",children:n.readTime})]})]})]}),C.jsx("div",{className:"space-y-6",children:n.content.split(`
`).map((e,i)=>{const r=e.trim();return r?r.startsWith("**")?C.jsx("h4",{className:"text-2xl font-black text-espresso-900 tracking-tight mt-10 mb-4 italic",children:r.replace(/\*\*/g,"")},i):r.startsWith("*")?C.jsxs("div",{className:"flex items-start space-x-4 ml-4 mb-2",children:[C.jsx("div",{className:"w-2 h-2 rounded-full bg-caramel mt-2.5 flex-shrink-0"}),C.jsx("p",{className:"text-espresso-700 text-lg font-medium leading-relaxed",children:r.replace(/^\*\s+/,"")})]},i):C.jsx("p",{className:"text-espresso-700 text-lg leading-relaxed font-medium mb-4",children:r},i):null})})]})]})]})})]})};class _G extends wN.Component{state={hasError:!1,error:null};static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?C.jsxs("div",{className:"p-10 bg-red-50 text-red-900 min-h-screen font-sans",children:[C.jsx("h1",{className:"text-2xl font-black mb-4",children:"Bir Hata Olutu"}),C.jsx("p",{className:"mb-4 font-bold text-slate-600",children:"Ltfen tarayc konsoluna bakn veya sayfay yenileyin."}),C.jsx("pre",{className:"bg-white p-6 rounded-3xl border border-red-100 overflow-auto max-w-full",children:this.state.error?.toString()}),C.jsx("button",{onClick:()=>window.location.reload(),className:"mt-8 bg-red-600 text-white px-8 py-4 rounded-2xl font-black uppercase text-xs tracking-widest",children:"Sayfay Yenile"})]}):this.props.children}}const vG=()=>{const[n,t]=Z.useState(""),[e,i]=Z.useState(""),[r,o]=Z.useState(!1),[l,u]=Z.useState(""),[f,d]=Z.useState(!1),g=async _=>{_.preventDefault(),d(!0),u("");try{await rV(lv,n,e)}catch{u("Hatal e-posta veya ifre.")}finally{d(!1)}};return C.jsx("div",{className:"min-h-screen bg-espresso-900 flex items-center justify-center p-6 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-espresso-800 via-espresso-900 to-black",children:C.jsxs("div",{className:"bg-crema p-12 rounded-[3.5rem] w-full max-w-md shadow-2xl relative overflow-hidden group",children:[C.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-caramel/5 rounded-full -mr-16 -mt-16 blur-3xl group-hover:bg-caramel/10 transition-colors"}),C.jsxs("div",{className:"relative text-center mb-10",children:[C.jsx("div",{className:"w-16 h-16 bg-caramel rounded-[1.5rem] flex items-center justify-center mx-auto mb-6 shadow-xl shadow-caramel/20",children:C.jsx(hv,{className:"text-white",size:32})}),C.jsx("h1",{className:"text-4xl font-black text-espresso-900 italic tracking-tighter mb-2",children:"SmartStock"}),C.jsx("p",{className:"text-espresso-400 font-bold uppercase tracking-widest text-[10px]",children:"Barista Envanter Ekosistemi"})]}),C.jsxs("form",{onSubmit:g,className:"space-y-6",children:[l&&C.jsx("div",{className:"bg-red-50 text-red-500 p-4 rounded-2xl text-sm font-bold border border-red-100 text-center animate-in shake duration-300",children:l}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"space-y-1",children:[C.jsx("label",{className:"text-[10px] font-black text-espresso-400 uppercase tracking-widest ml-1",children:"E-Posta Adresi"}),C.jsx("input",{type:"email",placeholder:"barista@coffee.com",value:n,onChange:_=>t(_.target.value),required:!0,className:"w-full bg-espresso-50/50 border border-espresso-100 p-5 rounded-[1.5rem] outline-none focus:border-caramel focus:ring-4 focus:ring-caramel/5 transition-all duration-300 font-medium"})]}),C.jsxs("div",{className:"space-y-1",children:[C.jsx("label",{className:"text-[10px] font-black text-espresso-400 uppercase tracking-widest ml-1",children:"ifre"}),C.jsxs("div",{className:"relative",children:[C.jsx("input",{type:r?"text":"password",placeholder:"",value:e,onChange:_=>i(_.target.value),required:!0,className:"w-full bg-espresso-50/50 border border-espresso-100 p-5 rounded-[1.5rem] outline-none focus:border-caramel focus:ring-4 focus:ring-caramel/5 transition-all duration-300 font-medium"}),C.jsx("button",{type:"button",onClick:()=>o(!r),className:"absolute right-5 top-1/2 -translate-y-1/2 text-espresso-200 hover:text-espresso-400 transition-colors",children:r?C.jsx(ez,{size:20}):C.jsx(iz,{size:20})})]})]})]}),C.jsx("button",{type:"submit",disabled:f,className:"w-full bg-espresso-800 text-crema py-5 rounded-[1.5rem] font-black hover:bg-caramel transition-all duration-500 shadow-xl shadow-espresso-900/10 active:scale-[0.98] disabled:opacity-50 flex items-center justify-center space-x-3",children:f?C.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):C.jsxs(C.Fragment,{children:[C.jsx(pz,{size:20}),C.jsx("span",{className:"uppercase tracking-widest",children:"Giri Yap"})]})})]}),C.jsx("p",{className:"text-center mt-8 text-espresso-400 text-xs font-bold uppercase tracking-widest letter-spacing-widest",children:"Kahve akyla ynetilen stoklar."})]})})},bG=()=>{const{user:n,loading:t}=DR(),[e,i]=Z.useState("market");return t?C.jsxs("div",{className:"h-screen w-screen flex flex-col items-center justify-center bg-slate-900 overflow-hidden relative",children:[C.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-indigo-500/10 via-transparent to-transparent animate-pulse"}),C.jsxs("div",{className:"relative flex flex-col items-center",children:[C.jsx("div",{className:"w-20 h-20 bg-indigo-600 rounded-[2rem] flex items-center justify-center shadow-2xl shadow-indigo-500/40 mb-8 animate-bounce",children:C.jsx(hv,{className:"text-white",size:40})}),C.jsxs("div",{className:"flex space-x-2",children:[C.jsx("div",{className:"w-3 h-3 bg-indigo-500 rounded-full animate-bounce [animation-delay:-0.3s]"}),C.jsx("div",{className:"w-3 h-3 bg-indigo-500 rounded-full animate-bounce [animation-delay:-0.15s]"}),C.jsx("div",{className:"w-3 h-3 bg-indigo-500 rounded-full animate-bounce"})]})]})]}):n?C.jsx(Sj,{activePage:e,onPageChange:i,children:e==="dashboard"?C.jsx(pG,{}):e==="blog"?C.jsx(yG,{}):C.jsx(x8,{})}):C.jsx(vG,{})},xG=()=>C.jsx(_G,{children:C.jsx(Y3,{children:C.jsxs(V6,{children:[C.jsx(bG,{}),C.jsx(P6,{position:"bottom-right"})]})})});EN.createRoot(document.getElementById("root")).render(C.jsx(xG,{}));
